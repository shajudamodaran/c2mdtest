"use strict";(self.webpackChunkconnect2mydoctor=self.webpackChunkconnect2mydoctor||[]).push([[3507],{95510:function(e,t,n){n.d(t,{ES:function(){return l},nD:function(){return o},vc:function(){return i},xN:function(){return s}});var a=n(72426),r=n.n(a);var i=function(e){if(e){var t=e.split(" ");return{date:t[0],time:t[1]}}},s=function(e){if(e)return r()(e).format("DD-MMM-YYYY")},o=function(e){if(e)return r()(e).subtract(3,"months").format("DD-MMM-YYYY")},l=function(e){if(e)return r()(e).subtract(1,"year").format("DD-MMM-YYYY")}},50672:function(e,t,n){n.d(t,{Ax:function(){return h},Ps:function(){return d},zj:function(){return u},A8:function(){return m},pO:function(){return v},Wp:function(){return f},tm:function(){return p}});var a=n(15861),r=n(87757),i=n.n(r),s=n(5557);function o(){var e=JSON.parse(localStorage.getItem("userData"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}var l=n(95510),c=n(44234),d=function(){return function(){var e=(0,a.Z)(i().mark((function e(t){var n,a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={requestType:"1062",browserTimeZone:"",version:"2",data:{type:"department"}},e.next=3,s.Z.post("getdepartments",n,{headers:o()});case 3:if("200"!=(a=e.sent).status){e.next=12;break}if("FAILURE"==a.data.errorType||null===(r=a.data)||void 0===r||!r.data){e.next=9;break}return e.abrupt("return",a.data.data);case 9:localStorage.clear(),localStorage.removeItem("userData"),window.location.href="/home";case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},u=function(e){var t=e.department_id;return function(){var e=(0,a.Z)(i().mark((function e(n){var a,r,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={requestType:"1063",browserTimeZone:"",version:"2",data:{type:"doctor",departmentId:t}},e.next=3,s.Z.post("getdoctors",a,{headers:o()});case 3:if("200"!=(r=e.sent).status){e.next=12;break}if("FAILURE"==r.data.errorType||null===(l=r.data)||void 0===l||!l.data){e.next=9;break}return e.abrupt("return",r.data.data);case 9:localStorage.clear(),localStorage.removeItem("userData"),window.location.href="/home";case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(e){var t=e.offset;return function(){var e=(0,a.Z)(i().mark((function e(n){var a,r,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={requestType:"1070",browserTimeZone:"",version:"2",data:{type:"templatelist",offset:t||0}},e.next=3,s.Z.post("gettemplates",a,{headers:o()});case 3:if("200"!=(r=e.sent).status){e.next=13;break}if(console.log(r),"FAILURE"==r.data.errorType||null===(l=r.data)||void 0===l||!l.data){e.next=10;break}return e.abrupt("return",{data:r.data.data.data,total:r.data.data.totalNumberOfPages});case 10:localStorage.clear(),localStorage.removeItem("userData"),window.location.href="/home";case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(){var t=(0,a.Z)(i().mark((function t(n){var a,r,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={data:{templateId:e},browserTimeZone:"",requestType:1068,version:"2"},t.next=3,s.Z.post("viewtemplate",a,{headers:o()});case 3:if("200"!=(r=t.sent).status){t.next=12;break}if("FAILURE"==r.data.errorType||null===(l=r.data)||void 0===l||!l.data){t.next=9;break}return t.abrupt("return",r.data.data);case 9:localStorage.clear(),localStorage.removeItem("userData"),window.location.href="/home";case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=(0,a.Z)(i().mark((function t(n){var a,r,d,u,m,p;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:c.oF,payload:!0}),a=null!==e&&void 0!==e&&e.fromDate?(0,l.xN)(e.fromDate):null,r=null!==e&&void 0!==e&&e.toDate?(0,l.xN)(e.toDate):null,d=(0,l.xN)(new Date),u={data:{userID:98278532,operation:"find",startDate:a||d,endDate:r||d,browserTimeZone:"GMT+05:30",offset:null!==e&&void 0!==e&&e.offset?e.offset:"0"},browserTimeZone:"",version:"2",requestType:236},t.next=7,s.Z.post("getbethanyprescriptions",u,{headers:o()});case 7:m=t.sent,console.log("getbethanyprescriptionlist responce ->",m),200==m.status&&(console.log(),"FAILURE"!=m.data.errorType&&null!==(p=m.data)&&void 0!==p&&p.data?(n({type:c.j3,payload:{data:m.data.data,total:m.data.data.totalNumberOfPages}}),n({type:c.oF,payload:!1})):(localStorage.clear(),localStorage.removeItem("userData"),window.location.href="/home"));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(){return function(){var e=(0,a.Z)(i().mark((function e(t){var n,a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={data:{userID:"98278532",browserTimeZone:"GMT+05:30"},browserTimeZone:"",requestType:238,version:"2"},e.next=3,s.Z.post("bethanysynclabmedicine",n,{headers:o()});case 3:if("200"!=(a=e.sent).status){e.next=12;break}if("FAILURE"==a.data.errorType||null===(r=a.data)||void 0===r||!r.data){e.next=9;break}return e.abrupt("return",a.data.data);case 9:localStorage.clear(),localStorage.removeItem("userData"),window.location.href="/home";case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(e){return function(){var t=(0,a.Z)(i().mark((function t(n){var a,r,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={data:{userID:"98278532",listid:e},browserTimeZone:"",requestType:237,version:"2"},t.next=3,s.Z.post("bethanysynclabmedicine",a,{headers:o()});case 3:if("200"!=(r=t.sent).status){t.next=13;break}if(console.log(r),"FAILURE"==r.data.errorType||null===(l=r.data)||void 0===l||!l.data){t.next=10;break}return t.abrupt("return",r.data.data);case 10:localStorage.clear(),localStorage.removeItem("userData"),window.location.href="/home";case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},73507:function(e,t,n){n.r(t);var a=n(29439),r=n(93020),i=n(72791),s=n(16030),o=n(79271),l=n(50672),c=(n(10626),n(80184));t.default=function(e){e.location;var t,n,d,u=(0,i.useState)([]),m=(0,a.Z)(u,2),p=m[0],h=m[1],f=(0,i.useState)([]),v=(0,a.Z)(f,2),x=v[0],j=v[1],g=(0,i.useState)(null),y=(0,a.Z)(g,2),b=y[0],w=y[1],N=(0,i.useState)(null),D=(0,a.Z)(N,2),k=D[0],T=D[1];(0,i.useEffect)((function(){var e;T(null===b||void 0===b||null===(e=b.tempData)||void 0===e?void 0:e.consultationDetails)}),[b]);var I="No data available",Z="-",S=(0,o.UO)().prname,C=(0,s.I0)();(0,i.useEffect)((function(){M()}),[]);var M=function(){C((0,l.tm)(S)).then((function(e){var t,n,a,r,i,s;e&&(h(null===(t=e[0])||void 0===t||null===(n=t.tempData)||void 0===n||null===(a=n.consultationDetails)||void 0===a?void 0:a.labTest),j(null===(r=e[0])||void 0===r||null===(i=r.tempData)||void 0===i||null===(s=i.consultationDetails)||void 0===s?void 0:s.medicine),w(e[0]))}))};console.log(k);var O=function(e){var t,n=e.data;return(0,c.jsx)("div",{className:"view-prescription-doctor-list-container-small",children:(0,c.jsx)("ul",{children:(null===(t=n.split(","))||void 0===t?void 0:t.length)>0?n.split(",").map((function(e,t){return(0,c.jsxs)("li",{children:[e,(n.split(",").length,"")," "]})})):null})})},Y=function(e,t){return"first"==t?e?e.split(",")[0]:null:e?e.split(","):[]};return(0,c.jsx)("div",{className:"prescription-form-main-container-view full-height",children:(0,c.jsx)("div",{className:"prescription-form-container-view full-height ",children:(0,c.jsx)("div",{className:"prescription-form-content-container",style:{height:"100vh"},children:(0,c.jsxs)("div",{className:"prescription-form-content",children:[(0,c.jsx)("div",{className:"container"}),(0,c.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%",padding:"1rem",position:"relative",minWidth:"100%",flexWrap:"wrap"},children:[(0,c.jsx)("div",{}),(0,c.jsxs)("ul",{className:"report-list shadow-underline",children:[(0,c.jsxs)("li",{children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("span",{className:"form-small-tittle",children:["Choose Speciality ",(0,c.jsx)("span",{style:{color:"red"},children:"*"})," "]}),(0,c.jsx)("span",{className:"form-caption"})]}),(0,c.jsx)("div",{className:"form-light-background-big",children:(0,c.jsx)("input",{id:"releventPoint",style:{width:"290px"},value:null===b||void 0===b?void 0:b.assignedDepartments,className:"form-input-text",readOnly:!0})})]}),(0,c.jsxs)("li",{children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("span",{className:"form-small-tittle",children:["Choose Doctor ",(0,c.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,c.jsx)("span",{className:"form-caption"})]}),(0,c.jsx)(r.Z,{overlayClassName:"wrapper-popover-view",content:Y(null===b||void 0===b?void 0:b.assignedDoctors).length>1?(0,c.jsx)(O,{data:null===b||void 0===b?void 0:b.assignedDoctors}):null,title:Y(null===b||void 0===b?void 0:b.assignedDoctors).length>1?"Doctors list (".concat(null===b||void 0===b?void 0:b.assignedDoctors.split(",").length,")"):null,children:(0,c.jsx)("div",{className:"form-light-background-big",children:(0,c.jsx)("input",{id:"releventPoint",style:{maxWidth:"290px",minWidth:"290px"},value:Y(null===b||void 0===b?void 0:b.assignedDoctors).length>1?"".concat(Y(null===b||void 0===b?void 0:b.assignedDoctors,"first"),", + ").concat((null===(t=Y(null===b||void 0===b?void 0:b.assignedDoctors))||void 0===t?void 0:t.length)-1):"".concat(Y(null===b||void 0===b?void 0:b.assignedDoctors,"first")),className:"form-input-text",readOnly:!0})})})]}),(0,c.jsxs)("li",{children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("span",{className:"form-small-tittle",children:["Template Name ",(0,c.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,c.jsx)("span",{className:"form-caption"})]}),(0,c.jsx)("div",{className:"form-light-background-big",children:(0,c.jsx)("input",{id:"releventPoint",style:{width:"290px"},value:null===b||void 0===b||null===(n=b.tempData)||void 0===n||null===(d=n.basicinfo)||void 0===d?void 0:d.templateName,className:"form-input-text",readOnly:!0})})]})]}),(0,c.jsx)("span",{className:"form-heading-2",style:{marginTop:"1rem"},children:"Patient Reports"}),(0,c.jsxs)("div",{className:"report-list-container",children:[(0,c.jsxs)("div",{style:{padding:"0rem",display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:"1rem",width:"100%",justifyContent:"space-between"},children:[(0,c.jsxs)("div",{style:{display:"fex",flexDirection:"column"},children:[(0,c.jsx)("span",{className:"form-small-tittle",children:"Chief Complaints"}),(0,c.jsx)("div",{className:"form-light-background-big",children:(0,c.jsx)("textarea",{id:"chiefComplaints",value:k?k.chiefcomplaints:I,className:"form-input-text-area",name:"chiefcomplaints",rows:4,readOnly:!0})})]}),(0,c.jsxs)("div",{style:{display:"fex",flexDirection:"column",marginLeft:"1rem"},children:[(0,c.jsx)("span",{className:"form-small-tittle",children:"Relevant points from history"}),(0,c.jsx)("div",{className:"form-light-background-big",children:(0,c.jsx)("textarea",{id:"releventPoint",value:null!==k&&void 0!==k&&k.notes?k.notes:I,className:"form-input-text-area",rows:4,readOnly:!0})})]})]}),(0,c.jsxs)("div",{style:{padding:".0rem",display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:"1rem",width:"100%",justifyContent:"space-between"},children:[(0,c.jsxs)("div",{style:{display:"fex",flexDirection:"column"},children:[(0,c.jsx)("span",{className:"form-small-tittle",children:"Diagnosis or Provisional Diagnosis"}),(0,c.jsx)("div",{className:"form-light-background-big",children:(0,c.jsx)("textarea",{value:null!==k&&void 0!==k&&k.diagnosis?k.diagnosis:I,id:"diagnosis",className:"form-input-text-area",rows:4,onChange:function(e){},readOnly:!0})})]}),(0,c.jsxs)("div",{style:{display:"fex",flexDirection:"column",marginLeft:"1rem"},children:[(0,c.jsx)("span",{className:"form-small-tittle",children:"Examination/Lab Findings"}),(0,c.jsx)("div",{className:"form-light-background-big",children:(0,c.jsx)("textarea",{id:"examination",value:null!==k&&void 0!==k&&k.investigation?k.investigation:I,className:"form-input-text-area",rows:4,onChange:function(e){},readOnly:!0})})]})]})]}),(0,c.jsx)("div",{className:"separator"}),p.length>0?(0,c.jsxs)("table",{className:"investigations-table",children:[(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:(0,c.jsx)("div",{children:"#"})}),(0,c.jsx)("th",{children:(0,c.jsx)("div",{children:"Investigation Name(s)"})}),(0,c.jsx)("th",{colSpan:"2",children:(0,c.jsx)("div",{children:"Comments/Instructions"})})]}),p.map((function(e,t){return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:t+1}),(0,c.jsx)("td",{children:e.testType?e.testType:Z}),(0,c.jsx)("td",{children:e.testComment?e.testComment:Z})]})}))]}):(0,c.jsx)("div",{className:"no-table-data",children:"( No Investigations found )"}),(0,c.jsx)("div",{className:"separator"}),x.length>0?(0,c.jsx)("div",{className:"medicine-table-container",children:(0,c.jsxs)("table",{className:"medicine-table",children:[(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:(0,c.jsx)("div",{children:"#"})}),(0,c.jsx)("th",{children:(0,c.jsx)("div",{children:"Name of Medicine"})}),(0,c.jsx)("th",{children:(0,c.jsx)("div",{children:"When to have"})}),(0,c.jsx)("th",{children:(0,c.jsx)("div",{children:"Frequency"})}),(0,c.jsx)("th",{children:(0,c.jsx)("div",{children:"Quantity"})}),(0,c.jsx)("th",{children:(0,c.jsx)("div",{children:"Unit"})}),(0,c.jsx)("th",{children:(0,c.jsx)("div",{children:"Starting Date"})}),(0,c.jsx)("th",{children:(0,c.jsx)("div",{children:"No.of Days"})}),(0,c.jsx)("th",{colspan:"2",children:(0,c.jsx)("div",{children:"Instructions"})})]}),x.map((function(e,t){return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:t+1}),(0,c.jsx)("td",{children:e.name?e.name:Z}),(0,c.jsx)("td",{children:e.medtakeMethod?e.medtakeMethod:Z}),(0,c.jsx)("td",{children:e.displayTablet?e.displayTablet:Z}),(0,c.jsxs)("td",{children:[e.quandity?e.quandity:Z," "]}),(0,c.jsx)("td",{children:e.measurement?e.measurement:Z}),(0,c.jsx)("td",{children:e.StartVal?e.StartVal:Z}),(0,c.jsx)("td",{children:e.totalDays?e.totalDays:Z}),(0,c.jsx)("td",{children:e.mediComment?e.mediComment:Z})]})}))]})}):(0,c.jsx)("div",{className:"no-table-data",children:"( No Medicines found )"}),(0,c.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"99%"},children:(0,c.jsx)("span",{className:"form-heading-2",style:{marginTop:"1rem"},children:"Additional Instructions"})}),(0,c.jsx)("div",{className:"form-light-background",style:{width:"45%"},children:(0,c.jsx)("textarea",{value:null!==k&&void 0!==k&&k.instruction?k.instruction:I,className:"form-input-text-area",rows:3,style:{width:"100%"},readOnly:!0})})]})]})})})})}},10626:function(){}}]);
//# sourceMappingURL=3507.d92b51f8.chunk.js.map