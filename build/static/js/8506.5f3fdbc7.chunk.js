"use strict";(self.webpackChunkconnect2mydoctor=self.webpackChunkconnect2mydoctor||[]).push([[8506],{48337:function(e,t,n){n.d(t,{f:function(){return r}});var i=n(15861),a=n(87757),o=n.n(a),r=function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",localStorage.getItem(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},76858:function(e,t,n){n.d(t,{C:function(){return o}});var i,a=n(30168),o=n(17939).ZP.div(i||(i=(0,a.Z)(['\n\npadding:10px 10px;\nbackground-color:white;\ndisplay:"flex";\nborder-radius:5px;\nbox-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\n  \n'])))},46174:function(e,t,n){n.d(t,{nn:function(){return a},t_:function(){return o},x$:function(){return i}});var i="userData",a="C2MDAdmin",o="ClinicAdmin"},5710:function(e,t,n){n.r(t),n.d(t,{default:function(){return ge}});var i=n(29439),a=n(72791),o=n(16030),r=n(79271),s=(n(21739),n(67904)),l=n(90961),d=n(38509),c=n(1413),u=n(93020),p=n(15397),m=n(71666),h=n(95510),f=n(10087),x=n(64926),v=(n(15861),n(93433)),g=n(4942),j=(n(87757),n(10626),n(74569)),y=n.n(j),b=n(13085),N=n(59220),C=n(44234),S="Investigation",D="Medicine",Z=n(80184);var w=function(e){var t=e.state,n=e.setState,i=e.data,a=(e.setData,e.removeIndex),r=e.deletingFrom,s=(0,o.v9)((function(e){return null===e||void 0===e?void 0:e.presctiptionFormReducer})),l=s.investigationData,d=s.medicinesData,c=(0,o.I0)();return(0,Z.jsx)(Z.Fragment,{children:t?(0,Z.jsx)("div",{className:"modal-prescription",children:(0,Z.jsxs)("div",{className:"modal-body-prescription",children:[(0,Z.jsx)("div",{className:"modal-content-prescription",children:"Do you want to delete this ?"}),(0,Z.jsxs)("div",{className:"modal-buttons-prescription",children:[(0,Z.jsx)("button",{className:"modal-cancel-btn-prescription",onClick:function(){n(!1)},children:"No"}),(0,Z.jsx)("button",{className:"modal-ok-btn-prescription",onClick:function(){!function(){if(i)if(r===S){var e=l.filter((function(e,t){return t!==a}));console.log("New removed array==>",e),c({type:C.CG,payload:e})}else{var t=d.filter((function(e){return e.id!==a}));console.log("New removed array==>",t),c({type:C.O4,payload:t})}n(!1)}()},children:"Yes"})]})]})}):null})},k=n(86330);var M=function(e){var t=e.state,n=e.setState,i=e.successMessage,a=e.isPreload,r=e.setEditMode,s=e.clearData;return(0,o.I0)(),console.log(i),(0,Z.jsx)(Z.Fragment,{children:t?(0,Z.jsx)("div",{className:"modal-loader",children:(0,Z.jsxs)("div",{className:"modal-body-prescription",children:[(0,Z.jsx)("div",{className:"modal-content-prescription",children:i||"Success"}),(0,Z.jsx)("div",{className:"modal-buttons-prescription",style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center"},children:(0,Z.jsx)("button",{className:"modal-ok-btn-prescription",onClick:function(){n(!1),a?r(!1):i.includes("successfully")&&s()},children:"Ok"})})]})}):null})},I=n(72426),F=n.n(I),O=n(29529),T=n(8527),P=n(60028),L=n(31549),E=n(37762),A=function(e){46==e.which||8==e.which||(e.which<48||e.which>57||e.target.value.length>9)&&e.preventDefault()},R=function(e){var t,n={status:!1,error:"message"},i=(0,E.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.name){n={status:!0,error:"message"};break}if(a.comment){n={status:!0,error:"message"};break}}}catch(o){i.e(o)}finally{i.f()}return n},q=function(e){var t,n={status:!1,error:"initial"},i=(0,E.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.type){n={status:!0,error:""};break}if(a.name){n={status:!0,error:""};break}if(a.when){n={status:!0,error:""};break}if(a.freequancy){n={status:!0,error:""};break}if(a.quantity){n={status:!0,error:""};break}if(a.unit){n={status:!0,error:""};break}if(a.date){n={status:!0,error:""};break}if(a.days){n={status:!0,error:""};break}if(a.instructions){n={status:!0,error:""};break}}}catch(o){i.e(o)}finally{i.f()}return n},B=function(e){return 0==e?"Add investigation":e>0?"Add Investigations":void 0},W=n(82575);var _=function(e){var t=e.state;return e.setState,(0,Z.jsx)(Z.Fragment,{children:t?(0,Z.jsx)("div",{className:"modal-loader",children:(0,Z.jsxs)("div",{className:"modal-body-prescription",children:[(0,Z.jsx)("div",{className:"modal-content-prescription",children:"Saving Template. Please wait ..."}),(0,Z.jsx)("div",{className:"modal-buttons",style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center"},children:(0,Z.jsx)(W.PuffLoader,{color:"black",loading:!0,size:50})})]})}):null})},H=n(38596),G=n(45987),z=n(11785),U=n(15927),J=n(22186),Y=n(31572);(0,n(41972).ZP)(Y.ZP)((function(e){var t=e.theme;return{minWidth:"110px",width:"100%","label + &":{marginTop:t.spacing(5)},"& .MuiInputBase-input":{borderRadius:4,position:"relative",backgroundColor:t.palette.background.paper,border:"0px solid #ced4da",fontSize:"14px !important",textAlign:"start",padding:".75rem .6rem",transition:t.transitions.create(["border-color","box-shadow"]),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:focus":{borderRadius:4,borderColor:"#ffffff",backgroundColor:"white"}}}}));var V=(0,H.Z)((function(e){var t;return{input:{"&::placeholder":(t={textOverflow:"ellipsis !important",color:"blue !important"},(0,g.Z)(t,"color","rgb(119, 119, 119)!important"),(0,g.Z)(t,"opacity","1 !important"),(0,g.Z)(t,"fontSize","14px !important"),t)},root:{"& .css-16awh2u-MuiAutocomplete-root":{width:"200px"},"& .MuiInputLabel-outlined:not(.MuiInputLabel-shrink)":{transform:"translate(34px, 20px) scale(1);"}},inputRoot:{color:"purple",backgroundColor:"white",padding:"0px",fontSize:"14px",'&[class*="MuiOutlinedInput-root"] .MuiAutocomplete-input:first-child':{paddingLeft:0,margin:"0px",padding:0,fontSize:"14px"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"green",border:0},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"red",border:0},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"purple",border:0}}}}));(0,H.Z)((function(e){return{".MuiAutocomplete-root":{borderRadius:4,backgroundColor:"red"},noBorder:{border:"none"},customTextField:{"& input::placeholder":{fontSize:"20px !important",opacity:1}},"input-label":{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",width:"100%",color:"red"},input:{"&::placeholder":{textOverflow:"ellipsis !important",color:"blue"}}}}));var K=function(e){var t=e.value,n=e.data,o=e.name,r=e.onChange,s=e.id,l=e.placeholder,d=e.isSpeciality,u=(e.selected,e.style,V()),p=a.useState(""),m=(0,i.Z)(p,2),h=(m[0],m[1],(0,U.D)({matchFrom:"start",stringify:function(e){return e}}));return(0,a.useEffect)((function(){d&&console.log(t)}),[]),(0,Z.jsx)(J.Z,{popoverProps:{style:{width:"auto"}},style:{minWidth:300,width:"100%"},value:t,filterOptions:n?h:null,onChange:function(e,t){r({data:t,id:s,key:o})},classes:u,id:"combo-box-demo",options:n||null,renderInput:function(e){return(0,Z.jsx)(z.Z,(0,c.Z)((0,c.Z)({InputProps:{classes:{input:u.input}}},e),{},{placeholder:l}))}})};(0,H.Z)((function(e){var t,n;return{placeholder:(t={color:"#868686"},(0,g.Z)(t,"color","rgb(119, 119, 119)!important"),(0,g.Z)(t,"fontSize","14.5px"),(0,g.Z)(t,"margin","0px"),t),root:{"&.MuiOutlinedInput-root":{backgroundColor:"red !important"},"& .MuiInputBase-root":{padding:0,"& .MuiButtonBase-root":{padding:0,paddingLeft:0},"& .MuiInputBase-input":(n={backgroundColor:"white",padding:".8rem .6rem !important",minHeight:30,cursor:"pointer"},(0,g.Z)(n,"backgroundColor","red !important"),(0,g.Z)(n,"fontSize","14px"),n)}}}}));var Q=n(99401),$=n(42124),X=n(67363),ee=n(60887),te=n(97706),ne=(0,H.Z)((function(e){return{root:{"&.MuiOutlinedInput-root":{backgroundColor:"red !important"},"& .MuiInputBase-root":{padding:0,"& .MuiButtonBase-root":{padding:0,paddingLeft:0},"& .MuiInputBase-input":{backgroundColor:"white",padding:".5rem .6rem",fontSize:"14.8px",minHeight:28,cursor:"pointer"}}},inputRoot:{color:"purple",backgroundColor:"white",padding:"0px","& .MuiFormControl-root MuiTextField-root":{backgroundColor:"red"},'&[class*="MuiOutlinedInput-root"] .MuiAutocomplete-input:first-child':{paddingLeft:0,margin:"0px",padding:0},"& .MuiOutlinedInput-notchedOutline":{borderColor:"green",border:0},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"red",border:0},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"purple",border:0}}}}));var ie=function(e){var t=e.onChange,n=e.name,o=e.isMedTable,r=e.id,s=e.maxDate,l=e.minDate,d=e.placeholder,c=e._value,u=e.error,p=a.useState(null),m=(0,i.Z)(p,2),h=(m[0],m[1]),f=ne(),x=(0,Z.jsx)(ee.Z,{children:(0,Z.jsx)(ee.Z.Item,{onClick:function(){h(null)},children:"Clear date"},"1")}),v=function(e){var t=new Date(e),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];return String(t.getDate()).padStart(2,"0")+"-"+n+"-"+t.getFullYear()};return(0,Z.jsx)($.M,{utils:Q.Z,children:(0,Z.jsx)(te.Z,{overlay:x,trigger:["contextMenu"],children:(0,Z.jsx)(X.M,{error:u,helperText:null,autoOk:!0,classes:f,InputProps:{disableUnderline:!0},maxDate:s,minDate:l,placeholder:d,variant:"inline",value:c?F()(c):null,onChange:function(e){console.log(e),o?(console.log(e,r,n),t({data:v(e),id:r,key:n})):t(n,v(e))},disableToolbar:!1,format:"dd-MMM-yyyy"})})})};var ae=function(e){var t=e.state,n=e.setState;return(0,Z.jsx)(Z.Fragment,{children:t?(0,Z.jsx)("div",{className:"modal",children:(0,Z.jsxs)("div",{className:"modal-body",children:[(0,Z.jsx)("div",{className:"modal-content",children:"Prescription already saved. No changes found"}),(0,Z.jsx)("div",{className:"modal-buttons",style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center"},children:(0,Z.jsx)("button",{className:"modal-ok-btn",onClick:function(){n(!1)},children:"Ok"})})]})}):null})},oe=["data","setSelected"];var re=function(e){var t=e.data,n=(e.setSelected,(0,G.Z)(e,oe)),r=(k.Z.Option,(0,a.useState)(t)),s=(0,i.Z)(r,2),l=(s[0],s[1],(0,a.useState)([])),d=(0,i.Z)(l,2),u=(d[0],d[1],a.useState([])),p=(0,i.Z)(u,2),m=(p[0],p[1],(0,o.I0)()),h=(0,o.v9)((function(e){return null===e||void 0===e?void 0:e.presctiptionFormReducer})),f=h.selectedDoctors,x=h.doctorsList;return(0,Z.jsx)(k.Z,(0,c.Z)((0,c.Z)({value:f,options:function(e){if(e.length>0){for(var t=[],n=0;n<e.length;n++)t.push({label:"".concat(e[n].doctorName),value:e[n].doctorId});return t}}(x),onChange:function(e){var t;t=e,console.log(t),m({type:C.uo,payload:t})},getPopupContainer:function(e){return e.parentNode}},n),{mode:"multiple",style:{width:"300px"},placeholder:"Select doctor",maxTagCount:"responsive"}))},se=(0,H.Z)((function(e){return{quantityRoot:{color:"#FFFFFF",backgroundColor:"#ffffff",opacity:.6,borderRadius:"5px",outline:"0px !importanrt","&:hover":{backgroundColor:"#ffffff",borderRadius:"5px",opacity:1,border:"0px !importanrt"},"&:focus-within":{borderRadius:"5px",opacity:1,border:"0px !importanrt"},"& .MuiOutlinedInput-notchedOutline":(0,g.Z)({border:"1px solid #ffffff"},"border","0px !importanrt"),"&:hover .MuiOutlinedInput-notchedOutline":(0,g.Z)({border:"1px solid #ffffff"},"border","0px !importanrt"),"& .Mui-focused .MuiOutlinedInput-notchedOutline":(0,g.Z)({border:"1px solid #ffffff",borderRadius:"5px 5px 0 0"},"border","0px !importanrt"),"& .Mui-disabled":{color:"#FFFFFF",opacity:.6,border:"0px !importanrt"},"& .Mui-disabled .MuiOutlinedInput-notchedOutline":(0,g.Z)({border:"1px solid #ff0000"},"border","0px !importanrt")},selectRoot:{color:"#FFFFFF",border:0,"& .Mui-focused .MuiOutlinedInput-notchedOutline":{border:"1px solid #484850",borderRadius:"5px 5px 0 0"}},icon:{color:"#FFFFFF"},selectPaper:{backgroundColor:"#ffffff",border:"1px solid #ffffff",borderRadius:"5px",color:"#FFFFFF","& li:hover":{backgroundColor:"#ffffff"}}}})),le=k.Z.Option;var de=function(e){var t=e.preloadData,n=(e.backAction,e.setEditMode),s=(0,o.I0)(),l=((0,r.k6)(),(0,a.useState)([])),d=(0,i.Z)(l,2),p=d[0],m=d[1],h=(0,a.useState)([]),j=(0,i.Z)(h,2),I=j[0],W=j[1],H=(0,a.useState)(JSON.parse(localStorage.getItem("basicinfo"))),G=(0,i.Z)(H,2),z=G[0],U=G[1],J=(0,a.useState)({templateName:!1,doctos:!1,department:!1}),Y=(0,i.Z)(J,2),V=Y[0],Q=Y[1],$=(0,o.v9)((function(e){return null===e||void 0===e?void 0:e.presctiptionFormReducer})),X=($.selectedDataInvestigation,$.selectedDataMedicines,$.submissionData),ee=$.investigationData,te=$.medicinesData,ne=(0,o.v9)((function(e){return null===e||void 0===e?void 0:e.presctiptionFormReducer})),oe=ne.selectedDoctors,de=ne.selectedDepartment,ce=[{name:"Patient Reports",icon:(0,Z.jsx)(O.Z,{})},{name:"Investigations",icon:(0,Z.jsx)(T.Z,{})},{name:"Medicines",icon:(0,Z.jsx)(P.Z,{})},{name:"Additional Instructions",icon:(0,Z.jsx)(L.Z,{})}],ue=(0,a.useState)(!0),pe=(0,i.Z)(ue,2),me=(pe[0],pe[1]);(0,a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("basicinfo"));me(!e)}),[]);var he=(0,a.useState)(ce[0].name),fe=(0,i.Z)(he,2),xe=(fe[0],fe[1]),ve=(0,a.useState)(!1),ge=(0,i.Z)(ve,2),je=ge[0],ye=ge[1],be=(0,a.useState)(null),Ne=(0,i.Z)(be,2),Ce=Ne[0],Se=Ne[1],De=(0,a.useState)(!1),Ze=(0,i.Z)(De,2),we=Ze[0],ke=Ze[1],Me=(0,a.useState)(null),Ie=(0,i.Z)(Me,2),Fe=Ie[0],Oe=Ie[1],Te=(0,a.useState)(null),Pe=(0,i.Z)(Te,2),Le=Pe[0],Ee=Pe[1],Ae=(0,a.useState)(!1),Re=(0,i.Z)(Ae,2),qe=Re[0],Be=Re[1],We=(0,a.useState)(""),_e=(0,i.Z)(We,2),He=_e[0],Ge=_e[1],ze=(0,a.useState)(!1),Ue=(0,i.Z)(ze,2),Je=Ue[0],Ye=Ue[1],Ve=(0,a.useState)(!1),Ke=(0,i.Z)(Ve,2),Qe=(Ke[0],Ke[1],(0,a.useState)(!1)),$e=(0,i.Z)(Qe,2),Xe=$e[0],et=$e[1],tt=(0,a.useState)(!1),nt=(0,i.Z)(tt,2),it=nt[0],at=nt[1],ot=(0,a.useState)({height:"",weight:"",lmp:"",cheifcomplaints:"",relevantpointfromhistory:"",diagnosis:"",examinationlabfindings:"",additionalinstrunction:"",doctorName:null===z||void 0===z?void 0:z.doctorname,registrationnumber:null===z||void 0===z?void 0:z.registrationnumber,qualification:null===z||void 0===z?void 0:z.qualification,patientname:null===z||void 0===z?void 0:z.patientname,gender:null===z||void 0===z?void 0:z.gender,age:null===z||void 0===z?void 0:z.age,appointmentdate:null===z||void 0===z?void 0:z.appointmentdate,appointmenttime:null===z||void 0===z?void 0:z.appointmenttime,patientNO:null===z||void 0===z?void 0:z.patientno,doctorcode:null===z||void 0===z?void 0:z.doctorcode,appointmentID:null===z||void 0===z?void 0:z.appointmentID,medicine:[],labTest:[]}),rt=(0,i.Z)(ot,2),st=rt[0],lt=(rt[1],(0,a.useState)(!1)),dt=(0,i.Z)(lt,2),ct=dt[0],ut=dt[1],pt=(0,a.useState)({status:!1,key:0}),mt=(0,i.Z)(pt,2),ht=(mt[0],mt[1],(0,a.useState)({status:!1})),ft=(0,i.Z)(ht,2),xt=ft[0],vt=ft[1],gt=(0,a.useState)(null),jt=(0,i.Z)(gt,2),yt=jt[0],bt=jt[1],Nt=(0,a.useState)(!1),Ct=(0,i.Z)(Nt,2),St=Ct[0],Dt=Ct[1],Zt=(0,a.useState)(0),wt=(0,i.Z)(Zt,2),kt=(wt[0],wt[1],(0,a.useState)(null)),Mt=(0,i.Z)(kt,2),It=(Mt[0],Mt[1]),Ft=(0,a.useState)(t),Ot=(0,i.Z)(Ft,2),Tt=Ot[0],Pt=(Ot[1],(0,a.useState)([])),Lt=(0,i.Z)(Pt,2),Et=Lt[0],At=Lt[1],Rt=(0,a.useState)(null),qt=(0,i.Z)(Rt,2),Bt=qt[0],Wt=qt[1],_t=(0,a.useState)([]),Ht=(0,i.Z)(_t,2),Gt=Ht[0],zt=Ht[1],Ut=(0,a.useState)([]),Jt=(0,i.Z)(Ut,2),Yt=(Jt[0],Jt[1]),Vt=(0,a.useState)(null),Kt=(0,i.Z)(Vt,2),Qt=Kt[0],$t=Kt[1],Xt=(0,a.useState)({department:null,doctors:null,templateName:null}),en=(0,i.Z)(Xt,2),tn=en[0],nn=en[1],an=(0,a.useState)(function(e){for(var t=[],n=1;n<=e;n++)t.push(n);return t}(120)),on=(0,i.Z)(an,2),rn=on[0];on[1],(0,a.useEffect)((function(){y().post("https://uat.c2mdr.com/c2mydrrestuat/v1/c2mdapi/getbethanymedicinelist",{token:"token",data:{type:"DRUGS",clinicId:"Bethany",basicinfo:{doctorName:st.doctorName,registrationnumber:st.registrationnumber,qualification:st.qualification,patientname:st.patientname,gender:st.gender,age:st.age,appointmentdate:st.appointmentdate,appointmenttime:st.appointmenttime,patientNO:st.patientNO,doctorcode:st.doctorcode,appointmentID:st.appointmentID}},requestType:233}).then((function(e){e.data.data.description.map((function(e,t){ln.push(e)})),at((0,v.Z)(new Set(ln)))})),y().post("https://uat.c2mdr.com/c2mydrrestdemo/v1/c2mdapi/getbethanylabtest",{token:"token",data:{isFromMobile:!0,clinicId:"Bethany",basicinfo:{doctorName:st.doctorName,registrationnumber:st.registrationnumber,qualification:st.qualification,patientname:st.patientname,gender:st.gender,age:st.age,appointmentdate:st.appointmentdate,appointmenttime:st.appointmenttime,patientNO:st.patientNO,doctorcode:st.doctorcode,appointmentID:st.appointmentID}},requestType:234}).then((function(e){e.data.data.map((function(e,t){sn.push(e.testname)})),et((0,v.Z)(new Set(sn)))})).catch((function(e){})),kn()}),[]),(0,a.useEffect)((function(){Tt?Zn():wn()}),[Tt]),(0,a.useEffect)((function(){var e=function(e){var t,n=null,i=(0,E.Z)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(!a.name){n={id:a.id,element:"Name of Medicine"};break}}}catch(o){i.e(o)}finally{i.f()}return n?{status:!1,error:'"'.concat(n.element,'"  of ').concat(n.id+1).concat(n.id+1==1?"st":n.id+1==2?"nd":n.id+1==3?"rd":"th"," medicine on the Medicines table is missing")}:{status:!0,error:"message"}}(te);console.log(e),vt(e),W([]),W(te)}),[te]),(0,a.useEffect)((function(){var e=function(e){var t,n={status:!0,error:"message"},i=(0,E.Z)(e);try{for(i.s();!(t=i.n()).done;)if(!t.value.name){n={status:!1,error:"Name missing"};break}}catch(a){i.e(a)}finally{i.f()}return n}(ee);bt(e.status),m([]),m(ee)}),[ee]);var sn=[],ln=[],dn=["GRAMS","MCG","MG","MG/ML","ML","NUM","\u03bcm","PERCENTAGE"],cn=["30 Minutes Before Breakfast ","30 Minutes Before Dinner","30 Minutes Before Food ","30 Minutes Before Lunch ","6 hr for fever > 100 f ","After Dinner","After Food ","After Lunch ","As Directed ","Before Food ","Every fourth hourly ","For immediate use","Four Times Daily","Half a Day-Evening ","Half a Day-Evening and Noon ","Half a Day-Morning ","Half a Day-Morning and Evening ","Half a Day-Morning and Noon ","Half a Day-Noon ","Half tablet, thrice daily","Hourly ","On Alternate Days","On Empty Stomach","Once Daily - Evening","Once Daily - Morning","Once Daily - Morning and Evening","Once Daily - Night ","Once Daily - Noon","Once a Month","Once a Week ","SOS ","Thrice a Day","Thrice Daily","Thrice Weekly","Twice a Day - Noon and Night","Twice Daily ","Twice Daily - Morning and Evening","Twice Daily - Morning and Night ","Twice Daily - Morning and Noon ","Twice Daily - Noon and Evening ","Twice Weekly","Use when required","With First Bite of Food "],un=(0,a.useState)([{testType:"",testNames:"",comment:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in.",id:3}]),pn=(0,i.Z)(un,2),mn=(pn[0],pn[1],function(){if(xe(ce[1].name),ee.length<=0){var e=[].concat((0,v.Z)(ee),[{name:null,comment:null,id:ee.length}]);s({type:C.CG,payload:e})}else if(null!=ee[ee.length-1].name){var t=[].concat((0,v.Z)(ee),[{name:null,comment:null,id:ee[ee.length-1].id+1}]);s({type:C.CG,payload:t})}}),hn=function(){var e=function(e,t,n){if(e.height.value||e.height.unit||e.weight.value||e.weight.unit||e.lmp||e.chiefComplaints||e.releventPoint||e.diagnosis||e.additionalInstruction||e.examination||!0===R(t).status||!0===q(n).status)return{status:!0,error:q(n)}}(X,ee,te);ut(!!e)};(0,a.useEffect)((function(){hn()}),[ee,te]);var fn=(0,a.useRef)(),xn=(0,a.useRef)(),vn=(0,a.useRef)(),gn=(0,a.useRef)(),jn=function(e,t){Cn("additionalInstruction"===e?3:0),s({type:C.Yy,payload:(0,g.Z)({},e,t)}),hn()},yn=function(e,t){Cn(0),s({type:C.Yy,payload:(0,g.Z)({},e,(0,c.Z)((0,c.Z)({},X[e]),{},{value:t}))})},bn=function(e){var t=e.id,n=e.data,i=e.key;e.state;Cn(1);var a=JSON.parse(JSON.stringify(ee));a[t][i]=n||null,s({type:C.CG,payload:a}),hn()},Nn=function(e){var t=e.id,n=e.data,i=e.key;Cn(2),console.log(t,i,F().isMoment(n)?n.toDate():n);var a=JSON.parse(JSON.stringify(te));console.log(a),a[t][i]=n||null,s({type:C.O4,payload:a}),hn()};(0,a.useEffect)((function(){te.length<=1&&(fn.current.scrollLeft=0)}),[te]);var Cn=function(e){xe(ce[e||0].name)},Sn=(se(),(0,Z.jsx)("div",{children:(0,Z.jsx)("div",{children:"Complete investigation table to add new row"})})),Dn=(0,Z.jsx)("div",{children:(0,Z.jsx)("div",{children:"Complete medicines table to add new row"})}),Zn=function(){if(console.log(Tt),Tt){var e,t,n,i,a,o,r,l,d,u,p,m,h,f,x,v,g,j,y,b,N,S;if(Wt(null===Tt||void 0===Tt?void 0:Tt.department.Name),s({type:C.Fg,payload:Tt.department.Id}),Mn(Tt.department.Id,Tn(null===Tt||void 0===Tt?void 0:Tt.doctors,"Id")),$t(Tt.templateName),U((0,c.Z)((0,c.Z)({},z),{},{patientname:null===Tt||void 0===Tt||null===(e=Tt.basicinfo)||void 0===e?void 0:e.patientname,age:null===Tt||void 0===Tt||null===(t=Tt.basicinfo)||void 0===t?void 0:t.age,gender:null===Tt||void 0===Tt||null===(n=Tt.basicinfo)||void 0===n?void 0:n.gender,patientno:null===Tt||void 0===Tt||null===(i=Tt.basicinfo)||void 0===i?void 0:i.patientNO})),yn("height",null===Tt||void 0===Tt||null===(a=Tt.consultationDetails)||void 0===a?void 0:a.height),yn("weight",null===Tt||void 0===Tt||null===(o=Tt.consultationDetails)||void 0===o?void 0:o.weight),null!==Tt&&void 0!==Tt&&null!==(r=Tt.consultationDetails)&&void 0!==r&&r.lmp)It(null===Tt||void 0===Tt||null===(g=Tt.consultationDetails)||void 0===g?void 0:g.lmp);if(null!==Tt&&void 0!==Tt&&null!==(l=Tt.consultationDetails)&&void 0!==l&&l.chiefcomplaints)jn("chiefComplaints",null===Tt||void 0===Tt||null===(j=Tt.consultationDetails)||void 0===j?void 0:j.chiefcomplaints);if(null!==Tt&&void 0!==Tt&&null!==(d=Tt.consultationDetails)&&void 0!==d&&d.notes)jn("releventPoint",null===Tt||void 0===Tt||null===(y=Tt.consultationDetails)||void 0===y?void 0:y.notes);if(null!==Tt&&void 0!==Tt&&null!==(u=Tt.consultationDetails)&&void 0!==u&&u.diagnosis)jn("diagnosis",null===Tt||void 0===Tt||null===(b=Tt.consultationDetails)||void 0===b?void 0:b.diagnosis);if(null!==Tt&&void 0!==Tt&&null!==(p=Tt.consultationDetails)&&void 0!==p&&p.investigation)jn("examination",null===Tt||void 0===Tt||null===(N=Tt.consultationDetails)||void 0===N?void 0:N.investigation);if(null!==Tt&&void 0!==Tt&&null!==(m=Tt.consultationDetails)&&void 0!==m&&m.labTest&&(null===Tt||void 0===Tt||null===(h=Tt.consultationDetails)||void 0===h?void 0:h.labTest.length)>0){var D=[];Tt.consultationDetails.labTest.map((function(e,t){D.push({name:e.testType,comment:e.testComment,id:t})})),s({type:C.CG,payload:D})}if(null!==Tt&&void 0!==Tt&&null!==(f=Tt.consultationDetails)&&void 0!==f&&f.medicine&&(null===Tt||void 0===Tt||null===(x=Tt.consultationDetails)||void 0===x?void 0:x.medicine.length)>0){var Z,w=[];null===Tt||void 0===Tt||null===(Z=Tt.consultationDetails)||void 0===Z||Z.medicine.map((function(e,t){w.push({id:t,type:e.type,name:e.name,when:e.medtakeMethod,freequancy:e.displayTablet,quantity:e.quandity,unit:e.measurement,date:e.StartVal,days:e.totalDays,instructions:e.mediComment})})),s({type:C.O4,payload:w})}if(null!==Tt&&void 0!==Tt&&null!==(v=Tt.consultationDetails)&&void 0!==v&&v.instruction)jn("additionalInstruction",null===Tt||void 0===Tt||null===(S=Tt.consultationDetails)||void 0===S?void 0:S.instruction)}},wn=function(){s({type:C.We}),Wt(null),$t("")},kn=function(){s((0,x.Ps)()).then((function(e){console.log(e),At(e)}))},Mn=function(e,t){s((0,x.zj)({department_id:e})).then((function(e){console.log(e),s({type:C.uo,payload:t||In(e)}),s({type:C.PD,payload:e}),zt(e)}))},In=function(e){var t=[];return e&&e.map((function(e){t.push(e.doctorId)})),t},Fn=function(){var e={department:null,doctors:null,templateName:null};return e.department=Bt?null:"* Please select department.",e.templateName=Qt?null:"* Template name can't be empty.",oe.length<=0?e.doctors="*Please select doctors.":e.doctors=null,nn(e),!(e.department||e.doctors||e.templateName)};(0,a.useEffect)((function(){V.templateName&&nn(Qt?(0,c.Z)((0,c.Z)({},tn),{},{templateName:null}):(0,c.Z)((0,c.Z)({},tn),{},{templateName:"* Template name can't be empty."}))}),[Qt]),(0,a.useEffect)((function(){V.templateName&&(oe.length<=0?nn((0,c.Z)((0,c.Z)({},tn),{},{doctors:"*Please select doctors."})):nn((0,c.Z)((0,c.Z)({},tn),{},{doctors:null})))}),[oe.length]),(0,a.useEffect)((function(){V.templateName&&nn(Bt?(0,c.Z)((0,c.Z)({},tn),{},{department:null}):(0,c.Z)((0,c.Z)({},tn),{},{department:"* Please select department."}))}),[Bt]);var On=function(){return(0,Z.jsx)("span",{children:"\xa0\xa0"})},Tn=function(e,t){var n=[];if(e)return e.map((function(e){n.push(e[t])})),n};return console.log(Tt),(0,Z.jsxs)("div",{className:"prescription-form-main-container",children:[(0,Z.jsx)("div",{className:"prescription-form-container",style:{width:"100%"},children:(0,Z.jsx)("div",{className:"prescription-form-content-container",children:(0,Z.jsxs)("div",{className:"prescription-form-content",ref:gn,children:[(0,Z.jsx)("div",{className:"container"}),(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%",padding:"1rem",position:"relative",minWidth:"100%",flexWrap:"wrap"},children:[(0,Z.jsx)("div",{}),(0,Z.jsxs)("ul",{className:"report-list shadow-underline",children:[(0,Z.jsxs)("li",{children:[(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("span",{className:"form-small-tittle",children:["Choose Speciality ",(0,Z.jsx)("span",{style:{color:"red"},children:"*"})," "]}),(0,Z.jsx)("span",{className:"form-caption"})]}),(0,Z.jsx)(N.Z,{getPopupContainer:function(e){return e.parentNode},title:Bt,children:(0,Z.jsx)("div",{className:"form-light-background ".concat(tn.department?"form-error":null),children:(0,Z.jsx)(K,{placeholder:"Select speciality",isSpeciality:!0,value:Bt,data:Et.length>0?function(e){var t=[];return e&&e.map((function(e){t.push(e.departmentName)})),t}(Et):[],onChange:function(e){if(console.log(),e.data){var t=Et.filter((function(t){return t.departmentName==e.data}));s({type:C.Fg,payload:t[0]}),Wt(t[0].departmentName),Mn(t[0].departmentId)}else console.log("Empty speciality.........."),s({type:C.Fg,payload:null}),Wt(null),s({type:C.uo,payload:[]}),s({type:C.PD,payload:[]})},name:"name"})})}),(0,Z.jsx)("span",{className:"prescription-form-error",children:tn.department?tn.department:(0,Z.jsx)(On,{})})]}),(0,Z.jsxs)("li",{children:[(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("span",{className:"form-small-tittle",children:["Choose Doctor ",(0,Z.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,Z.jsx)("span",{className:"form-caption"})]}),(0,Z.jsx)("div",{className:"form-light-background ".concat(tn.doctors?"form-error":null),children:(0,Z.jsx)(re,{data:Gt.length>0?In(Gt):[],setSelected:function(e){console.log(e),e&&Yt(e)}})}),(0,Z.jsx)("span",{className:"prescription-form-error",children:tn.doctors?tn.doctors:(0,Z.jsx)(On,{})})]}),(0,Z.jsxs)("li",{children:[(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("span",{className:"form-small-tittle",children:["Template Name ",(0,Z.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,Z.jsx)("span",{className:"form-caption"})]}),(0,Z.jsx)("div",{className:"form-light-background ".concat(tn.templateName?"form-error":"form-ok"),children:(0,Z.jsx)("input",{value:Qt,onChange:function(e){!function(e){$t(e.target.value)}(e)},type:"text",className:"form-input-text",placeholder:"Enter template name",style:{width:"300px"}})}),(0,Z.jsx)("span",{className:"prescription-form-error",children:tn.templateName?tn.templateName:(0,Z.jsx)(On,{})})]})]}),(0,Z.jsx)("span",{className:"form-heading-2",style:{marginTop:"1rem"},children:"Patient Reports"}),(0,Z.jsxs)("div",{onClick:function(){xe(ce[0].name)},className:"report-list-container",children:[(0,Z.jsxs)("div",{style:{padding:"0rem",display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:"1rem",width:"100%",justifyContent:"space-between"},children:[(0,Z.jsxs)("div",{style:{display:"fex",flexDirection:"column"},children:[(0,Z.jsx)("span",{className:"form-small-tittle",children:"Chief Complaints"}),(0,Z.jsx)("div",{className:"form-light-background-big",children:(0,Z.jsx)("textarea",{id:"chiefComplaints",value:X.chiefComplaints?X.chiefComplaints:"",className:"form-input-text-area",name:"chiefcomplaints",placeholder:"Type here",rows:4,onChange:function(e){jn(e.target.id,e.target.value)}})})]}),(0,Z.jsxs)("div",{style:{display:"fex",flexDirection:"column",marginLeft:"1rem"},children:[(0,Z.jsx)("span",{className:"form-small-tittle",children:"Relevant points from history"}),(0,Z.jsx)("div",{className:"form-light-background-big",children:(0,Z.jsx)("textarea",{id:"releventPoint",value:X.releventPoint?X.releventPoint:"",className:"form-input-text-area",rows:4,placeholder:"Type here",onChange:function(e){jn(e.target.id,e.target.value)}})})]})]}),(0,Z.jsxs)("div",{style:{padding:".0rem",display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:"1rem",width:"100%",justifyContent:"space-between"},children:[(0,Z.jsxs)("div",{style:{display:"fex",flexDirection:"column"},children:[(0,Z.jsx)("span",{className:"form-small-tittle",children:"Diagnosis or Provisional Diagnosis"}),(0,Z.jsx)("div",{className:"form-light-background-big",children:(0,Z.jsx)("textarea",{value:X.diagnosis?X.diagnosis:"",id:"diagnosis",className:"form-input-text-area",rows:4,placeholder:"Type here",onChange:function(e){jn(e.target.id,e.target.value)}})})]}),(0,Z.jsxs)("div",{style:{display:"fex",flexDirection:"column",marginLeft:"1rem"},children:[(0,Z.jsx)("span",{className:"form-small-tittle",children:"Examination/Lab Findings"}),(0,Z.jsx)("div",{className:"form-light-background-big",children:(0,Z.jsx)("textarea",{id:"examination",value:X.examination?X.examination:"",className:"form-input-text-area",rows:4,placeholder:"Type here",onChange:function(e){jn(e.target.id,e.target.value)}})})]})]})]}),(0,Z.jsx)("div",{className:"separator"}),(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"99%"},children:[(0,Z.jsx)("span",{className:"form-heading-2",style:{marginTop:"1rem"},children:"Investigations"}),yt?(0,Z.jsxs)("button",{className:yt?"add-investigation-btn":"add-investigation-btn-disabled",onClick:function(){mn()},children:[(0,Z.jsx)(f.td,{})," ",B(ee.length)]}):(0,Z.jsx)(u.Z,{getPopupContainer:function(e){return e.parentNode},trigger:"click",content:yt?null:Sn,children:(0,Z.jsxs)("button",{className:yt?"add-investigation-btn":"add-investigation-btn-disabled",onClick:function(){mn()},children:[(0,Z.jsx)(f.td,{})," ",B(ee.length)]})})]}),p.length>0?(0,Z.jsxs)("table",{onClick:function(){xe(ce[1].name)},ref:xn,className:"investigations-table",children:[(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("th",{children:(0,Z.jsx)("div",{children:"#"})}),(0,Z.jsx)("th",{children:(0,Z.jsx)("div",{children:"Investigation Name(s)"})}),(0,Z.jsx)("th",{colSpan:"2",children:(0,Z.jsx)("div",{children:"Comments/Instructions"})})]}),p.map((function(e,t){return(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{children:t+1}),(0,Z.jsx)("td",{children:(0,Z.jsx)(k.Z,{getPopupContainer:function(e){return e.parentNode},style:{position:"absolute"},value:e.name,optionFilterProp:"children",showSearch:!0,filterOption:function(e,t){return!!t.children.toLowerCase().startsWith(e.toLowerCase())},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},placeholder:"Select investigation",onChange:function(e){bn({data:e,id:t,key:"name",state:ee})},children:Xe?Xe.map((function(e,t){return(0,Z.jsx)(le,{value:e,children:e})})):null})}),(0,Z.jsx)("td",{children:(0,Z.jsx)("textarea",{rows:1,value:e.comment?e.comment:"",placeholder:"Type here",className:"investigations-input-text-area",onChange:function(e){bn({data:e.target.value,id:t,key:"comment",state:ee})}})}),(0,Z.jsx)("td",{children:(0,Z.jsxs)("div",{style:{cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},onClick:function(){Se(t),ye(!0),Ee(S)},children:[" ",(0,Z.jsx)(f.sh,{})]})})]})}))]}):(0,Z.jsx)("div",{className:"no-table-data",ref:xn,children:"( No Investigations found )"}),(0,Z.jsx)("div",{className:"separator"}),(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"99%"},children:[(0,Z.jsx)("span",{className:"form-heading-2",style:{marginTop:"1rem"},children:"Medicines"}),xt.status?(0,Z.jsxs)("button",{className:xt.status?"add-investigation-btn":"add-investigation-btn-disabled",onClick:function(){if(xe(ce[2].name),te.length<=0){var e=[].concat((0,v.Z)(te),[{id:te.length,type:null,name:null,when:null,freequancy:null,quantity:null,unit:null,date:null,days:null,instructions:null}]);s({type:C.O4,payload:e}),fn.current.scrollLeft=0}else if(null!=te[te.length-1].name){var t=[].concat((0,v.Z)(te),[{id:te[te.length-1].id+1,type:null,name:null,when:null,freequancy:null,quantity:null,unit:null,date:null,days:null,instructions:null}]);s({type:C.O4,payload:t}),fn.current.scrollLeft=0}else b.Z.error({message:"Medicines table is incomplete",description:"Please fill the all fields in Medicines table inorder to add new row.",placement:"bottomRight"})},children:[" ",(0,Z.jsx)(f.td,{}),"  Add Medicines"]}):(0,Z.jsx)(u.Z,{getPopupContainer:function(e){return e.parentNode},trigger:"click",content:Dn,children:(0,Z.jsxs)("button",{className:xt.status?"add-investigation-btn":"add-investigation-btn-disabled",children:[" ",(0,Z.jsx)(f.td,{}),"  Add Medicines"]})})]}),I.length>0?(0,Z.jsx)("div",{onClick:function(){xe(ce[2].name)},ref:fn,className:"medicine-table-container",children:(0,Z.jsxs)("table",{className:"medicine-table",children:[(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("th",{children:(0,Z.jsx)("div",{children:"#"})}),(0,Z.jsx)("th",{children:(0,Z.jsx)("div",{children:"Name of Medicine"})}),(0,Z.jsx)("th",{children:(0,Z.jsx)("div",{children:"When to have"})}),(0,Z.jsx)("th",{children:(0,Z.jsx)("div",{children:"Frequency"})}),(0,Z.jsx)("th",{children:(0,Z.jsx)("div",{children:"Quantity"})}),(0,Z.jsx)("th",{children:(0,Z.jsx)("div",{children:"Unit"})}),(0,Z.jsx)("th",{children:(0,Z.jsx)("div",{children:"Starting Date"})}),(0,Z.jsx)("th",{children:(0,Z.jsx)("div",{children:"No.of Days"})}),(0,Z.jsx)("th",{colspan:"2",children:(0,Z.jsx)("div",{children:"Instructions"})})]}),I.map((function(e,t){return(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{children:t+1}),(0,Z.jsx)("td",{children:(0,Z.jsx)(k.Z,{getPopupContainer:function(e){return e.parentNode},value:e.name,optionFilterProp:"children",showSearch:!0,filterOption:function(e,t){return!!t.children.toLowerCase().startsWith(e.toLowerCase())},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},placeholder:"Select medicine",onChange:function(e){Nn({data:e,id:t,key:"name",state:te})},name:"name",children:it?it.map((function(e,t){return(0,Z.jsx)(le,{value:e,children:e})})):null})}),(0,Z.jsx)("td",{children:(0,Z.jsx)(k.Z,{getPopupContainer:function(e){return e.parentNode},value:e.when,optionFilterProp:"children",placeholder:"When to have",onChange:function(e){Nn({data:e,id:t,key:"when",state:te})},name:"name",children:["Before Food","After Food","SOS"].map((function(e,t){return(0,Z.jsx)(le,{value:e,children:e})}))})}),(0,Z.jsx)("td",{children:(0,Z.jsx)(k.Z,{getPopupContainer:function(e){return e.parentNode},value:e.freequancy,optionFilterProp:"children",showSearch:!0,filterOption:function(e,t){return!!t.children.toLowerCase().startsWith(e.toLowerCase())},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},placeholder:"Select frequency",onChange:function(e){Nn({data:e,id:t,key:"freequancy",state:te})},name:"name",children:cn?cn.map((function(e,t){return(0,Z.jsx)(le,{value:e,children:e})})):null})}),(0,Z.jsx)("td",{children:(0,Z.jsx)("input",{value:e.quantity?e.quantity:"",onKeyPress:A,placeholder:"Enter quantity",type:"text",className:"investigations-input-text-input",onChange:function(e){return Nn({data:e.target.value,id:t,key:"quantity"})}})}),(0,Z.jsx)("td",{children:(0,Z.jsx)(k.Z,{getPopupContainer:function(e){return e.parentNode},value:e.unit,optionFilterProp:"children",showSearch:!0,filterOption:function(e,t){return!!t.children.toLowerCase().startsWith(e.toLowerCase())},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())},placeholder:"Select unit",onChange:function(e){Nn({data:e,id:t,key:"unit",state:te})},name:"name",children:dn?dn.map((function(e,t){return(0,Z.jsx)(le,{value:e,children:e})})):null})}),(0,Z.jsx)("td",{children:(0,Z.jsx)(ie,{placeholder:"Select date",minDate:new Date,id:t,name:"date",_value:e.date,onChange:Nn,isMedTable:!0})}),(0,Z.jsx)("td",{children:(0,Z.jsx)(k.Z,{getPopupContainer:function(e){return e.parentNode},value:e.days,optionFilterProp:"children",showSearch:!0,placeholder:"Select days",onChange:function(e){Nn({data:e,id:t,key:"days",state:te})},name:"days",children:rn&&rn.length>0?rn.map((function(e,t){return(0,Z.jsx)(le,{value:e,children:e})})):null})}),(0,Z.jsx)("td",{children:(0,Z.jsx)("textarea",{value:e.instructions?e.instructions:"",defaultValue:e.instructions,className:"medicine-table-input-text-area",rows:1,placeholder:"Type here",onChange:function(e){Nn({data:e.target.value,id:t,key:"instructions"})}})}),(0,Z.jsx)("td",{children:(0,Z.jsx)("div",{style:{cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},onClick:function(){var t;t=e.id,Oe(t),ke(!0),Ee(D)},children:(0,Z.jsx)(f.sh,{})})})]})}))]})}):(0,Z.jsx)("div",{className:"no-table-data",ref:fn,children:"( No Medicines found )"}),(0,Z.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"99%"},children:(0,Z.jsx)("span",{className:"form-heading-2",style:{marginTop:"1rem"},children:"Additional Instructions"})}),(0,Z.jsx)("div",{onClick:function(){xe(ce[3].name)},className:"form-light-background",style:{width:"45%"},children:(0,Z.jsx)("textarea",{value:X.additionalInstruction?X.additionalInstruction:"",ref:vn,className:"form-input-text-area",rows:3,placeholder:"Type here",style:{width:"100%"},onChange:function(e){jn("additionalInstruction",e.target.value)}})}),(0,Z.jsx)("br",{}),(0,Z.jsx)("br",{}),(0,Z.jsx)("br",{}),(0,Z.jsx)("br",{}),(0,Z.jsx)("br",{}),(0,Z.jsx)("div",{children:" \xa0"})]})]})})}),(0,Z.jsx)(w,{deletingFrom:Le,state:je,setState:ye,data:ee,removeIndex:Ce}),(0,Z.jsx)(w,{deletingFrom:Le,state:we,setState:ke,data:te,removeIndex:Fe}),(0,Z.jsx)(M,{clearData:wn,isPreload:t,setEditMode:n,state:qe,setState:Be,successMessage:He}),(0,Z.jsx)(ae,{state:Je,setState:Ye}),(0,Z.jsx)(_,{state:St}),ct?(0,Z.jsx)("div",{className:"button-container",children:(0,Z.jsxs)("button",{disabled:St,onClick:function(){!function(){var e=Fn();if(Q({templateName:!0,doctos:!0,department:!0}),e){Dt(!0);var n=[];ee.map((function(e){null!=e.name&&n.push({testType:e.name,testNames:"",testComment:null!=e.comment?e.comment:""})}));var i=[];te.map((function(e,t){null!=e.name&&i.push({StartVal:null!==e.date?e.date:"",StrengthVal:"",displayTablet:null!=e.freequancy?e.freequancy:"",isPermitted:!1,measurement:null!=e.unit?e.unit:"",mediComment:null!=e.instructions?e.instructions:"",medtakeMethod:null!=e.when?e.when:"",name:e.name,quandity:null!=e.quantity?e.quantity:"",totalDays:null!=e.days?e.days:"",type:"DRUGS"})}));var a={data:{prescriptionDetails:{attachementArrs:[],consultationDetails:{doctor_suggestion:"",chiefcomplaints:null!=X.chiefComplaints?X.chiefComplaints:"",diagnosis:null!=X.diagnosis?X.diagnosis:"",investigation:null!=X.examination?X.examination:"",notes:null!=X.releventPoint?X.releventPoint:"",instruction:null!=X.additionalInstruction?X.additionalInstruction:"",share:!0,privateMessage:"",lmp:null!=X.lmp?X.lmp:"",labTest:n,medicine:i},basicinfo:{departmentId:null===de||void 0===de?void 0:de.departmentId,doctorIds:oe.toString(),templateName:Qt}},browserTimeZone:""},browserTimeZone:"",requestType:t?1066:1061};t&&(a.data.prescriptionDetails.basicinfo.templateId=t.tempId);try{y().post("https://uat.c2mdr.com/c2mydrrestuat/v1/c2mdapi/".concat(t?"updatetemplate":"createtemplate"),a).then((function(e){console.log(e),Dt(!1),Ge(e.data.data.info),Be(!0),Q({templateName:!1,doctos:!1,department:!1})}))}catch(o){console.log(o),Be(!0)}}else gn.current.scrollTop=0}()},className:St?"save-rescription-btn-disabled":"save-rescription-btn",children:[" ",(0,Z.jsx)(f.cy,{}),"  ",t?"UPDATE":"SAVE"," TEMPLATE"]})}):null]})},ce=n(75910);m.Z.RangePicker;var ue=function(){var e=(0,o.I0)(),t=((0,a.useRef)(null),(0,o.v9)((function(e){return e.interbranchAdmin.dashboardTable})),(0,a.useState)(!1)),n=(0,i.Z)(t,2),s=(n[0],n[1],(0,a.useState)(0)),l=(0,i.Z)(s,2),d=l[0],m=l[1],h=(0,a.useState)([]),v=(0,i.Z)(h,2),g=v[0],j=v[1],y=(0,a.useState)(0),b=(0,i.Z)(y,2),N=b[0],C=b[1],S=(0,a.useState)(!1),D=(0,i.Z)(S,2),w=D[0],k=D[1],M=(0,a.useState)(null),I=(0,i.Z)(M,2),F=I[0],O=(I[1],(0,a.useState)([])),T=(0,i.Z)(O,2),P=T[0],L=T[1];(0,r.k6)(),(0,r.TH)(),(0,a.useEffect)((function(){e((0,x.A8)({offset:0})).then((function(e){j(e.data),C(e.total)}))}),[]),(0,a.useEffect)((function(){e((0,x.A8)({offset:d})).then((function(e){j(e.data),C(e.total)}))}),[w]);var E=function(e){if(e)return e.split(",")},A=function(e){var t=e.split(","),n=[];return t.map((function(e){n.push("".concat(e,"  "))})),n.toString()};(0,a.useEffect)((function(){L(g)}),[g]),(0,a.useEffect)((function(){R(F||null)}),[F]);var R=function(e){if(e&&""!=e){var t=g.filter((function(t){return!!t.tempId.includes(e.toString())||(!!t.tempName.toLowerCase().includes(e.toString().toLowerCase())||(!!t.Departments[0].Name.toLowerCase().includes(e.toString().toLowerCase())||(!!t.createdDate.toLowerCase().includes(e.toString().toLowerCase())||(!!t.updatedDate.toLowerCase().includes(e.toString().toLowerCase())||void 0))))}));L(t)}else console.log("No search key..."),L(g||[])},q=function(e){var t,n=e.data;return(0,Z.jsx)("div",{className:"view-prescription-doctor-list-container-small",children:(0,Z.jsx)("ul",{children:(null===(t=n.split(","))||void 0===t?void 0:t.length)>0?n.split(",").map((function(e,t){return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("li",{children:[e,(n.split(",").length,"")," "]})})})):null})})},B=(0,a.useState)(!1),W=(0,i.Z)(B,2),_=W[0],H=W[1];return(0,a.useEffect)((function(){console.log("Start loading...................."),H(!0)}),[]),(0,a.useEffect)((function(){P.length>0&&(console.log("Stop loading...................."),H(!1)),P.length<0&&(console.log("Stop loading...................."),H(!1))}),[P]),(0,Z.jsxs)("div",{className:"appontment-history-container",children:[w?(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},children:[(0,Z.jsxs)("div",{style:{marginBottom:".8rem",marginTop:".8rem",cursor:"pointer",width:"fit-content"},onClick:function(){k(null)},children:[(0,Z.jsx)(f.D1,{size:14}),(0,Z.jsx)("b",{style:{marginLeft:".5rem"},children:"Back"})]}),(0,Z.jsx)(de,{setEditMode:k,preloadData:w})]}):(0,Z.jsx)("div",{className:"todays_report_table_container",children:(0,Z.jsxs)("table",{className:"appoinment-table",children:[(0,Z.jsx)("thead",{children:(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("th",{children:"Template ID"}),(0,Z.jsx)("th",{children:"Template Name"}),(0,Z.jsx)("th",{children:"Speciality"}),(0,Z.jsx)("th",{children:"Created On"}),(0,Z.jsx)("th",{children:(0,Z.jsx)("div",{className:"center",children:"Last Updated On"})}),(0,Z.jsx)("th",{children:"Assigned To"}),(0,Z.jsx)("th",{children:(0,Z.jsx)("div",{className:"center",children:"Edit"})}),(0,Z.jsx)("th",{children:(0,Z.jsx)("div",{className:"center",children:"View"})})]})}),(0,Z.jsx)("tbody",{children:P.length>0?P.map((function(e,t){var n;return(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{children:e.tempId}),(0,Z.jsx)("td",{children:e.tempName}),(0,Z.jsx)("td",{children:null===(n=e.Departments[0])||void 0===n?void 0:n.Name}),(0,Z.jsx)("td",{children:e.createdDate}),(0,Z.jsx)("td",{children:(0,Z.jsx)("div",{className:"center",children:e.updatedDate?e.updatedDate:"No Data Available"})}),(0,Z.jsx)("td",{children:e.assignedDoctors?E(e.assignedDoctors).length>1?(0,Z.jsxs)(u.Z,{content:(0,Z.jsx)(q,{data:null===e||void 0===e?void 0:e.assignedDoctors}),title:"Doctors list (".concat(null===e||void 0===e?void 0:e.assignedDoctors.split(",").length,")"),children:[E(e.assignedDoctors)[0],", +",E(e.assignedDoctors).length-1]}):A(e.assignedDoctors):"No Data Available"}),(0,Z.jsx)("td",{children:(0,Z.jsx)("div",{className:"edit-btn center",onClick:function(){!function(e,t){k((0,c.Z)((0,c.Z)({},e),{},{templateName:null===t||void 0===t?void 0:t.tempName,tempId:t.tempId,departmentName:t.assignedDepartments,doctors:t.Doctors,department:t.Departments[0]}))}(e.tempData,e)},children:(0,Z.jsx)(f.dY,{})})}),(0,Z.jsx)("td",{children:(0,Z.jsx)("a",{className:"center",href:"viewprescription/"+e.tempId,target:"_blank",children:(0,Z.jsx)(f.ON,{})})})]})})):(0,Z.jsx)("tr",{children:(0,Z.jsx)("td",{colSpan:7,children:(0,Z.jsx)(ce.Z,{isLoading:_})})})})]})}),(0,Z.jsxs)("div",{className:"pagination-container-mis-report",children:["\xa0",(0,Z.jsx)(p.Z,{onChange:function(t,n){e((0,x.A8)({offset:t-1})).then((function(e){j(e.data),C(e.total),m(t-1)}))},defaultCurrent:1,total:N?10*N:0})]})]})};n(39898);var pe=function(e){var t=e.state,n=e.setState,i=e.onOk;return(0,Z.jsx)(Z.Fragment,{children:t?(0,Z.jsx)("div",{className:"modal-loader syncsuccessmodal",children:(0,Z.jsxs)("div",{className:"modal-body-prescription body",children:[(0,Z.jsxs)("div",{className:"modal-content-prescription content",children:[(0,Z.jsx)(f.B_,{}),(0,Z.jsx)("span",{className:"syncsuccessmodal-message",children:"Data updated successfully"})]}),(0,Z.jsx)("div",{onClick:function(){i&&i(),n(!1)},className:"syncsuccessmodal-footer",children:"OK"})]})}):null})},me=m.Z.RangePicker;var he=function(){var e=(0,a.useRef)(null),t=(0,o.v9)((function(e){return e.presctiptionFormReducer})),n=t.crDashboard,r=t.crDashboardTotal,s=t.isLoading,l=t.isFresh,d=(0,a.useState)(!1),m=(0,i.Z)(d,2),f=m[0],v=m[1],g=(0,a.useState)(null),j=(0,i.Z)(g,2),y=j[0],b=(j[1],(0,a.useState)([])),N=(0,i.Z)(b,2),C=N[0],S=N[1],D=(0,a.useState)(!1),w=(0,i.Z)(D,2),k=w[0],M=w[1],I=(0,a.useState)(!1),O=(0,i.Z)(I,2),T=O[0],P=O[1],L=(0,a.useState)(!1),E=(0,i.Z)(L,2),A=E[0],R=E[1],q=(0,a.useState)(!1),B=(0,i.Z)(q,2),W=(B[0],B[1],(0,a.useState)(null)),_=(0,i.Z)(W,2),H=_[0],G=_[1],z=(0,a.useState)(0),U=(0,i.Z)(z,2),J=U[0],Y=U[1],V=(0,a.useState)({fromDate:"",toDate:""}),K=(0,i.Z)(V,2),Q=K[0],$=K[1],X=(0,a.useState)(null),ee=(0,i.Z)(X,2),te=ee[0],ne=ee[1],ie=(0,a.useState)(!0),ae=(0,i.Z)(ie,2);ae[0],ae[1],(0,a.useEffect)((function(){l&&ne(null)}),[l]);var oe=(0,o.I0)();(0,a.useEffect)((function(){S(null!==n&&void 0!==n&&n.prescriptionlist?null===n||void 0===n?void 0:n.prescriptionlist:[])}),[n]),(0,a.useEffect)((function(){null!==n&&void 0!==n&&n.prescriptionlist&&re(y||null)}),[y]);var re=function(e){var t=null===n||void 0===n?void 0:n.prescriptionlist;if(e&&""!=e){console.log("Have search key...",e.length);var i=t.filter((function(t){return!!t.appointmentID.includes(e.toString())||(!!t.patientName.toLowerCase().includes(e.toString().toLowerCase())||(!!t.doctorname.toLowerCase().includes(e.toString().toLowerCase())||void 0))}));S(i)}else console.log("No search key..."),S(n.prescriptionlist?n.prescriptionlist:[])};(0,a.useEffect)((function(){oe((0,x.Ax)())}),[]);var se=function(e){var t=e.sendTime,n=e.receiveTime;return(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,Z.jsxs)("span",{children:[(0,Z.jsx)("b",{children:"Sent Time :"})," ",t||"-"]}),(0,Z.jsxs)("span",{children:[(0,Z.jsx)("b",{children:"Received Time :"})," "," "!=n?n:"HIS has not received this file"]})]})};return(0,Z.jsxs)("div",{className:"mis_report_container",children:[(0,Z.jsxs)("div",{className:"header",children:[(0,Z.jsxs)("button",{className:"header_button",onClick:function(){k||(console.log("Start sync"),M(!0),oe((0,x.Wp)()).then((function(e){M(!1),console.log(e),P(!0)})))},children:[(0,Z.jsx)("div",{className:"icon ".concat(k?"rotate":""),children:(0,Z.jsx)("i",{class:"far fa-sync"})}),k?"Syncing...":"Sync Lab Test & Medicine"]}),(0,Z.jsxs)("div",{className:"filter-button",children:[(0,Z.jsx)("div",{className:"icon",onClick:function(){v(!f)},children:(0,Z.jsx)("i",{class:"far fa-calendar-alt"})}),(0,Z.jsx)(me,{value:te,style:{width:"250px"},getPopupContainer:function(e){return e.parentElement},inputReadOnly:!0,format:"DD-MMM-YYYY",ref:e,bordered:!1,className:"date-picker",suffixIcon:null,onChange:function(e){if(ne(e),e){var t=(0,i.Z)(e,2),n=t[0],a=t[1],o=F()().subtract(3,"months");console.log((0,h.xN)(o)),console.log({fromDate:n,toDate:a}),$({fromDate:n,toDate:a}),oe((0,x.Ax)({fromDate:n,toDate:a}))}else oe((0,x.Ax)())}})]})]}),(0,Z.jsx)("div",{className:"mis_report_table_container",children:(0,Z.jsxs)("table",{className:"appoinment-table clinic-dashboard-table",children:[(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("th",{children:"App Id"}),(0,Z.jsx)("th",{className:"patient-name-head",children:"Patient"}),(0,Z.jsx)("th",{children:"Doctor"}),(0,Z.jsx)("th",{children:"App Date & Time"}),(0,Z.jsx)("th",{children:"Prescription"}),(0,Z.jsx)("th",{children:"Sync Status"})]}),(0,Z.jsx)("tbody",{children:C.length>0?C.map((function(e,t){return(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{children:e.appointmentID}),(0,Z.jsx)("td",{children:e.patientName}),(0,Z.jsx)("td",{children:e.doctorname}),(0,Z.jsx)("td",{children:"".concat(e.appointmentDate,", ").concat(e.appointmentTime)}),(0,Z.jsx)("td",{children:(0,Z.jsx)("div",{onClick:function(){var t;(t=e.prescriptionFile)&&window.open(t,"_blank")},className:"link-style",children:"Download"})}),(0,Z.jsx)("td",{children:(0,Z.jsx)(u.Z,{content:(0,Z.jsx)(se,{sendTime:e.createdat,receiveTime:e.Responsetime}),children:(0,Z.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,Z.jsx)("div",{className:"prescription_sync_status_indicator ",children:(0,Z.jsx)("div",{className:"".concat("true"===e.pushstatus?"completed":"pending")})}),"\xa0 \xa0","true"==e.pushstatus?"":H==e.id&&A?(0,Z.jsx)("div",{className:"icon rotate",children:(0,Z.jsx)("i",{class:"far fa-sync"})}):(0,Z.jsx)("span",{onClick:function(){var t;t=e.id,A||(G(t),console.log("Start sync individual"),R(!0),oe((0,x.pO)(t)).then((function(e){R(!1),console.log(e),P(!0)})))},className:"link-style",children:"Push to HIS"})]})})})]})})):(0,Z.jsx)("tr",{children:(0,Z.jsx)("td",{colSpan:6,children:(0,Z.jsx)(ce.Z,{marginTop:200,isLoading:s})})})})]})}),(0,Z.jsxs)("div",{className:"pagination-container-mis-report",children:["\xa0",(0,Z.jsx)(p.Z,{showSizeChanger:!1,onChange:function(e,t){oe((0,x.Ax)((0,c.Z)((0,c.Z)({},Q),{},{offset:e-1}))).then((function(t){Y(e-1)}))},defaultCurrent:1,total:r?10*r:0})]}),(0,Z.jsx)(pe,{onOk:function(){oe((0,x.Ax)((0,c.Z)((0,c.Z)({},Q),{},{offset:J})))},state:T,setState:P})]})},fe=n(76858),xe=n(66530),ve=(n(9809),n(46967),[{tittle:" Template",options:[{name:"Create Template",ico:(0,Z.jsx)("i",{class:"far fa-file-alt"}),component:(0,Z.jsx)(de,{})},{name:"Edit / View",ico:(0,Z.jsx)("i",{class:"far fa-calendar-alt"}),component:(0,Z.jsx)(ue,{})}]}]);n(14503);var ge=function(){var e=(0,o.I0)(),t=(0,r.k6)(),n=(0,a.useState)({menu:"dashboard",option:0}),c=(0,i.Z)(n,2),u=c[0],p=c[1],m=(0,o.v9)((function(e){return e.interbranchModal})),h=(m.ApointmentHistoryModal,m.ViewFileModal,m.deleteFileModel,m.commonDeleteModal,m.PatientDetailsModal,m.todaysReportModal),v=m.misReportModal,g=(0,a.useRef)(null),j=(0,o.v9)((function(e){return e.login.user}));return(0,a.useEffect)((function(){e((0,x.Ax)())}),[]),(0,Z.jsxs)("div",{className:"interbranch-container",children:[(0,Z.jsx)("div",{className:"left-container",children:(0,Z.jsxs)("div",{className:"letf-top",children:[(0,Z.jsx)("div",{className:"header-card",style:{marginBottom:"2.5rem"},children:(0,Z.jsxs)(fe.C,{className:"d-flex flex-column justify-content-center align-items-center mt-2",style:{width:"100%",height:"79.14px",color:"rgba(0, 0, 0, 0.85)"},children:[(0,Z.jsx)("div",{className:"dr-name-home text-center w-100",style:{fontWeight:"500"},children:j?j.profileName:"---"}),(0,Z.jsxs)("div",{className:"dr-id-home text-center w-100",style:{fontWeight:"500"},children:["ID: ",j?j.profileId:"---"]})]})}),(0,Z.jsx)("div",{className:"tittle",onClick:function(){e((0,x.Ax)()),p({menu:"dashboard",option:0})},style:{fontWeight:"dashboard"==u.menu?"bold":"normal",cursor:"pointer"},children:"Dashboard"}),ve.map((function(e,t){if("Dashboard"!==e.tittle)return(0,Z.jsxs)(a.Fragment,{children:[(0,Z.jsx)("div",{className:"list-tittle",children:e.tittle}),(0,Z.jsx)("ul",{className:"side-nav",children:e.options.map((function(e,n){return(0,Z.jsxs)("li",{className:u.menu===t&&u.option===n?"active":null,onClick:function(){p({menu:t,option:n})},children:[(0,Z.jsx)("div",{className:"icon",children:e.ico}),(0,Z.jsx)("div",{className:"text",children:e.name})]},n)}))})]},t)})),(0,Z.jsxs)("div",{className:"header-card logout",style:{marginTop:"2.5rem",coursor:"pointer !important"},onClick:function(){e((0,xe.Cd)(j)),t.push("home")},children:[(0,Z.jsx)("div",{className:"icon",children:(0,Z.jsx)(f.cp,{})}),"SIGN OUT"]})]})}),(0,Z.jsxs)("div",{className:"right-container",ref:g,children:[(0,Z.jsxs)("div",{className:"header-card",children:[(0,Z.jsx)("span",{children:"dashboard"==u.menu?"Dashboard":"consolidated"==u.menu?"Consolidated":ve[u.menu].options[u.option].name}),(0,Z.jsx)("span",{className:"caption",children:"\xa0"})]}),(0,Z.jsxs)("div",{className:"right-menu-container",children:[(0,Z.jsx)(s.Z,{width:700,state:h,modalName:"todaysReportModal",component:(0,Z.jsx)(d.Z,{}),isRight:!0}),(0,Z.jsx)(s.Z,{width:700,state:v,modalName:"misReportModal",component:(0,Z.jsx)(l.Z,{}),isRight:!0}),(0,Z.jsx)("div",{className:"container_interbranch",children:"dashboard"==u.menu?(0,Z.jsx)(he,{}):ve[u.menu].options[u.option].component?ve[u.menu].options[u.option].component:null})]})]})]})}},10626:function(){}}]);
//# sourceMappingURL=8506.5f3fdbc7.chunk.js.map