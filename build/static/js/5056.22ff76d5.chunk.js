"use strict";(self.webpackChunkconnect2mydoctor=self.webpackChunkconnect2mydoctor||[]).push([[5056],{48337:function(e,t,n){n.d(t,{f:function(){return r}});var a=n(15861),i=n(87757),o=n.n(i),r=function(){var e=(0,a.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",localStorage.getItem(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},66530:function(e,t,n){n.d(t,{Cb:function(){return Z},Cd:function(){return w},br:function(){return S},tH:function(){return D},y:function(){return b},zB:function(){return N}});var a,i=n(15861),o=n(87757),r=n.n(o),s=n(5557),l=n(56960),d=n(89704),c=n.n(d),u=n(74569),p=n.n(u),m=n(44234),f=n(46174),h=(n(32808),n(97473),n(17175).v4()),v=(0,n(59761).detect)(),x=window.navigator.platform,g=window.navigator.userAgent,y=(new Date).toString().replace(/GMT\+(\d\d)(\d\d)/,"GMT+$1:$2"),j=null===y||void 0===y?void 0:y.split("GMT")[1].split(" (")[0];null===(a=j)||void 0===a||a.slice(1);null!=j.search(/\+/g)?j=j.replace(/\+/g,"%2B"):null!=j.search(/\-/g)&&(j=j.replace(/\-/g,"%2D"));var b=function(e){var t=e.loginType,n=e.userName,a=e.accessCountry,o=e.password,l=e.history,d=e.backupData;e.setDrSign;return function(){var e=(0,i.Z)(r().mark((function e(i){var u,y,b,N,w,D,Z,S,k,C,I,M,T,O,F,A,P,E,R;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.post("getcountrycode",{token:"token",version:"2.0",data:{browserTimeZone:"GMT".concat(j)},requestType:1058});case 2:return b=e.sent,N=b.data.data,console.log(d),w=c().SHA512("C2MD|"+o),e.next=8,s.Z.post("login",{token:"token",data:{isFromMobile:!0,clinicId:"20",deviceId:"",appname:"C2MD Patient",hashPassword:w.toString(c().enc.Base64),password:w.toString(),loginType:t,userName:n,browserTimeZone:"GMT".concat(j),Ipaddress:N.Ipaddress,useragent:g,Browser:v.name+" "+v.version,Os:x,currency:N.currency,accessCountry:N.Country},requestType:3});case 8:if(null===(D=e.sent)||void 0===D||null===(u=D.data)||void 0===u||null===(y=u.data)||void 0===y||!y.info){e.next=13;break}return e.abrupt("return",D.data.data);case 13:return i({type:m.Lj,payload:D.data.data}),e.next=16,localStorage.setItem("userData",JSON.stringify(D.data.data));case 16:"Patient"==(null===(Z=D.data)||void 0===Z||null===(S=Z.data)||void 0===S?void 0:S.userType)?(console.log(d),d&&null!==d&&void 0!==d&&d.redirection?l.push(null===d||void 0===d?void 0:d.redirection):null!==l&&void 0!==l&&null!==(T=l.location)&&void 0!==T&&null!==(O=T.state)&&void 0!==O&&O.redirection?l.push(null===l||void 0===l||null===(F=l.location)||void 0===F||null===(A=F.state)||void 0===A?void 0:A.redirection):l.push("/dashboard")):(null===(k=D.data)||void 0===k||null===(C=k.data)||void 0===C?void 0:C.userType)==f.nn?l.push("/dashboard"):(null===(I=D.data)||void 0===I||null===(M=I.data)||void 0===M?void 0:M.userType)==f.t_?(null===(P=D.data)||void 0===P||null===(E=P.data)||void 0===E?void 0:E.clinicId)==f.RQ?l.push("/admindashboard"):l.push("/dashboard"):(R={isFromMobile:!0,Ipaddress:h,clinicId:"20",deviceId:"",browserTimeZone:"GMT".concat(j),appname:"C2MD Patient",Os:x,hashPassword:"",useragent:g,password:"",accessCountry:a,loginType:t,userName:n,isotpverified:!0,Browser:v.name+" "+v.version},p()({method:"post",url:"https://uat.c2mdr.com/demo/Connect2MyDoctorRequest",data:{requestType:3,loginDetails:JSON.stringify(R)},headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(e){console.log(e)})).catch((function(e){throw e})));case 17:return e.abrupt("return",D.data.data);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=function(e){var t=e.type,n=e.searchkey;return function(){var e=(0,i.Z)(r().mark((function e(a){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.post("loginwithotp",{requestType:15,token:"C2MDVerificationToken",data:{type:t,searchKey:n}});case 2:if(200!==(i=e.sent).status){e.next=5;break}return e.abrupt("return",i.data&&i.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=function(){return function(){var e=(0,i.Z)(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:m.gc}),localStorage.removeItem("userData");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},D=function(e){var t=e.loginType,n=e.userName,a=e.accessCountry,o=e.history,d=e.appoinment_form;return function(){var e=(0,i.Z)(r().mark((function e(i){var c,u,f,y,b,N,w,D;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.post("login",{token:"token",data:{isFromMobile:!0,Ipaddress:h,clinicId:"20",deviceId:"",browserTimeZone:"GMT".concat(j),appname:"C2MD Patient",Os:x,hashPassword:"",useragent:g,password:"",accessCountry:a,loginType:t,userName:n,isotpverified:!0,Browser:v.name+" "+v.version},requestType:3});case 2:if(c=e.sent,console.log(c),!c.data.data.info){e.next=8;break}l.Am.error("Invalid username or password !",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=17;break;case 8:if(i({type:m.Lj,payload:c.data.data}),console.log(null===(u=c.data)||void 0===u||null===(f=u.data)||void 0===f?void 0:f.userType),"Patient"!=(null===(y=c.data)||void 0===y||null===(b=y.data)||void 0===b?void 0:b.userType)){e.next=14;break}null!==d&&void 0!==d&&d.routing?(N=localStorage.getItem("doctrID"),o.push("/BookAppointment/".concat(N))):o.push("/dashboard"),e.next=17;break;case 14:return w={headers:{"Content-Type":"application/x-www-form-urlencoded"}},D={token:"token",data:{isFromMobile:!0,Ipaddress:h,clinicId:"20",deviceId:"",browserTimeZone:"GMT".concat(j),appname:"C2MD Patient",Os:x,hashPassword:"",useragent:g,password:"",accessCountry:a,loginType:t,userName:n,isotpverified:!0,Browser:v.name+" "+v.version},requestType:3},e.abrupt("return",p().post("https://uat.c2mdr.com/demo/Connect2MyDoctorRequest",JSON.stringify(D),w).then((function(e){return e})).catch((function(e){throw e})));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Z=function(e){var t=e.Data,n=e.history;return function(){var e=(0,i.Z)(r().mark((function e(a){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.post("login",{token:"token",data:{isFromMobile:!0,Ipaddress:h,clinicId:"20",deviceId:"",browserTimeZone:"GMT".concat(j),appname:"C2MD Patient",Os:x,hashPassword:"",useragent:g,password:"",accessCountry:"IN",loginType:"email",userName:null===t||void 0===t?void 0:t.email,isotpverified:!0,Browser:v.name+" "+v.version},requestType:3});case 2:if(!(i=e.sent).data.data.info){e.next=7;break}return e.abrupt("return",i.data.data);case 7:return a({type:m.Lj,payload:i.data.data}),e.next=10,localStorage.setItem("userData",JSON.stringify(i.data.data));case 10:n.push("/DoctorListing");case 11:return e.abrupt("return",i.data.data);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(e){return function(){var t=(0,i.Z)(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:m.nE,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},50672:function(e,t,n){n.d(t,{Ax:function(){return f},Ps:function(){return c},zj:function(){return u},A8:function(){return p},pO:function(){return v},Wp:function(){return h},tm:function(){return m}});var a=n(15861),i=n(87757),o=n.n(i),r=n(5557);function s(){var e=JSON.parse(localStorage.getItem("userData"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}var l=n(95510),d=n(44234),c=function(){return function(){var e=(0,a.Z)(o().mark((function e(t){var n,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={requestType:"1062",browserTimeZone:"",version:"2",data:{type:"department"}},e.next=3,r.Z.post("getdepartments",n,{headers:s()});case 3:if("200"!=(a=e.sent).status){e.next=12;break}if("FAILURE"==a.data.errorType||null===(i=a.data)||void 0===i||!i.data){e.next=9;break}return e.abrupt("return",a.data.data);case 9:localStorage.clear(),localStorage.removeItem("userData"),window.location.href="/home";case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},u=function(e){var t=e.department_id;return function(){var e=(0,a.Z)(o().mark((function e(n){var a,i,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={requestType:"1063",browserTimeZone:"",version:"2",data:{type:"doctor",departmentId:t}},e.next=3,r.Z.post("getdoctors",a,{headers:s()});case 3:if("200"!=(i=e.sent).status){e.next=12;break}if("FAILURE"==i.data.errorType||null===(l=i.data)||void 0===l||!l.data){e.next=9;break}return e.abrupt("return",i.data.data);case 9:localStorage.clear(),localStorage.removeItem("userData"),window.location.href="/home";case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(e){var t=e.offset;return function(){var e=(0,a.Z)(o().mark((function e(n){var a,i,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={requestType:"1070",browserTimeZone:"",version:"2",data:{type:"templatelist",offset:t||0}},e.next=3,r.Z.post("gettemplates",a,{headers:s()});case 3:if("200"!=(i=e.sent).status){e.next=13;break}if(console.log(i),"FAILURE"==i.data.errorType||null===(l=i.data)||void 0===l||!l.data){e.next=10;break}return e.abrupt("return",{data:i.data.data.data,total:i.data.data.totalNumberOfPages});case 10:localStorage.clear(),localStorage.removeItem("userData"),window.location.href="/home";case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(e){return function(){var t=(0,a.Z)(o().mark((function t(n){var a,i,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={data:{templateId:e},browserTimeZone:"",requestType:1068,version:"2"},t.next=3,r.Z.post("viewtemplate",a,{headers:s()});case 3:if("200"!=(i=t.sent).status){t.next=12;break}if("FAILURE"==i.data.errorType||null===(l=i.data)||void 0===l||!l.data){t.next=9;break}return t.abrupt("return",i.data.data);case 9:localStorage.clear(),localStorage.removeItem("userData"),window.location.href="/home";case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=(0,a.Z)(o().mark((function t(n){var a,i,c,u,p,m;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:d.oF,payload:!0}),a=null!==e&&void 0!==e&&e.fromDate?(0,l.xN)(e.fromDate):null,i=null!==e&&void 0!==e&&e.toDate?(0,l.xN)(e.toDate):null,c=(0,l.xN)(new Date),u={data:{userID:98278532,operation:"find",startDate:a||c,endDate:i||c,browserTimeZone:"GMT+05:30",offset:null!==e&&void 0!==e&&e.offset?e.offset:"0"},browserTimeZone:"",version:"2",requestType:236},t.next=7,r.Z.post("getbethanyprescriptions",u,{headers:s()});case 7:p=t.sent,console.log("getbethanyprescriptionlist responce ->",p),200==p.status&&(console.log(),"FAILURE"!=p.data.errorType&&null!==(m=p.data)&&void 0!==m&&m.data?(n({type:d.j3,payload:{data:p.data.data,total:p.data.data.totalNumberOfPages}}),n({type:d.oF,payload:!1})):(localStorage.clear(),localStorage.removeItem("userData"),window.location.href="/home"));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(){return function(){var e=(0,a.Z)(o().mark((function e(t){var n,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={data:{userID:"98278532",browserTimeZone:"GMT+05:30"},browserTimeZone:"",requestType:238,version:"2"},e.next=3,r.Z.post("bethanysynclabmedicine",n,{headers:s()});case 3:if("200"!=(a=e.sent).status){e.next=12;break}if("FAILURE"==a.data.errorType||null===(i=a.data)||void 0===i||!i.data){e.next=9;break}return e.abrupt("return",a.data.data);case 9:localStorage.clear(),localStorage.removeItem("userData"),window.location.href="/home";case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(e){return function(){var t=(0,a.Z)(o().mark((function t(n){var a,i,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={data:{userID:"98278532",listid:e},browserTimeZone:"",requestType:237,version:"2"},t.next=3,r.Z.post("bethanysynclabmedicine",a,{headers:s()});case 3:if("200"!=(i=t.sent).status){t.next=13;break}if(console.log(i),"FAILURE"==i.data.errorType||null===(l=i.data)||void 0===l||!l.data){t.next=10;break}return t.abrupt("return",i.data.data);case 10:localStorage.clear(),localStorage.removeItem("userData"),window.location.href="/home";case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},76858:function(e,t,n){n.d(t,{C:function(){return o}});var a,i=n(30168),o=n(17939).ZP.div(a||(a=(0,i.Z)(['\n\npadding:10px 10px;\nbackground-color:white;\ndisplay:"flex";\nborder-radius:5px;\nbox-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;\n  \n'])))},46174:function(e,t,n){n.d(t,{RQ:function(){return r},nn:function(){return i},t_:function(){return o},x$:function(){return a}});var a="userData",i="C2MDAdmin",o="ClinicAdmin",r="14"},5710:function(e,t,n){n.r(t),n.d(t,{default:function(){return De}});var a=n(29439),i=n(72791),o=n(16030),r=n(79271),s=(n(21739),n(67904)),l=n(90961),d=n(38509),c=n(1413),u=n(93020),p=n(15397),m=n(71666),f=n(95510),h=n(10087),v=n(50672),x=(n(15861),n(93433)),g=n(4942),y=(n(87757),n(10626),n(74569)),j=n.n(y),b=n(13085),N=n(59220),w=n(44234),D="Investigation",Z="Medicine",S=function(e){for(var t=[],n=1;n<=e;n++)t.push(n);return t},k=n(80184);var C=function(e){var t=e.state,n=e.setState,a=e.data,i=(e.setData,e.removeIndex),r=e.deletingFrom,s=(0,o.v9)((function(e){return null===e||void 0===e?void 0:e.presctiptionFormReducer})),l=s.investigationData,d=s.medicinesData,c=(0,o.I0)();return(0,k.jsx)(k.Fragment,{children:t?(0,k.jsx)("div",{className:"modal-prescription",children:(0,k.jsxs)("div",{className:"modal-body-prescription",children:[(0,k.jsx)("div",{className:"modal-content-prescription",children:"Do you want to delete this ?"}),(0,k.jsxs)("div",{className:"modal-buttons-prescription",children:[(0,k.jsx)("button",{className:"modal-cancel-btn-prescription",onClick:function(){n(!1)},children:"No"}),(0,k.jsx)("button",{className:"modal-ok-btn-prescription",onClick:function(){!function(){if(a)if(r===D){var e=l.filter((function(e,t){return t!==i}));console.log("New removed array==>",e),c({type:w.CG,payload:e})}else{var t=d.filter((function(e){return e.id!==i}));console.log("New removed array==>",t),c({type:w.O4,payload:t})}n(!1)}()},children:"Yes"})]})]})}):null})},I=n(86330);var M=function(e){var t=e.state,n=e.setState,a=e.successMessage,i=e.isPreload,r=e.setEditMode,s=e.clearData;return(0,o.I0)(),console.log(a),(0,k.jsx)(k.Fragment,{children:t?(0,k.jsx)("div",{className:"modal-loader",children:(0,k.jsxs)("div",{className:"modal-body-prescription",children:[(0,k.jsx)("div",{className:"modal-content-prescription",children:a||"Success"}),(0,k.jsx)("div",{className:"modal-buttons-prescription",style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center"},children:(0,k.jsx)("button",{className:"modal-ok-btn-prescription",onClick:function(){n(!1),i?r(!1):a.includes("successfully")&&s()},children:"Ok"})})]})}):null})},T=n(72426),O=n.n(T),F=n(29529),A=n(8527),P=n(60028),E=n(31549),R=n(37762),q=function(e){46==e.which||8==e.which||(e.which<48||e.which>57||e.target.value.length>9)&&e.preventDefault()},L=function(e){var t,n={status:!1,error:"message"},a=(0,R.Z)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(i.name){n={status:!0,error:"message"};break}if(i.comment){n={status:!0,error:"message"};break}}}catch(o){a.e(o)}finally{a.f()}return n},B=function(e){var t,n={status:!1,error:"initial"},a=(0,R.Z)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(i.type){n={status:!0,error:""};break}if(i.name){n={status:!0,error:""};break}if(i.when){n={status:!0,error:""};break}if(i.freequancy){n={status:!0,error:""};break}if(i.quantity){n={status:!0,error:""};break}if(i.unit){n={status:!0,error:""};break}if(i.date){n={status:!0,error:""};break}if(i.days){n={status:!0,error:""};break}if(i.instructions){n={status:!0,error:""};break}}}catch(o){a.e(o)}finally{a.f()}return n},G=function(e){return 0==e?"Add investigation":e>0?"Add Investigations":void 0},_=n(82575);var U=function(e){var t=e.state;return e.setState,(0,k.jsx)(k.Fragment,{children:t?(0,k.jsx)("div",{className:"modal-loader",children:(0,k.jsxs)("div",{className:"modal-body-prescription",children:[(0,k.jsx)("div",{className:"modal-content-prescription",children:"Saving prescription. Please wait ..."}),(0,k.jsx)("div",{className:"modal-buttons",style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center"},children:(0,k.jsx)(_.PuffLoader,{color:"black",loading:!0,size:50})})]})}):null})},H=n(38596),W=n(45987),z=n(11785),J=n(15927),V=n(22186),Y=n(31572);var Q=(0,n(41972).ZP)(Y.ZP)((function(e){var t=e.theme;return{minWidth:"110px",width:"100%","label + &":{marginTop:t.spacing(5)},"& .MuiInputBase-input":{borderRadius:4,position:"relative",backgroundColor:t.palette.background.paper,border:"0px solid #ced4da",fontSize:"14px !important",textAlign:"start",padding:".75rem .6rem",transition:t.transitions.create(["border-color","box-shadow"]),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:focus":{borderRadius:4,borderColor:"#ffffff",backgroundColor:"white"}}}})),$=(0,H.Z)((function(e){var t;return{input:{"&::placeholder":(t={textOverflow:"ellipsis !important",color:"blue !important"},(0,g.Z)(t,"color","rgb(119, 119, 119)!important"),(0,g.Z)(t,"opacity","1 !important"),(0,g.Z)(t,"fontSize","14px !important"),t)},root:{"& .css-16awh2u-MuiAutocomplete-root":{width:"200px"},"& .MuiInputLabel-outlined:not(.MuiInputLabel-shrink)":{transform:"translate(34px, 20px) scale(1);"}},inputRoot:{color:"purple",backgroundColor:"white",padding:"0px",fontSize:"14px",'&[class*="MuiOutlinedInput-root"] .MuiAutocomplete-input:first-child':{paddingLeft:0,margin:"0px",padding:0,fontSize:"14px"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"green",border:0},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"red",border:0},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"purple",border:0}}}}));(0,H.Z)((function(e){return{".MuiAutocomplete-root":{borderRadius:4,backgroundColor:"red"},noBorder:{border:"none"},customTextField:{"& input::placeholder":{fontSize:"20px !important",opacity:1}},"input-label":{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",width:"100%",color:"red"},input:{"&::placeholder":{textOverflow:"ellipsis !important",color:"blue"}}}}));var K=function(e){var t=e.value,n=e.data,o=e.name,r=e.onChange,s=e.id,l=e.placeholder,d=e.isSpeciality,u=(e.selected,e.style,$()),p=i.useState(""),m=(0,a.Z)(p,2),f=(m[0],m[1],(0,J.D)({matchFrom:"start",stringify:function(e){return e}}));return(0,i.useEffect)((function(){d&&console.log(t)}),[]),(0,k.jsx)(V.Z,{popoverProps:{style:{width:"auto"}},style:{minWidth:300,width:"100%"},value:t,filterOptions:n?f:null,onChange:function(e,t){r({data:t,id:s,key:o})},classes:u,id:"combo-box-demo",options:n||null,renderInput:function(e){return(0,k.jsx)(z.Z,(0,c.Z)((0,c.Z)({InputProps:{classes:{input:u.input}}},e),{},{placeholder:l}))}})},X=n(55471),ee=n(28957),te=(0,H.Z)((function(e){var t,n;return{placeholder:(t={color:"#868686"},(0,g.Z)(t,"color","rgb(119, 119, 119)!important"),(0,g.Z)(t,"fontSize","14.5px"),(0,g.Z)(t,"margin","0px"),t),root:{"&.MuiOutlinedInput-root":{backgroundColor:"red !important"},"& .MuiInputBase-root":{padding:0,"& .MuiButtonBase-root":{padding:0,paddingLeft:0},"& .MuiInputBase-input":(n={backgroundColor:"white",padding:".8rem .6rem !important",minHeight:30,cursor:"pointer"},(0,g.Z)(n,"backgroundColor","red !important"),(0,g.Z)(n,"fontSize","14px"),n)}}}})),ne=function(e){var t=e.children,n=te();return(0,k.jsx)("div",{className:n.placeholder,children:t})};var ae=function(e){var t=e.onChange,n=e.name,o=e.data,r=e.isMedTable,s=e.id,l=e.placeholder,d=e.value,c=e.style,u=e.isObject,p=e.populationName,m=e.populationId,f=i.useState(""),h=(0,a.Z)(f,2);return h[0],h[1],(0,k.jsx)(ee.Z,{style:c||null,input:(0,k.jsx)(Q,{placeholder:l}),value:d,onChange:function(e){r?(console.log({data:e.target.value,id:s,key:n}),t({data:e.target.value,id:s,key:n})):t(n,e.target.value)},displayEmpty:!0,inputProps:{style:{fontSize:20}},InputLabelProps:{style:{fontSize:20}},renderValue:d?function(){return(0,k.jsx)("span",{children:d})}:function(){return(0,k.jsx)(ne,{children:l})},children:u?o?o.map((function(e,t){return(0,k.jsx)(X.Z,{value:e[m||s],children:e[p||n]},t)})):null:o?o.map((function(e,t){return(0,k.jsx)(X.Z,{value:e,children:e},t)})):null})},ie=n(99401),oe=n(42124),re=n(54513),se=n(60887),le=n(97706),de=(0,H.Z)((function(e){return{root:{"&.MuiOutlinedInput-root":{backgroundColor:"red !important"},"& .MuiInputBase-root":{padding:0,"& .MuiButtonBase-root":{padding:0,paddingLeft:0},"& .MuiInputBase-input":{backgroundColor:"white",padding:".5rem .6rem",fontSize:"14.8px",minHeight:28,cursor:"pointer"}}},inputRoot:{color:"purple",backgroundColor:"white",padding:"0px","& .MuiFormControl-root MuiTextField-root":{backgroundColor:"red"},'&[class*="MuiOutlinedInput-root"] .MuiAutocomplete-input:first-child':{paddingLeft:0,margin:"0px",padding:0},"& .MuiOutlinedInput-notchedOutline":{borderColor:"green",border:0},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"red",border:0},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"purple",border:0}}}}));var ce=function(e){var t=e.onChange,n=e.name,o=e.isMedTable,r=e.id,s=e.maxDate,l=e.minDate,d=e.placeholder,c=e._value,u=i.useState(null),p=(0,a.Z)(u,2),m=(p[0],p[1]),f=de(),h=(0,k.jsx)(se.Z,{children:(0,k.jsx)(se.Z.Item,{onClick:function(){m(null)},children:"Clear date"},"1")}),v=function(e){var t=new Date(e),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];return String(t.getDate()).padStart(2,"0")+"-"+n+"-"+t.getFullYear()};return(0,k.jsx)(oe.M,{utils:ie.Z,children:(0,k.jsx)(le.Z,{overlay:h,trigger:["contextMenu"],children:(0,k.jsx)(re.M,{autoOk:!0,classes:f,InputProps:{disableUnderline:!0},maxDate:s,minDate:l,placeholder:d,variant:"inline",value:c?O()(c):null,onChange:function(e){console.log(e),o?(console.log(e,r,n),t({data:v(e),id:r,key:n})):t(n,v(e))},disableToolbar:!1,format:"dd-MMM-yyyy"})})})};var ue=function(e){var t=e.state,n=e.setState;return(0,k.jsx)(k.Fragment,{children:t?(0,k.jsx)("div",{className:"modal",children:(0,k.jsxs)("div",{className:"modal-body",children:[(0,k.jsx)("div",{className:"modal-content",children:"Prescription already saved. No changes found"}),(0,k.jsx)("div",{className:"modal-buttons",style:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center"},children:(0,k.jsx)("button",{className:"modal-ok-btn",onClick:function(){n(!1)},children:"Ok"})})]})}):null})},pe=["data","setSelected"];var me=function(e){var t=e.data,n=(e.setSelected,(0,W.Z)(e,pe)),r=(I.Z.Option,(0,i.useState)(t)),s=(0,a.Z)(r,2),l=(s[0],s[1],(0,i.useState)([])),d=(0,a.Z)(l,2),u=(d[0],d[1],i.useState([])),p=(0,a.Z)(u,2),m=(p[0],p[1],(0,o.I0)()),f=(0,o.v9)((function(e){return null===e||void 0===e?void 0:e.presctiptionFormReducer})),h=f.selectedDoctors,v=f.doctorsList;return(0,k.jsx)(I.Z,(0,c.Z)((0,c.Z)({value:h,options:function(e){if(e.length>0){for(var t=[],n=0;n<e.length;n++)t.push({label:"".concat(e[n].doctorName),value:e[n].doctorId});return t}}(v),onChange:function(e){var t;t=e,console.log(t),m({type:w.uo,payload:t})},getPopupContainer:function(e){return e.parentNode}},n),{mode:"multiple",style:{width:"364px"},placeholder:"Select doctor",maxTagCount:"responsive"}))},fe=(0,H.Z)((function(e){return{quantityRoot:{color:"#FFFFFF",backgroundColor:"#ffffff",opacity:.6,borderRadius:"5px",outline:"0px !importanrt","&:hover":{backgroundColor:"#ffffff",borderRadius:"5px",opacity:1,border:"0px !importanrt"},"&:focus-within":{borderRadius:"5px",opacity:1,border:"0px !importanrt"},"& .MuiOutlinedInput-notchedOutline":(0,g.Z)({border:"1px solid #ffffff"},"border","0px !importanrt"),"&:hover .MuiOutlinedInput-notchedOutline":(0,g.Z)({border:"1px solid #ffffff"},"border","0px !importanrt"),"& .Mui-focused .MuiOutlinedInput-notchedOutline":(0,g.Z)({border:"1px solid #ffffff",borderRadius:"5px 5px 0 0"},"border","0px !importanrt"),"& .Mui-disabled":{color:"#FFFFFF",opacity:.6,border:"0px !importanrt"},"& .Mui-disabled .MuiOutlinedInput-notchedOutline":(0,g.Z)({border:"1px solid #ff0000"},"border","0px !importanrt")},selectRoot:{color:"#FFFFFF",border:0,"& .Mui-focused .MuiOutlinedInput-notchedOutline":{border:"1px solid #484850",borderRadius:"5px 5px 0 0"}},icon:{color:"#FFFFFF"},selectPaper:{backgroundColor:"#ffffff",border:"1px solid #ffffff",borderRadius:"5px",color:"#FFFFFF","& li:hover":{backgroundColor:"#ffffff"}}}}));I.Z.Option;var he=function(e){var t=e.preloadData,n=(e.backAction,e.setEditMode),s=(0,o.I0)(),l=((0,r.k6)(),(0,i.useState)([])),d=(0,a.Z)(l,2),p=d[0],m=d[1],f=(0,i.useState)([]),y=(0,a.Z)(f,2),I=y[0],T=y[1],_=(0,i.useState)(JSON.parse(localStorage.getItem("basicinfo"))),H=(0,a.Z)(_,2),W=H[0],z=H[1],J=(0,i.useState)({templateName:!1,doctos:!1,department:!1}),V=(0,a.Z)(J,2),Y=V[0],Q=V[1],$=(0,o.v9)((function(e){return null===e||void 0===e?void 0:e.presctiptionFormReducer})),X=($.selectedDataInvestigation,$.selectedDataMedicines,$.submissionData),ee=$.investigationData,te=$.medicinesData,ne=(0,o.v9)((function(e){return null===e||void 0===e?void 0:e.presctiptionFormReducer})),ie=ne.selectedDoctors,oe=ne.selectedDepartment,re=[{name:"Patient Reports",icon:(0,k.jsx)(F.Z,{})},{name:"Investigations",icon:(0,k.jsx)(A.Z,{})},{name:"Medicines",icon:(0,k.jsx)(P.Z,{})},{name:"Additional Instructions",icon:(0,k.jsx)(E.Z,{})}],se=(0,i.useState)(!0),le=(0,a.Z)(se,2),de=(le[0],le[1]);(0,i.useEffect)((function(){var e=JSON.parse(localStorage.getItem("basicinfo"));de(!e)}),[]);var pe=(0,i.useState)(re[0].name),he=(0,a.Z)(pe,2),ve=(he[0],he[1]),xe=(0,i.useState)(!1),ge=(0,a.Z)(xe,2),ye=ge[0],je=ge[1],be=(0,i.useState)(null),Ne=(0,a.Z)(be,2),we=Ne[0],De=Ne[1],Ze=(0,i.useState)(!1),Se=(0,a.Z)(Ze,2),ke=Se[0],Ce=Se[1],Ie=(0,i.useState)(null),Me=(0,a.Z)(Ie,2),Te=Me[0],Oe=Me[1],Fe=(0,i.useState)(null),Ae=(0,a.Z)(Fe,2),Pe=Ae[0],Ee=Ae[1],Re=(0,i.useState)(!1),qe=(0,a.Z)(Re,2),Le=qe[0],Be=qe[1],Ge=(0,i.useState)(""),_e=(0,a.Z)(Ge,2),Ue=_e[0],He=_e[1],We=(0,i.useState)(!1),ze=(0,a.Z)(We,2),Je=ze[0],Ve=ze[1],Ye=(0,i.useState)(!1),Qe=(0,a.Z)(Ye,2),$e=(Qe[0],Qe[1],(0,i.useState)(!1)),Ke=(0,a.Z)($e,2),Xe=Ke[0],et=Ke[1],tt=(0,i.useState)(!1),nt=(0,a.Z)(tt,2),at=nt[0],it=nt[1],ot=(0,i.useState)({height:"",weight:"",lmp:"",cheifcomplaints:"",relevantpointfromhistory:"",diagnosis:"",examinationlabfindings:"",additionalinstrunction:"",doctorName:null===W||void 0===W?void 0:W.doctorname,registrationnumber:null===W||void 0===W?void 0:W.registrationnumber,qualification:null===W||void 0===W?void 0:W.qualification,patientname:null===W||void 0===W?void 0:W.patientname,gender:null===W||void 0===W?void 0:W.gender,age:null===W||void 0===W?void 0:W.age,appointmentdate:null===W||void 0===W?void 0:W.appointmentdate,appointmenttime:null===W||void 0===W?void 0:W.appointmenttime,patientNO:null===W||void 0===W?void 0:W.patientno,doctorcode:null===W||void 0===W?void 0:W.doctorcode,appointmentID:null===W||void 0===W?void 0:W.appointmentID,medicine:[],labTest:[]}),rt=(0,a.Z)(ot,2),st=rt[0],lt=(rt[1],(0,i.useState)(!1)),dt=(0,a.Z)(lt,2),ct=dt[0],ut=dt[1],pt=(0,i.useState)({status:!1,key:0}),mt=(0,a.Z)(pt,2),ft=(mt[0],mt[1],(0,i.useState)({status:!1})),ht=(0,a.Z)(ft,2),vt=ht[0],xt=ht[1],gt=(0,i.useState)(null),yt=(0,a.Z)(gt,2),jt=yt[0],bt=yt[1],Nt=(0,i.useState)(!1),wt=(0,a.Z)(Nt,2),Dt=wt[0],Zt=wt[1],St=(0,i.useState)(0),kt=(0,a.Z)(St,2),Ct=(kt[0],kt[1],(0,i.useState)(null)),It=(0,a.Z)(Ct,2),Mt=(It[0],It[1]),Tt=(0,i.useState)(t),Ot=(0,a.Z)(Tt,2),Ft=Ot[0],At=(Ot[1],(0,i.useState)([])),Pt=(0,a.Z)(At,2),Et=Pt[0],Rt=Pt[1],qt=(0,i.useState)(null),Lt=(0,a.Z)(qt,2),Bt=Lt[0],Gt=Lt[1],_t=(0,i.useState)([]),Ut=(0,a.Z)(_t,2),Ht=Ut[0],Wt=Ut[1],zt=(0,i.useState)([]),Jt=(0,a.Z)(zt,2),Vt=(Jt[0],Jt[1]),Yt=(0,i.useState)(null),Qt=(0,a.Z)(Yt,2),$t=Qt[0],Kt=Qt[1],Xt=(0,i.useState)({department:null,doctors:null,templateName:null}),en=(0,a.Z)(Xt,2),tn=en[0],nn=en[1];(0,i.useEffect)((function(){j().post("https://uat.c2mdr.com/c2mydrrestuat/v1/c2mdapi/getbethanymedicinelist",{token:"token",data:{type:"DRUGS",clinicId:"Bethany",basicinfo:{doctorName:st.doctorName,registrationnumber:st.registrationnumber,qualification:st.qualification,patientname:st.patientname,gender:st.gender,age:st.age,appointmentdate:st.appointmentdate,appointmenttime:st.appointmenttime,patientNO:st.patientNO,doctorcode:st.doctorcode,appointmentID:st.appointmentID}},requestType:233}).then((function(e){e.data.data.description.map((function(e,t){on.push(e)})),it((0,x.Z)(new Set(on)))})),j().post("https://uat.c2mdr.com/c2mydrrestdemo/v1/c2mdapi/getbethanylabtest",{token:"token",data:{isFromMobile:!0,clinicId:"Bethany",basicinfo:{doctorName:st.doctorName,registrationnumber:st.registrationnumber,qualification:st.qualification,patientname:st.patientname,gender:st.gender,age:st.age,appointmentdate:st.appointmentdate,appointmenttime:st.appointmenttime,patientNO:st.patientNO,doctorcode:st.doctorcode,appointmentID:st.appointmentID}},requestType:234}).then((function(e){e.data.data.map((function(e,t){an.push(e.testname)})),et((0,x.Z)(new Set(an)))})).catch((function(e){})),Zn()}),[]),(0,i.useEffect)((function(){Ft?wn():Dn()}),[Ft]),(0,i.useEffect)((function(){var e=function(e){var t,n=null,a=(0,R.Z)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(!i.name){n={id:i.id,element:"Name of Medicine"};break}}}catch(o){a.e(o)}finally{a.f()}return n?{status:!1,error:'"'.concat(n.element,'"  of ').concat(n.id+1).concat(n.id+1==1?"st":n.id+1==2?"nd":n.id+1==3?"rd":"th"," medicine on the Medicines table is missing")}:{status:!0,error:"message"}}(te);console.log(e),xt(e),T([]),T(te)}),[te]),(0,i.useEffect)((function(){var e=function(e){var t,n={status:!0,error:"message"},a=(0,R.Z)(e);try{for(a.s();!(t=a.n()).done;)if(!t.value.name){n={status:!1,error:"Name missing"};break}}catch(i){a.e(i)}finally{a.f()}return n}(ee);bt(e.status),m([]),m(ee)}),[ee]);var an=[],on=[],rn=["GRAMS","MCG","MG","MG/ML","ML","NUM","\u03bcm","PERCENTAGE"],sn=["30 Minutes Before Breakfast ","30 Minutes Before Dinner","30 Minutes Before Food ","30 Minutes Before Lunch ","6 hr for fever > 100 f ","After Dinner","After Food ","After Lunch ","As Directed ","Before Food ","Every fourth hourly ","For immediate use","Four Times Daily","Half a Day-Evening ","Half a Day-Evening and Noon ","Half a Day-Morning ","Half a Day-Morning and Evening ","Half a Day-Morning and Noon ","Half a Day-Noon ","Half tablet, thrice daily","Hourly ","On Alternate Days","On Empty Stomach","Once Daily - Evening","Once Daily - Morning","Once Daily - Morning and Evening","Once Daily - Night ","Once Daily - Noon","Once a Month","Once a Week ","SOS ","Thrice a Day","Thrice Daily","Thrice Weekly","Twice a Day - Noon and Night","Twice Daily ","Twice Daily - Morning and Evening","Twice Daily - Morning and Night ","Twice Daily - Morning and Noon ","Twice Daily - Noon and Evening ","Twice Weekly","Use when required","With First Bite of Food "],ln=(0,i.useState)([{testType:"",testNames:"",comment:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in.",id:3}]),dn=(0,a.Z)(ln,2),cn=(dn[0],dn[1],function(){if(ve(re[1].name),ee.length<=0){var e=[].concat((0,x.Z)(ee),[{name:null,comment:null,id:ee.length}]);s({type:w.CG,payload:e})}else if(null!=ee[ee.length-1].name){var t=[].concat((0,x.Z)(ee),[{name:null,comment:null,id:ee[ee.length-1].id+1}]);s({type:w.CG,payload:t})}}),un=function(){var e=function(e,t,n){if(e.height.value||e.height.unit||e.weight.value||e.weight.unit||e.lmp||e.chiefComplaints||e.releventPoint||e.diagnosis||e.additionalInstruction||e.examination||!0===L(t).status||!0===B(n).status)return{status:!0,error:B(n)}}(X,ee,te);ut(!!e)};(0,i.useEffect)((function(){un()}),[ee,te]);var pn=(0,i.useRef)(),mn=(0,i.useRef)(),fn=(0,i.useRef)(),hn=(0,i.useRef)(),vn=function(e,t){jn("additionalInstruction"===e?3:0),s({type:w.Yy,payload:(0,g.Z)({},e,t)}),un()},xn=function(e,t){jn(0),s({type:w.Yy,payload:(0,g.Z)({},e,(0,c.Z)((0,c.Z)({},X[e]),{},{value:t}))})},gn=function(e){var t=e.id,n=e.data,a=e.key;e.state;jn(1);var i=JSON.parse(JSON.stringify(ee));i[t][a]=n||null,s({type:w.CG,payload:i}),un()},yn=function(e){var t=e.id,n=e.data,a=e.key;jn(2),console.log(t,a,O().isMoment(n)?n.toDate():n);var i=JSON.parse(JSON.stringify(te));console.log(i),i[t][a]=n||null,s({type:w.O4,payload:i}),un()};(0,i.useEffect)((function(){te.length<=1&&(pn.current.scrollLeft=0)}),[te]);var jn=function(e){ve(re[e||0].name)},bn=(fe(),(0,k.jsx)("div",{children:(0,k.jsx)("div",{children:"Complete investigation table to add new row"})})),Nn=(0,k.jsx)("div",{children:(0,k.jsx)("div",{children:"Complete medicines table to add new row"})}),wn=function(){if(console.log(Ft),Ft){var e,t,n,a,i,o,r,l,d,u,p,m,f,h,v,x,g,y,j,b,N,D;if(Gt(null===Ft||void 0===Ft?void 0:Ft.department.Name),s({type:w.Fg,payload:Ft.department.Id}),Sn(Ft.department.Id),s({type:w.uo,payload:Mn(null===Ft||void 0===Ft?void 0:Ft.doctors,"Id")}),Kt(Ft.basicinfo.templateName),z((0,c.Z)((0,c.Z)({},W),{},{patientname:null===Ft||void 0===Ft||null===(e=Ft.basicinfo)||void 0===e?void 0:e.patientname,age:null===Ft||void 0===Ft||null===(t=Ft.basicinfo)||void 0===t?void 0:t.age,gender:null===Ft||void 0===Ft||null===(n=Ft.basicinfo)||void 0===n?void 0:n.gender,patientno:null===Ft||void 0===Ft||null===(a=Ft.basicinfo)||void 0===a?void 0:a.patientNO})),xn("height",null===Ft||void 0===Ft||null===(i=Ft.consultationDetails)||void 0===i?void 0:i.height),xn("weight",null===Ft||void 0===Ft||null===(o=Ft.consultationDetails)||void 0===o?void 0:o.weight),null!==Ft&&void 0!==Ft&&null!==(r=Ft.consultationDetails)&&void 0!==r&&r.lmp)Mt(null===Ft||void 0===Ft||null===(g=Ft.consultationDetails)||void 0===g?void 0:g.lmp);if(null!==Ft&&void 0!==Ft&&null!==(l=Ft.consultationDetails)&&void 0!==l&&l.chiefcomplaints)vn("chiefComplaints",null===Ft||void 0===Ft||null===(y=Ft.consultationDetails)||void 0===y?void 0:y.chiefcomplaints);if(null!==Ft&&void 0!==Ft&&null!==(d=Ft.consultationDetails)&&void 0!==d&&d.notes)vn("releventPoint",null===Ft||void 0===Ft||null===(j=Ft.consultationDetails)||void 0===j?void 0:j.notes);if(null!==Ft&&void 0!==Ft&&null!==(u=Ft.consultationDetails)&&void 0!==u&&u.diagnosis)vn("diagnosis",null===Ft||void 0===Ft||null===(b=Ft.consultationDetails)||void 0===b?void 0:b.diagnosis);if(null!==Ft&&void 0!==Ft&&null!==(p=Ft.consultationDetails)&&void 0!==p&&p.investigation)vn("examination",null===Ft||void 0===Ft||null===(N=Ft.consultationDetails)||void 0===N?void 0:N.investigation);if(null!==Ft&&void 0!==Ft&&null!==(m=Ft.consultationDetails)&&void 0!==m&&m.labTest&&(null===Ft||void 0===Ft||null===(f=Ft.consultationDetails)||void 0===f?void 0:f.labTest.length)>0){var Z=[];Ft.consultationDetails.labTest.map((function(e,t){Z.push({name:e.testType,comment:e.testComment,id:t})})),s({type:w.CG,payload:Z})}if(null!==Ft&&void 0!==Ft&&null!==(h=Ft.consultationDetails)&&void 0!==h&&h.medicine&&(null===Ft||void 0===Ft||null===(v=Ft.consultationDetails)||void 0===v?void 0:v.medicine.length)>0){var S,k=[];null===Ft||void 0===Ft||null===(S=Ft.consultationDetails)||void 0===S||S.medicine.map((function(e,t){k.push({id:t,type:e.type,name:e.name,when:e.medtakeMethod,freequancy:e.displayTablet,quantity:e.quandity,unit:e.measurement,date:e.StartVal,days:e.totalDays,instructions:e.mediComment})})),s({type:w.O4,payload:k})}if(null!==Ft&&void 0!==Ft&&null!==(x=Ft.consultationDetails)&&void 0!==x&&x.instruction)vn("additionalInstruction",null===Ft||void 0===Ft||null===(D=Ft.consultationDetails)||void 0===D?void 0:D.instruction)}},Dn=function(){s({type:w.We}),Gt(null),Kt("")},Zn=function(){s((0,v.Ps)()).then((function(e){console.log(e),Rt(e)}))},Sn=function(e){s((0,v.zj)({department_id:e})).then((function(e){console.log(e),s({type:w.uo,payload:kn(e)}),s({type:w.PD,payload:e}),Wt(e)}))},kn=function(e){var t=[];return e&&e.map((function(e){t.push(e.doctorId)})),t},Cn=function(){var e={department:null,doctors:null,templateName:null};return e.department=Bt?null:"* Please select department.",e.templateName=$t?null:"* Template name can't be empty.",ie.length<=0?e.doctors="*Please select doctors.":e.doctors=null,nn(e),!(e.department||e.doctors||e.templateName)};(0,i.useEffect)((function(){Y.templateName&&nn($t?(0,c.Z)((0,c.Z)({},tn),{},{templateName:null}):(0,c.Z)((0,c.Z)({},tn),{},{templateName:"* Template name can't be empty."}))}),[$t]),(0,i.useEffect)((function(){Y.templateName&&(ie.length<=0?nn((0,c.Z)((0,c.Z)({},tn),{},{doctors:"*Please select doctors."})):nn((0,c.Z)((0,c.Z)({},tn),{},{doctors:null})))}),[ie.length]),(0,i.useEffect)((function(){Y.templateName&&nn(Bt?(0,c.Z)((0,c.Z)({},tn),{},{department:null}):(0,c.Z)((0,c.Z)({},tn),{},{department:"* Please select department."}))}),[Bt]);var In=function(){return(0,k.jsx)("span",{children:"\xa0\xa0"})},Mn=function(e,t){var n=[];if(e)return e.map((function(e){n.push(e[t])})),n};return console.log(ie.length,Bt),(0,k.jsxs)("div",{className:"prescription-form-main-container",children:[(0,k.jsx)("div",{className:"prescription-form-container",style:{width:"100%"},children:(0,k.jsx)("div",{className:"prescription-form-content-container",children:(0,k.jsxs)("div",{className:"prescription-form-content",ref:hn,children:[(0,k.jsx)("div",{className:"container"}),(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%",padding:"1rem",position:"relative",minWidth:"100%",flexWrap:"wrap"},children:[(0,k.jsx)("div",{}),(0,k.jsxs)("ul",{className:"report-list shadow-underline",children:[(0,k.jsxs)("li",{children:[(0,k.jsxs)("div",{children:[(0,k.jsxs)("span",{className:"form-small-tittle",children:["Choose Speciality ",(0,k.jsx)("span",{style:{color:"red"},children:"*"})," "]}),(0,k.jsx)("span",{className:"form-caption"})]}),(0,k.jsx)(N.Z,{title:Bt,children:(0,k.jsx)("div",{className:"form-light-background ".concat(tn.department?"form-error":null),children:(0,k.jsx)(K,{placeholder:"Select speciality",isSpeciality:!0,value:Bt,data:Et.length>0?function(e){var t=[];return e&&e.map((function(e){t.push(e.departmentName)})),t}(Et):[],onChange:function(e){console.log(e.data);var t=Et.filter((function(t){return t.departmentName==e.data}));s({type:w.Fg,payload:t[0]}),Gt(t[0].departmentName),Sn(t[0].departmentId)},name:"name"})})}),(0,k.jsx)("span",{className:"prescription-form-error",children:tn.department?tn.department:(0,k.jsx)(In,{})})]}),(0,k.jsxs)("li",{children:[(0,k.jsxs)("div",{children:[(0,k.jsxs)("span",{className:"form-small-tittle",children:["Choose Doctor ",(0,k.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,k.jsx)("span",{className:"form-caption"})]}),(0,k.jsx)("div",{className:"form-light-background ".concat(tn.doctors?"form-error":null),children:(0,k.jsx)(me,{data:Ht.length>0?kn(Ht):[],setSelected:function(e){console.log(e),e&&Vt(e)}})}),(0,k.jsx)("span",{className:"prescription-form-error",children:tn.doctors?tn.doctors:(0,k.jsx)(In,{})})]}),(0,k.jsxs)("li",{children:[(0,k.jsxs)("div",{children:[(0,k.jsxs)("span",{className:"form-small-tittle",children:["Template Name ",(0,k.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,k.jsx)("span",{className:"form-caption"})]}),(0,k.jsx)("div",{className:"form-light-background ".concat(tn.templateName?"form-error":"form-ok"),children:(0,k.jsx)("input",{value:$t,onChange:function(e){!function(e){Kt(e.target.value)}(e)},type:"text",className:"form-input-text",placeholder:"Enter template name",style:{width:"364px"}})}),(0,k.jsx)("span",{className:"prescription-form-error",children:tn.templateName?tn.templateName:(0,k.jsx)(In,{})})]})]}),(0,k.jsx)("span",{className:"form-heading-2",style:{marginTop:"1rem"},children:"Patient Reports"}),(0,k.jsxs)("div",{onClick:function(){ve(re[0].name)},className:"report-list-container",children:[(0,k.jsxs)("div",{style:{padding:"0rem",display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:"1rem",width:"100%",justifyContent:"space-between"},children:[(0,k.jsxs)("div",{style:{display:"fex",flexDirection:"column"},children:[(0,k.jsx)("span",{className:"form-small-tittle",children:"Chief Complaints"}),(0,k.jsx)("div",{className:"form-light-background-big",children:(0,k.jsx)("textarea",{id:"chiefComplaints",value:X.chiefComplaints?X.chiefComplaints:"",className:"form-input-text-area",name:"chiefcomplaints",placeholder:"Type here",rows:4,onChange:function(e){vn(e.target.id,e.target.value)}})})]}),(0,k.jsxs)("div",{style:{display:"fex",flexDirection:"column",marginLeft:"1rem"},children:[(0,k.jsx)("span",{className:"form-small-tittle",children:"Relevant points from history"}),(0,k.jsx)("div",{className:"form-light-background-big",children:(0,k.jsx)("textarea",{id:"releventPoint",value:X.releventPoint?X.releventPoint:"",className:"form-input-text-area",rows:4,placeholder:"Type here",onChange:function(e){vn(e.target.id,e.target.value)}})})]})]}),(0,k.jsxs)("div",{style:{padding:".0rem",display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:"1rem",width:"100%",justifyContent:"space-between"},children:[(0,k.jsxs)("div",{style:{display:"fex",flexDirection:"column"},children:[(0,k.jsx)("span",{className:"form-small-tittle",children:"Diagnosis or Provisional Diagnosis"}),(0,k.jsx)("div",{className:"form-light-background-big",children:(0,k.jsx)("textarea",{value:X.diagnosis?X.diagnosis:"",id:"diagnosis",className:"form-input-text-area",rows:4,placeholder:"Type here",onChange:function(e){vn(e.target.id,e.target.value)}})})]}),(0,k.jsxs)("div",{style:{display:"fex",flexDirection:"column",marginLeft:"1rem"},children:[(0,k.jsx)("span",{className:"form-small-tittle",children:"Examination/Lab Findings"}),(0,k.jsx)("div",{className:"form-light-background-big",children:(0,k.jsx)("textarea",{id:"examination",value:X.examination?X.examination:"",className:"form-input-text-area",rows:4,placeholder:"Type here",onChange:function(e){vn(e.target.id,e.target.value)}})})]})]})]}),(0,k.jsx)("div",{className:"separator"}),(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"99%"},children:[(0,k.jsx)("span",{className:"form-heading-2",style:{marginTop:"1rem"},children:"Investigations"}),jt?(0,k.jsxs)("button",{className:jt?"add-investigation-btn":"add-investigation-btn-disabled",onClick:function(){cn()},children:[(0,k.jsx)(h.td,{})," ",G(ee.length)]}):(0,k.jsx)(u.Z,{trigger:"click",content:jt?null:bn,children:(0,k.jsxs)("button",{className:jt?"add-investigation-btn":"add-investigation-btn-disabled",onClick:function(){cn()},children:[(0,k.jsx)(h.td,{})," ",G(ee.length)]})})]}),p.length>0?(0,k.jsxs)("table",{onClick:function(){ve(re[1].name)},ref:mn,className:"investigations-table",children:[(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{children:(0,k.jsx)("div",{children:"#"})}),(0,k.jsx)("th",{children:(0,k.jsx)("div",{children:"Investigation Name(s)"})}),(0,k.jsx)("th",{colSpan:"2",children:(0,k.jsx)("div",{children:"Comments/Instructions"})})]}),p.map((function(e,t){return(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{children:t+1}),(0,k.jsx)("td",{children:(0,k.jsx)(K,{placeholder:"Select investigation",id:t,value:e.name,data:Xe||[],onChange:Xe&&gn,name:"name"})}),(0,k.jsx)("td",{children:(0,k.jsx)("textarea",{rows:1,value:e.comment?e.comment:"",placeholder:"Type here",className:"investigations-input-text-area",onChange:function(e){gn({data:e.target.value,id:t,key:"comment",state:ee})}})}),(0,k.jsx)("td",{children:(0,k.jsxs)("div",{style:{cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},onClick:function(){De(t),je(!0),Ee(D)},children:[" ",(0,k.jsx)(h.sh,{})]})})]})}))]}):(0,k.jsx)("div",{className:"no-table-data",ref:mn,children:"( No Investigations found )"}),(0,k.jsx)("div",{className:"separator"}),(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"99%"},children:[(0,k.jsx)("span",{className:"form-heading-2",style:{marginTop:"1rem"},children:"Medicines"}),vt.status?(0,k.jsxs)("button",{className:vt.status?"add-investigation-btn":"add-investigation-btn-disabled",onClick:function(){if(ve(re[2].name),te.length<=0){var e=[].concat((0,x.Z)(te),[{id:te.length,type:null,name:null,when:null,freequancy:null,quantity:null,unit:null,date:null,days:null,instructions:null}]);s({type:w.O4,payload:e}),pn.current.scrollLeft=0}else if(null!=te[te.length-1].name){var t=[].concat((0,x.Z)(te),[{id:te[te.length-1].id+1,type:null,name:null,when:null,freequancy:null,quantity:null,unit:null,date:null,days:null,instructions:null}]);s({type:w.O4,payload:t}),pn.current.scrollLeft=0}else b.Z.error({message:"Medicines table is incomplete",description:"Please fill the all fields in Medicines table inorder to add new row.",placement:"bottomRight"})},children:[" ",(0,k.jsx)(h.td,{}),"  Add Medicines"]}):(0,k.jsx)(u.Z,{trigger:"click",content:Nn,children:(0,k.jsxs)("button",{className:vt.status?"add-investigation-btn":"add-investigation-btn-disabled",children:[" ",(0,k.jsx)(h.td,{}),"  Add Medicines"]})})]}),I.length>0?(0,k.jsx)("div",{onClick:function(){ve(re[2].name)},ref:pn,className:"medicine-table-container",children:(0,k.jsxs)("table",{className:"medicine-table",children:[(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{children:(0,k.jsx)("div",{children:"#"})}),(0,k.jsx)("th",{children:(0,k.jsx)("div",{children:"Name of Medicine"})}),(0,k.jsx)("th",{children:(0,k.jsx)("div",{children:"When to have"})}),(0,k.jsx)("th",{children:(0,k.jsx)("div",{children:"Frequency"})}),(0,k.jsx)("th",{children:(0,k.jsx)("div",{children:"Quantity"})}),(0,k.jsx)("th",{children:(0,k.jsx)("div",{children:"Unit"})}),(0,k.jsx)("th",{children:(0,k.jsx)("div",{children:"Starting Date"})}),(0,k.jsx)("th",{children:(0,k.jsx)("div",{children:"No.of Days"})}),(0,k.jsx)("th",{colspan:"2",children:(0,k.jsx)("div",{children:"Instructions"})})]}),I.map((function(e,t){return(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{children:t+1}),(0,k.jsx)("td",{children:(0,k.jsx)(K,{placeholder:"Select medicine",id:t,value:e.name,data:at||[],onChange:yn,name:"name"})}),(0,k.jsx)("td",{children:(0,k.jsx)(ae,{placeholder:"When to have",id:t,data:["Before Food","After Food","SOS"],name:"when",value:e.when,onChange:yn,isMedTable:!0})}),(0,k.jsx)("td",{children:(0,k.jsx)(ae,{value:e.freequancy,placeholder:"Select frequency",id:t,data:sn||[],name:"freequancy",onChange:yn,isMedTable:!0})}),(0,k.jsx)("td",{children:(0,k.jsx)("input",{value:e.quantity?e.quantity:"",onKeyPress:q,placeholder:"Enter quantity",type:"text",className:"investigations-input-text-input",onChange:function(e){return yn({data:e.target.value,id:t,key:"quantity"})}})}),(0,k.jsx)("td",{children:(0,k.jsx)(ae,{value:e.unit,placeholder:"Select unit",id:t,data:rn||[],name:"unit",onChange:yn,isMedTable:!0})}),(0,k.jsx)("td",{children:(0,k.jsx)(ce,{placeholder:"Select date",minDate:new Date,id:t,name:"date",_value:e.date,onChange:yn,isMedTable:!0})}),(0,k.jsx)("td",{children:(0,k.jsx)(ae,{value:e.days,placeholder:"Select days",id:t,data:S(120),name:"days",onChange:yn,isMedTable:!0})}),(0,k.jsx)("td",{children:(0,k.jsx)("textarea",{value:e.instructions?e.instructions:"",defaultValue:e.instructions,className:"medicine-table-input-text-area",rows:1,placeholder:"Type here",onChange:function(e){yn({data:e.target.value,id:t,key:"instructions"})}})}),(0,k.jsx)("td",{children:(0,k.jsx)("div",{style:{cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},onClick:function(){var t;t=e.id,Oe(t),Ce(!0),Ee(Z)},children:(0,k.jsx)(h.sh,{})})})]})}))]})}):(0,k.jsx)("div",{className:"no-table-data",ref:pn,children:"( No Medicines found )"}),(0,k.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"99%"},children:(0,k.jsx)("span",{className:"form-heading-2",style:{marginTop:"1rem"},children:"Additional Instructions"})}),(0,k.jsx)("div",{onClick:function(){ve(re[3].name)},className:"form-light-background",style:{width:"45%"},children:(0,k.jsx)("textarea",{value:X.additionalInstruction?X.additionalInstruction:"",ref:fn,className:"form-input-text-area",rows:3,placeholder:"Type here",style:{width:"100%"},onChange:function(e){vn("additionalInstruction",e.target.value)}})}),(0,k.jsx)("br",{}),(0,k.jsx)("br",{}),(0,k.jsx)("br",{}),(0,k.jsx)("br",{}),(0,k.jsx)("br",{}),(0,k.jsx)("div",{children:" \xa0"})]})]})})}),(0,k.jsx)(C,{deletingFrom:Pe,state:ye,setState:je,data:ee,removeIndex:we}),(0,k.jsx)(C,{deletingFrom:Pe,state:ke,setState:Ce,data:te,removeIndex:Te}),(0,k.jsx)(M,{clearData:Dn,isPreload:t,setEditMode:n,state:Le,setState:Be,successMessage:Ue}),(0,k.jsx)(ue,{state:Je,setState:Ve}),(0,k.jsx)(U,{state:Dt}),ct?(0,k.jsx)("div",{className:"button-container",children:(0,k.jsxs)("button",{disabled:Dt,onClick:function(){!function(){var e=Cn();if(Q({templateName:!0,doctos:!0,department:!0}),e){Zt(!0);var n=[];ee.map((function(e){null!=e.name&&n.push({testType:e.name,testNames:"",testComment:null!=e.comment?e.comment:""})}));var a=[];te.map((function(e,t){null!=e.name&&a.push({StartVal:null!==e.date?e.date:"",StrengthVal:"",displayTablet:null!=e.freequancy?e.freequancy:"",isPermitted:!1,measurement:null!=e.unit?e.unit:"",mediComment:null!=e.instructions?e.instructions:"",medtakeMethod:null!=e.when?e.when:"",name:e.name,quandity:null!=e.quantity?e.quantity:"",totalDays:null!=e.days?e.days:"",type:"DRUGS"})}));var i={data:{prescriptionDetails:{attachementArrs:[],consultationDetails:{doctor_suggestion:"",chiefcomplaints:null!=X.chiefComplaints?X.chiefComplaints:"",diagnosis:null!=X.diagnosis?X.diagnosis:"",investigation:null!=X.examination?X.examination:"",notes:null!=X.releventPoint?X.releventPoint:"",instruction:null!=X.additionalInstruction?X.additionalInstruction:"",share:!0,privateMessage:"",lmp:null!=X.lmp?X.lmp:"",labTest:n,medicine:a},basicinfo:{departmentId:null===oe||void 0===oe?void 0:oe.departmentId,doctorIds:ie.toString(),templateName:$t}},browserTimeZone:""},browserTimeZone:"",requestType:t?1066:1061};t&&(i.data.prescriptionDetails.basicinfo.templateId=t.tempId);try{j().post("https://uat.c2mdr.com/c2mydrrestuat/v1/c2mdapi/".concat(t?"updatetemplate":"createtemplate"),i).then((function(e){console.log(e),Zt(!1),He(e.data.data.info),Be(!0),Q({templateName:!1,doctos:!1,department:!1})}))}catch(o){console.log(o),Be(!0)}}else hn.current.scrollTop=0}()},className:Dt?"save-rescription-btn-disabled":"save-rescription-btn",children:[" ",(0,k.jsx)(h.cy,{}),"  ",t?"UPDATE":"SAVE"," TEMPLATE"]})}):null]})},ve=n(75910);m.Z.RangePicker;var xe=function(){var e=(0,o.I0)(),t=((0,i.useRef)(null),(0,o.v9)((function(e){return e.interbranchAdmin.dashboardTable})),(0,i.useState)(!1)),n=(0,a.Z)(t,2),s=(n[0],n[1],(0,i.useState)(0)),l=(0,a.Z)(s,2),d=l[0],m=l[1],f=(0,i.useState)([]),x=(0,a.Z)(f,2),g=x[0],y=x[1],j=(0,i.useState)(0),b=(0,a.Z)(j,2),N=b[0],w=b[1],D=(0,i.useState)(!1),Z=(0,a.Z)(D,2),S=Z[0],C=Z[1],I=(0,i.useState)(null),M=(0,a.Z)(I,2),T=M[0],O=(M[1],(0,i.useState)([])),F=(0,a.Z)(O,2),A=F[0],P=F[1];(0,r.k6)(),(0,r.TH)(),(0,i.useEffect)((function(){e((0,v.A8)({offset:0})).then((function(e){y(e.data),w(e.total)}))}),[]),(0,i.useEffect)((function(){e((0,v.A8)({offset:d})).then((function(e){y(e.data),w(e.total)}))}),[S]);var E=function(e){if(e)return e.split(",")},R=function(e){var t=e.split(","),n=[];return t.map((function(e){n.push("".concat(e,"  "))})),n.toString()};(0,i.useEffect)((function(){P(g)}),[g]),(0,i.useEffect)((function(){q(T||null)}),[T]);var q=function(e){if(e&&""!=e){var t=g.filter((function(t){return!!t.tempId.includes(e.toString())||(!!t.tempName.toLowerCase().includes(e.toString().toLowerCase())||(!!t.Departments[0].Name.toLowerCase().includes(e.toString().toLowerCase())||(!!t.createdDate.toLowerCase().includes(e.toString().toLowerCase())||(!!t.updatedDate.toLowerCase().includes(e.toString().toLowerCase())||void 0))))}));P(t)}else console.log("No search key..."),P(g||[])},L=function(e){var t,n=e.data;return(0,k.jsx)("div",{className:"view-prescription-doctor-list-container-small",children:(0,k.jsx)("ul",{children:(null===(t=n.split(","))||void 0===t?void 0:t.length)>0?n.split(",").map((function(e,t){return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("li",{children:[e,(n.split(",").length,"")," "]})})})):null})})},B=(0,i.useState)(!1),G=(0,a.Z)(B,2),_=G[0],U=G[1];return(0,i.useEffect)((function(){console.log("Start loading...................."),U(!0)}),[]),(0,i.useEffect)((function(){A.length>0&&(console.log("Stop loading...................."),U(!1)),A.length<0&&(console.log("Stop loading...................."),U(!1))}),[A]),(0,k.jsxs)("div",{className:"appontment-history-container",children:[S?(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},children:[(0,k.jsxs)("div",{style:{marginBottom:".8rem",marginTop:".8rem",cursor:"pointer",width:"fit-content"},onClick:function(){C(null)},children:[(0,k.jsx)(h.D1,{size:14}),(0,k.jsx)("b",{style:{marginLeft:".5rem"},children:"Back"})]}),(0,k.jsx)(he,{setEditMode:C,preloadData:S})]}):(0,k.jsx)("div",{className:"todays_report_table_container",children:(0,k.jsxs)("table",{className:"appoinment-table",children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{children:"Template ID"}),(0,k.jsx)("th",{children:"Template Name"}),(0,k.jsx)("th",{children:"Speciality"}),(0,k.jsx)("th",{children:"Created On"}),(0,k.jsx)("th",{children:"Last Updated On"}),(0,k.jsx)("th",{children:"Assigned To"}),(0,k.jsx)("th",{children:(0,k.jsx)("div",{className:"center",children:"Edit"})}),(0,k.jsx)("th",{children:(0,k.jsx)("div",{className:"center",children:"View"})})]})}),(0,k.jsx)("tbody",{children:A.length>0?A.map((function(e,t){var n;return(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{children:e.tempId}),(0,k.jsx)("td",{children:e.tempName}),(0,k.jsx)("td",{children:null===(n=e.Departments[0])||void 0===n?void 0:n.Name}),(0,k.jsx)("td",{children:e.createdDate}),(0,k.jsx)("td",{children:e.updatedDate?e.updatedDate:"No Data Available"}),(0,k.jsx)("td",{children:e.assignedDoctors?E(e.assignedDoctors).length>1?(0,k.jsxs)(u.Z,{content:(0,k.jsx)(L,{data:null===e||void 0===e?void 0:e.assignedDoctors}),title:"Doctors list (".concat(null===e||void 0===e?void 0:e.assignedDoctors.split(",").length,")"),children:[E(e.assignedDoctors)[0],", +",E(e.assignedDoctors).length-1]}):R(e.assignedDoctors):"No Data Available"}),(0,k.jsx)("td",{children:(0,k.jsx)("div",{className:"edit-btn center",onClick:function(){!function(e,t){C((0,c.Z)((0,c.Z)({},e),{},{tempId:t.tempId,departmentName:t.assignedDepartments,doctors:t.Doctors,department:t.Departments[0]}))}(e.tempData,e)},children:(0,k.jsx)(h.dY,{})})}),(0,k.jsx)("td",{children:(0,k.jsx)("a",{className:"center",href:"viewprescription/"+e.tempId,target:"_blank",children:(0,k.jsx)(h.ON,{})})})]})})):(0,k.jsx)("tr",{children:(0,k.jsx)("td",{colSpan:7,children:(0,k.jsx)(ve.Z,{isLoading:_})})})})]})}),(0,k.jsxs)("div",{className:"pagination-container-mis-report",children:["\xa0",(0,k.jsx)(p.Z,{onChange:function(t,n){e((0,v.A8)({offset:t-1})).then((function(e){y(e.data),w(e.total),m(t-1)}))},defaultCurrent:1,total:N?10*N:0})]})]})};n(39898);var ge=function(e){var t=e.state,n=e.setState,a=e.onOk;return(0,k.jsx)(k.Fragment,{children:t?(0,k.jsx)("div",{className:"modal-loader syncsuccessmodal",children:(0,k.jsxs)("div",{className:"modal-body-prescription body",children:[(0,k.jsxs)("div",{className:"modal-content-prescription content",children:[(0,k.jsx)(h.B_,{}),(0,k.jsx)("span",{className:"syncsuccessmodal-message",children:" Data Successfully Sync..."})]}),(0,k.jsx)("div",{onClick:function(){a&&a(),n(!1)},className:"syncsuccessmodal-footer",children:"Ok"})]})}):null})},ye=m.Z.RangePicker;var je=function(){var e=(0,i.useRef)(null),t=(0,o.v9)((function(e){return e.presctiptionFormReducer})),n=t.crDashboard,r=t.crDashboardTotal,s=t.isLoading,l=(0,i.useState)(!1),d=(0,a.Z)(l,2),u=d[0],m=d[1],h=(0,i.useState)(null),x=(0,a.Z)(h,2),g=x[0],y=(x[1],(0,i.useState)([])),j=(0,a.Z)(y,2),b=j[0],N=j[1],w=(0,i.useState)(!1),D=(0,a.Z)(w,2),Z=D[0],S=D[1],C=(0,i.useState)(!1),I=(0,a.Z)(C,2),M=I[0],T=I[1],F=(0,i.useState)(!1),A=(0,a.Z)(F,2),P=A[0],E=A[1],R=(0,i.useState)(!1),q=(0,a.Z)(R,2),L=(q[0],q[1],(0,i.useState)(null)),B=(0,a.Z)(L,2),G=B[0],_=B[1],U=(0,i.useState)(0),H=(0,a.Z)(U,2),W=H[0],z=H[1],J=(0,i.useState)({fromDate:"",toDate:""}),V=(0,a.Z)(J,2),Y=V[0],Q=V[1],$=(0,i.useState)(!0),K=(0,a.Z)($,2),X=(K[0],K[1],(0,o.I0)());(0,i.useEffect)((function(){N(null!==n&&void 0!==n&&n.prescriptionlist?null===n||void 0===n?void 0:n.prescriptionlist:[])}),[n]),(0,i.useEffect)((function(){null!==n&&void 0!==n&&n.prescriptionlist&&ee(g||null)}),[g]);var ee=function(e){var t=null===n||void 0===n?void 0:n.prescriptionlist;if(e&&""!=e){console.log("Have search key...",e.length);var a=t.filter((function(t){return!!t.appointmentID.includes(e.toString())||(!!t.patientName.toLowerCase().includes(e.toString().toLowerCase())||(!!t.doctorname.toLowerCase().includes(e.toString().toLowerCase())||void 0))}));N(a)}else console.log("No search key..."),N(n.prescriptionlist?n.prescriptionlist:[])};return(0,i.useEffect)((function(){return function(){X((0,v.Ax)())}}),[]),(0,k.jsxs)("div",{className:"mis_report_container",children:[(0,k.jsxs)("div",{className:"header",children:[(0,k.jsxs)("button",{onClick:function(){Z||(console.log("Start sync"),S(!0),X((0,v.Wp)()).then((function(e){S(!1),console.log(e),T(!0)})))},children:[(0,k.jsx)("div",{className:"icon ".concat(Z?"rotate":""),children:(0,k.jsx)("i",{class:"far fa-sync"})}),Z?"Syncing...":"Sync Lab Test & Medicine"]}),(0,k.jsxs)("div",{className:"filter-button",children:[(0,k.jsx)("div",{className:"icon",onClick:function(){m(!u)},children:(0,k.jsx)("i",{class:"far fa-calendar-alt"})}),(0,k.jsx)(ye,{style:{width:"250px"},inputReadOnly:!0,format:"DD-MMM-YYYY",ref:e,bordered:!1,className:"date-picker",suffixIcon:null,onChange:function(e){if(e){var t=(0,a.Z)(e,2),n=t[0],i=t[1],o=O()().subtract(3,"months");console.log((0,f.xN)(o)),console.log({fromDate:n,toDate:i}),Q({fromDate:n,toDate:i}),X((0,v.Ax)({fromDate:n,toDate:i}))}else X((0,v.Ax)())}})]})]}),(0,k.jsx)("div",{className:"mis_report_table_container",children:(0,k.jsxs)("table",{className:"appoinment-table",children:[(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{children:"App Id"}),(0,k.jsx)("th",{style:{width:"230px"},children:"Patient"}),(0,k.jsx)("th",{children:"Doctor"}),(0,k.jsx)("th",{children:"App Date & Time"}),(0,k.jsx)("th",{children:"Prescription"}),(0,k.jsx)("th",{children:"Sync Status"})]}),(0,k.jsx)("tbody",{children:b.length>0?b.map((function(e,t){return(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{children:e.appointmentID}),(0,k.jsx)("td",{children:e.patientName}),(0,k.jsx)("td",{children:e.doctorname}),(0,k.jsx)("td",{children:"".concat(e.appointmentDate,", ").concat(e.appointmentTime)}),(0,k.jsx)("td",{children:(0,k.jsx)("div",{onClick:function(){var t;(t=e.prescriptionFile)&&window.open(t,"_blank")},className:"link-style",children:"Download"})}),(0,k.jsx)("td",{children:(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,k.jsx)("div",{className:"prescription_sync_status_indicator ",children:(0,k.jsx)("div",{className:"".concat("true"===e.pushstatus?"completed":"pending")})}),"\xa0 \xa0","true"==e.pushstatus?"":G==e.id&&P?(0,k.jsx)("div",{className:"icon rotate",children:(0,k.jsx)("i",{class:"far fa-sync"})}):(0,k.jsx)("span",{onClick:function(){var t;t=e.id,P||(_(t),console.log("Start sync individual"),E(!0),X((0,v.pO)(t)).then((function(e){E(!1),console.log(e),T(!0)})))},className:"link-style",children:"Push to HIS"})]})})]})})):(0,k.jsx)("tr",{children:(0,k.jsx)("td",{colSpan:6,children:(0,k.jsx)(ve.Z,{marginTop:200,isLoading:s})})})})]})}),(0,k.jsxs)("div",{className:"pagination-container-mis-report",children:["\xa0",(0,k.jsx)(p.Z,{showSizeChanger:!1,onChange:function(e,t){X((0,v.Ax)((0,c.Z)((0,c.Z)({},Y),{},{offset:e-1}))).then((function(t){z(e-1)}))},defaultCurrent:1,total:r?10*r:0})]}),(0,k.jsx)(ge,{onOk:function(){X((0,v.Ax)((0,c.Z)((0,c.Z)({},Y),{},{offset:W})))},state:M,setState:T})]})},be=n(76858),Ne=n(66530),we=(n(9809),n(46967),[{tittle:" Template",options:[{name:"Create Template",ico:(0,k.jsx)("i",{class:"far fa-file-alt"}),component:(0,k.jsx)(he,{})},{name:"Edit / View",ico:(0,k.jsx)("i",{class:"far fa-calendar-alt"}),component:(0,k.jsx)(xe,{})}]}]);n(14503);var De=function(){var e=(0,o.I0)(),t=(0,r.k6)(),n=(0,i.useState)({menu:"dashboard",option:0}),c=(0,a.Z)(n,2),u=c[0],p=c[1],m=(0,o.v9)((function(e){return e.interbranchModal})),f=(m.ApointmentHistoryModal,m.ViewFileModal,m.deleteFileModel,m.commonDeleteModal,m.PatientDetailsModal,m.todaysReportModal),x=m.misReportModal,g=(0,i.useRef)(null),y=(0,o.v9)((function(e){return e.login.user}));return(0,i.useEffect)((function(){e((0,v.Ax)())}),[]),console.log(),(0,k.jsxs)("div",{className:"interbranch-container",children:[(0,k.jsx)("div",{className:"left-container",children:(0,k.jsxs)("div",{className:"letf-top",children:[(0,k.jsx)("div",{className:"header-card",style:{marginBottom:"2.5rem"},children:(0,k.jsxs)(be.C,{className:"d-flex flex-column justify-content-center align-items-center mt-2",style:{width:"100%",height:"79.14px",color:"rgba(0, 0, 0, 0.85)"},children:[(0,k.jsx)("div",{className:"dr-name-home text-center w-100",style:{fontWeight:"500"},children:y?y.profileName:"---"}),(0,k.jsxs)("div",{className:"dr-id-home text-center w-100",style:{fontWeight:"500"},children:["ID: ",y?y.profileId:"---"]})]})}),(0,k.jsx)("div",{className:"tittle",onClick:function(){p({menu:"dashboard",option:0})},style:{fontWeight:"dashboard"==u.menu?"bold":"normal",cursor:"pointer"},children:"Dashboard"}),we.map((function(e,t){if("Dashboard"!==e.tittle)return(0,k.jsxs)(i.Fragment,{children:[(0,k.jsx)("div",{className:"list-tittle",children:e.tittle}),(0,k.jsx)("ul",{className:"side-nav",children:e.options.map((function(e,n){return(0,k.jsxs)("li",{className:u.menu===t&&u.option===n?"active":null,onClick:function(){p({menu:t,option:n})},children:[(0,k.jsx)("div",{className:"icon",children:e.ico}),(0,k.jsx)("div",{className:"text",children:e.name})]},n)}))})]},t)})),(0,k.jsxs)("div",{className:"header-card logout",style:{marginTop:"2.5rem",coursor:"pointer !important"},onClick:function(){e((0,Ne.Cd)(y)),t.push("home")},children:[(0,k.jsx)("div",{className:"icon",children:(0,k.jsx)(h.cp,{})}),"SIGN OUT"]})]})}),(0,k.jsxs)("div",{className:"right-container",ref:g,children:[(0,k.jsxs)("div",{className:"header-card",children:[(0,k.jsx)("span",{children:"dashboard"==u.menu?"Dashboard":"consolidated"==u.menu?"Consolidated":we[u.menu].options[u.option].name}),(0,k.jsx)("span",{className:"caption",children:"\xa0"})]}),(0,k.jsxs)("div",{className:"right-menu-container",children:[(0,k.jsx)(s.Z,{width:700,state:f,modalName:"todaysReportModal",component:(0,k.jsx)(d.Z,{}),isRight:!0}),(0,k.jsx)(s.Z,{width:700,state:x,modalName:"misReportModal",component:(0,k.jsx)(l.Z,{}),isRight:!0}),(0,k.jsx)("div",{className:"container_interbranch",children:"dashboard"==u.menu?(0,k.jsx)(je,{}):we[u.menu].options[u.option].component?we[u.menu].options[u.option].component:null})]})]})]})}},10626:function(){}}]);
//# sourceMappingURL=5056.22ff76d5.chunk.js.map