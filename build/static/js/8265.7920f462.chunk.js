"use strict";(self.webpackChunkconnect2mydoctor=self.webpackChunkconnect2mydoctor||[]).push([[8265],{76355:function(e,n,t){t.r(n),t.d(n,{default:function(){return M}});var o=t(29439),a=t(72791),s=t(16030),i=t(21739),l=t(67904),r=t(90961),c=t(46967),d=t(38509),m=t(9809),h=t(71666),u=t(3677),x=t(15397),p=t(72426),f=t.n(p),j=t(39898),v=t(44234),N=t(95510),b=t(68678),g=t(80184),D=b.Z.TextArea;var C=function(e){var n=e.value,t=e.element,s=e.onBlur,i=(0,a.useState)(null),l=(0,o.Z)(i,2),r=l[0],c=l[1];return(0,a.useEffect)((function(){n&&c(n)}),[n]),(0,g.jsx)(D,{onChange:function(e){c(e.target.value)},value:""!=r?r:"-",onBlur:function(e){s(t.appointmentId,e)},rows:1})},Z=(t(48337),t(46174)),y=(t(10087),t(75910)),R=(b.Z.TextArea,h.Z.RangePicker);var w=function(){var e=(0,a.useRef)(null),n=(0,a.useState)(!1),t=(0,o.Z)(n,2),l=t[0],r=t[1],c=(0,a.useState)(null),d=(0,o.Z)(c,2),m=d[0],h=d[1],p=(0,a.useState)({from:null,to:null}),b=(0,o.Z)(p,2),D=b[0],w=b[1],k=(0,s.I0)(),M=(0,s.v9)((function(e){return e.interbranchAdmin.detailedReportTable})),S=(0,s.v9)((function(e){return e.interbranchAdmin.detailedReportTableTotalPages})),T=localStorage.getItem(Z.x$),I=(T=JSON.parse(T)).userType,A=function(){console.log("Downloading report.............."),k((0,i.yI)({fromDate:D.from,toDate:D.to})).then((function(e){e&&window.open(e,"_blank")}))},F=function(e,n){k((0,i.bv)(e,n.target.value)).then((function(e){e&&k((0,i.Oz)({offset:m,context:"Comment Change",fromDate:D.from,toDate:D.to}))}))};return(0,g.jsxs)("div",{className:"mis_report_container",children:[(0,g.jsxs)("div",{className:"header",children:[(0,g.jsxs)("button",{onClick:function(){A()},children:[(0,g.jsx)("div",{className:"icon",children:(0,g.jsx)("i",{class:"far fa-download"})})," Download Report"]}),(0,g.jsxs)("div",{className:"filter-button",children:[(0,g.jsx)("div",{className:"icon",onClick:function(){r(!l)},children:(0,g.jsx)("i",{class:"far fa-calendar-alt"})}),(0,g.jsx)(R,{ref:e,bordered:!1,className:"date-picker",suffixIcon:null,onChange:function(e){if(e){var n=(0,o.Z)(e,2),t=n[0],a=n[1],s=f()().subtract(3,"months");console.log((0,N.xN)(s)),t<s?u.Z.confirm({title:"Confirm",content:"You can only view report within a 3 month span. Do you want to download the report before 3 months?",okText:"Download Report",cancelText:"cancel",onOk:function(){A()}}):(w({from:t,to:a}),k((0,i.Oz)({fromDate:t,toDate:a,offset:m,context:"Date Change"})))}}})]})]}),(0,g.jsx)("div",{className:"mis_report_table_container",children:(0,g.jsxs)("table",{className:"appoinment-table",children:[(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"Appoinment ID"}),(0,g.jsx)("th",{children:"Appoinment Date"}),(0,g.jsx)("th",{children:"Appointment Time"}),(0,g.jsx)("th",{children:"Patient Name"}),(0,g.jsx)("th",{children:"Doctor Name"}),I===Z.nn?(0,g.jsx)("th",{children:"Hospital Name"}):null,(0,g.jsx)("th",{children:"Fees Paid"}),(0,g.jsx)("th",{children:"C2MD Fees"}),(0,g.jsx)("th",{children:"Nett Fees"}),(0,g.jsx)("th",{children:"Consultation Status"}),(0,g.jsx)("th",{children:"Payment Status"}),(0,g.jsx)("th",{children:"Notes"}),(0,g.jsx)("th",{})]}),(0,g.jsx)("tbody",{children:M?M.length>0?M.map((function(e,n){if(7==n&&console.log(e.Comments),n<=8)return(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:e.appointmentId}),(0,g.jsx)("td",{children:e.appointmentDate}),(0,g.jsx)("td",{children:e.appointmentTime}),(0,g.jsx)("td",{children:e.patientName}),(0,g.jsx)("td",{children:e.doctorName}),I===Z.nn?(0,g.jsx)("td",{children:e.hospital}):null,(0,g.jsx)("td",{children:e.feesPaid}),(0,g.jsx)("td",{children:e.c2mdFees}),(0,g.jsx)("td",{children:e.nettFees}),(0,g.jsx)("td",{children:(0,g.jsx)(j.Z,{text:"Completed",varient:"completed"})}),(0,g.jsx)("td",{children:e.paymentStatus}),(0,g.jsx)("td",{children:(0,g.jsx)(C,{value:e.Comments,element:e,onBlur:F})}),(0,g.jsx)("td",{children:(0,g.jsx)("button",{onClick:function(){var n;n=e.appointmentId,k((0,i.N$)(n)),k({type:v.Th,payload:{name:"misReportModal",value:!0}})},className:"more-btn",children:"More"})})]})})):(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:12,children:(0,g.jsx)(y.Z,{})})}):console.log("no mis report")})]})}),(0,g.jsxs)("div",{className:"pagination-container-mis-report",children:["\xa0",(0,g.jsx)(x.Z,{onChange:function(e){k((0,i.Oz)({offset:e-1,context:"Pagination Change",fromDate:D.from,toDate:D.to})),h(e-1)},defaultCurrent:1,total:S?8*S:0})]})]})},k=[{tittle:"Dashboard",options:[{name:"Dashboard",ico:(0,g.jsx)("i",{class:"fal fa-book-medical"}),component:(0,g.jsx)(c.Z,{}),date:"10, February, 2021 - Wednesday"}]},{tittle:"MIS REPORTS",options:[{name:"Detailed Report",ico:(0,g.jsx)("i",{class:"far fa-calendar-alt"}),component:(0,g.jsx)(w,{})},{name:"Consolidate Report",ico:(0,g.jsx)("i",{class:"far fa-file-alt"}),component:(0,g.jsx)(m.Z,{})}]}];t(14503);var M=function(){var e=(0,s.I0)(),n=(0,a.useState)({menu:"dashboard",option:0}),t=(0,o.Z)(n,2),m=t[0],h=t[1],u=(0,s.v9)((function(e){return e.interbranchModal})),x=(u.ApointmentHistoryModal,u.ViewFileModal,u.deleteFileModel,u.commonDeleteModal,u.PatientDetailsModal,u.todaysReportModal),p=u.misReportModal,f=(0,a.useRef)(null);return(0,a.useEffect)((function(){e((0,i.$m)()),e((0,i.Oz)({context:"Admin Home useEffect"})),e((0,i.iz)())}),[]),(0,g.jsxs)("div",{className:"interbranch-container",children:[(0,g.jsxs)("div",{className:"left-container",children:[(0,g.jsxs)("div",{className:"letf-top",children:[(0,g.jsx)("div",{className:"header-card",style:{marginBottom:"2.5rem"},children:"\xa0"}),(0,g.jsx)("div",{className:"tittle",onClick:function(){h({menu:"dashboard",option:0})},style:{fontWeight:"dashboard"==m.menu?"bold":"normal",cursor:"pointer"},children:"Dashboard"}),k.map((function(e,n){if("Dashboard"!==e.tittle)return(0,g.jsxs)(a.Fragment,{children:[(0,g.jsx)("div",{className:"list-tittle",children:e.tittle}),(0,g.jsx)("ul",{className:"side-nav",children:e.options.map((function(e,t){return(0,g.jsxs)("li",{className:m.menu===n&&m.option===t?"active":null,onClick:function(){h({menu:n,option:t})},children:[(0,g.jsx)("div",{className:"icon",children:e.ico}),(0,g.jsx)("div",{className:"text",children:e.name})]},t)}))})]},n)}))]}),(0,g.jsxs)("div",{className:"header-card logout",children:[(0,g.jsx)("div",{className:"icon",children:"\xa0"}),"SIGN OUT"]})]}),(0,g.jsxs)("div",{className:"right-container",ref:f,children:[(0,g.jsxs)("div",{className:"header-card",children:[(0,g.jsx)("span",{children:"dashboard"==m.menu?"Dashboard":"consolidated"==m.menu?"Consolidated":k[m.menu].options[m.option].name}),(0,g.jsx)("span",{className:"caption",children:"\xa0"})]}),(0,g.jsxs)("div",{className:"right-menu-container",children:[(0,g.jsx)(l.Z,{width:700,state:x,modalName:"todaysReportModal",component:(0,g.jsx)(d.Z,{}),isRight:!0}),(0,g.jsx)(l.Z,{width:700,state:p,modalName:"misReportModal",component:(0,g.jsx)(r.Z,{}),isRight:!0}),(0,g.jsx)("div",{className:"container_interbranch",children:"dashboard"==m.menu?(0,g.jsx)(c.Z,{}):k[m.menu].options[m.option].component?k[m.menu].options[m.option].component:null})]})]})]})}}}]);
//# sourceMappingURL=8265.7920f462.chunk.js.map