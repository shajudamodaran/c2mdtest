{"ast":null,"code":"var _jsxFileName = \"/home/developer/Projects/Personal/Doctor-dashboard/BITBUCKET/New/c2md-web_react/src/components/MisReport/Misreport.jsx\",\n    _s = $RefreshSig$();\n\nimport { DatePicker, Modal, Pagination, Tooltip } from 'antd';\nimport React, { useRef, useState } from 'react';\nimport moment from \"moment\";\nimport './misreport.css';\nimport { useDispatch, useSelector } from 'react-redux';\nimport StatusBadge from '../Badges/StatusBadge/StatusBadge';\nimport { FETCH_ADMIN_DASHBOARD_REPORT, FETCH_ADMIN_DETAILED_REPORT, FETCH_DASHBOARD_MORE, FETCH_DETAILED_MORE, updateMisReportComment } from '../../actions/InterbranchAdminActions';\nimport { INTERBRANCH_MODAL } from '../../actions/type';\nimport { convertDateToString } from '../../Helpers/dateFunctions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  RangePicker\n} = DatePicker;\n\nfunction Misreport() {\n  _s();\n\n  const dateRef = useRef(null);\n  let [isOpen, setOpen] = useState(false);\n  const dispatch = useDispatch();\n  let misReports = useSelector(state => state.interbranchAdmin.detailedReportTable);\n\n  let handleTableClick = _id => {\n    dispatch(FETCH_DETAILED_MORE(_id));\n    dispatch({\n      type: INTERBRANCH_MODAL,\n      payload: {\n        name: \"misReportModal\",\n        value: true\n      }\n    });\n  };\n\n  let filterOnClick = () => {\n    setOpen(!isOpen);\n  };\n\n  let handledateChange = e => {\n    if (e) {\n      let [startDate, endDate] = e;\n      let prevDate = moment().subtract(3, 'months');\n      console.log(convertDateToString(prevDate));\n      console.log();\n\n      if (startDate < prevDate) {\n        Modal.confirm({\n          title: 'Confirm',\n          // icon: <ExclamationCircleOutlined />,\n          content: 'You can only view report within a 3 month span. Do you want to download the report before 3 months?',\n          okText: 'Download Report',\n          cancelText: 'cancel',\n\n          onOk() {\n            downloadReport(startDate, endDate);\n          }\n\n        });\n      } else {\n        dispatch(FETCH_ADMIN_DETAILED_REPORT({\n          fromDate: startDate,\n          toDate: endDate\n        })); //downloadReport(startDate, endDate)\n      }\n    }\n  };\n\n  let downloadReport = (startDate, endDate) => {\n    console.log(\"Ready to download report................\");\n  };\n\n  let handleCommentChange = (para_appointment_id, e) => {\n    dispatch(updateMisReportComment(para_appointment_id, e.target.value)).then(res => {\n      if (res) {\n        dispatch(FETCH_ADMIN_DETAILED_REPORT());\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mis_report_container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"icon\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"far fa-download\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), \" Download Report\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-button\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"icon\",\n          onClick: filterOnClick,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"far fa-calendar-alt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 67\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(RangePicker // open={isOpen}\n        , {\n          ref: dateRef,\n          bordered: false,\n          className: \"date-picker\",\n          suffixIcon: null // disabledDate={(current) => {\n          //     return moment().add(-3, 'month') >= current\n          //     // ||\n          //     //  moment().add(1, 'month')  <= current;\n          // }}\n          ,\n          onChange: handledateChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mis_report_table_container\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"appoinment-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Appoinment ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Appoinment Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Appointment Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Patient Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Doctor Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Hospital Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Fees Paid\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"C2MD Fees\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Nett Fees\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Consultation Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Payment Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Notes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: misReports ? misReports.length > 0 ? misReports.map((element, key) => {\n            if (key <= 8) {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: element.appointmentId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: element.appointmentDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: element.appointmentTime\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: element.patientName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: element.doctorName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"Bethany Hospital\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: element.feesPaid\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: element.c2mdFees\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: element.nettFees\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(StatusBadge, {\n                    text: \"Completed\",\n                    varient: \"completed\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 57\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: element.paymentStatus\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"textArea\", {\n                    onBlur: e => {\n                      handleCommentChange(element.appointmentId, e);\n                    },\n                    rows: 1,\n                    children: element.Comments\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 57\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => {\n                      handleTableClick(element.appointmentId);\n                    },\n                    className: \"more-btn\",\n                    children: \"More\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 59\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 53\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 49\n              }, this);\n            }\n          }) : console.log(\"length \", misReports.length) : console.log(\"no mis report\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pagination-container-mis-report\",\n      children: [\"\\xA0\", /*#__PURE__*/_jsxDEV(Pagination, {\n        defaultCurrent: 8,\n        total: misReports.length\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Misreport, \"9gjaqpOIFtGAEPKTtTDRW7YMyh0=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Misreport;\nexport default Misreport;\n\nvar _c;\n\n$RefreshReg$(_c, \"Misreport\");","map":{"version":3,"sources":["/home/developer/Projects/Personal/Doctor-dashboard/BITBUCKET/New/c2md-web_react/src/components/MisReport/Misreport.jsx"],"names":["DatePicker","Modal","Pagination","Tooltip","React","useRef","useState","moment","useDispatch","useSelector","StatusBadge","FETCH_ADMIN_DASHBOARD_REPORT","FETCH_ADMIN_DETAILED_REPORT","FETCH_DASHBOARD_MORE","FETCH_DETAILED_MORE","updateMisReportComment","INTERBRANCH_MODAL","convertDateToString","RangePicker","Misreport","dateRef","isOpen","setOpen","dispatch","misReports","state","interbranchAdmin","detailedReportTable","handleTableClick","_id","type","payload","name","value","filterOnClick","handledateChange","e","startDate","endDate","prevDate","subtract","console","log","confirm","title","content","okText","cancelText","onOk","downloadReport","fromDate","toDate","handleCommentChange","para_appointment_id","target","then","res","length","map","element","key","appointmentId","appointmentDate","appointmentTime","patientName","doctorName","feesPaid","c2mdFees","nettFees","paymentStatus","Comments"],"mappings":"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","sourcesContent":["import { DatePicker, Modal, Pagination, Tooltip } from 'antd';\nimport React, { useRef, useState } from 'react'\nimport moment from \"moment\"\nimport './misreport.css'\nimport { useDispatch, useSelector } from 'react-redux';\nimport StatusBadge from '../Badges/StatusBadge/StatusBadge';\nimport { FETCH_ADMIN_DASHBOARD_REPORT, FETCH_ADMIN_DETAILED_REPORT, FETCH_DASHBOARD_MORE, FETCH_DETAILED_MORE, updateMisReportComment } from '../../actions/InterbranchAdminActions';\nimport { INTERBRANCH_MODAL } from '../../actions/type';\nimport { convertDateToString } from '../../Helpers/dateFunctions';\n\n\nconst { RangePicker } = DatePicker;\n\nfunction Misreport() {\n\n    const dateRef = useRef(null)\n\n    let [isOpen, setOpen] = useState(false)\n\n    const dispatch = useDispatch()\n\n\n    let misReports =useSelector(state => state.interbranchAdmin.detailedReportTable)\n\n\n    let handleTableClick = (_id) => {\n\n        dispatch(FETCH_DETAILED_MORE(_id))\n       \n        dispatch({\n            type: INTERBRANCH_MODAL,\n            payload: {\n                name: \"misReportModal\",\n                value: true\n            }\n        });\n\n      \n\n    }\n\n    let filterOnClick = () => {\n\n        setOpen(!isOpen)\n\n    }\n\n    let handledateChange = (e) => {\n\n\n        if (e) {\n            let [startDate, endDate] = e\n\n            let prevDate = moment().subtract(3, 'months')\n\n            console.log(convertDateToString(prevDate));\n\n            console.log();\n\n            if (startDate < prevDate) {\n\n                Modal.confirm({\n                    title: 'Confirm',\n                    // icon: <ExclamationCircleOutlined />,\n                    content: 'You can only view report within a 3 month span. Do you want to download the report before 3 months?',\n                    okText: 'Download Report',\n                    cancelText: 'cancel',\n                    onOk() {\n                        downloadReport(startDate, endDate)\n                    },\n                });\n            }\n            else {\n\n                dispatch(FETCH_ADMIN_DETAILED_REPORT({fromDate:startDate,toDate:endDate}))\n                //downloadReport(startDate, endDate)\n            }\n\n\n\n        }\n\n\n    }\n\n    let downloadReport = (startDate, endDate) => {\n\n        console.log(\"Ready to download report................\");\n\n    }\n\n\n    let handleCommentChange = (para_appointment_id,e) =>{\n\n        dispatch(updateMisReportComment(para_appointment_id,e.target.value)).then((res)=>{\n\n            if(res)\n            {\n                dispatch(FETCH_ADMIN_DETAILED_REPORT())\n            }\n\n        })\n       \n\n    }\n\n\n\n\n    return (\n        <div className='mis_report_container'>\n\n            <div className=\"header\">\n\n                <button>\n\n                    <div className=\"icon\"><i class=\"far fa-download\"></i></div> Download Report</button>\n\n                <div className=\"filter-button\" >\n\n                    <div className=\"icon\" onClick={filterOnClick}><i class=\"far fa-calendar-alt\"></i></div>\n\n\n                    <RangePicker\n                        // open={isOpen}\n                        ref={dateRef}\n                        bordered={false}\n                        className=\"date-picker\"\n                        suffixIcon={null}\n                        // disabledDate={(current) => {\n                        //     return moment().add(-3, 'month') >= current\n                        //     // ||\n                        //     //  moment().add(1, 'month')  <= current;\n                        // }}\n                        onChange={handledateChange} />\n                </div>\n\n\n            </div>\n\n\n            <div className='mis_report_table_container'>\n\n\n                <table className='appoinment-table'>\n                    <tr>\n                        <th>Appoinment ID</th>\n                        <th>Appoinment Date</th>\n                        <th>Appointment Time</th>\n                        <th>Patient Name</th>\n                        <th>Doctor Name</th>\n                        <th>Hospital Name</th>\n                        <th>Fees Paid</th>\n                        <th>C2MD Fees</th>\n                        <th>Nett Fees</th>\n                        <th>Consultation Status</th>\n                        <th>Payment Status</th>\n                        <th>Notes</th>\n                        <th></th>\n                    </tr>\n\n                    <tbody>\n\n                        {\n                            misReports ?\n                                misReports.length > 0 ?\n\n                                    misReports.map((element, key) => {\n\n                                      \n\n                                        if (key <= 8) {\n\n                                            return (\n\n                                                <tr>\n                                                    <td>{element.appointmentId}</td>\n                                                    <td>{element.appointmentDate}</td>\n                                                    <td>{element.appointmentTime}</td>\n                                                    <td>{element.patientName}</td>\n                                                    <td>{element.doctorName}</td>\n                                                    <td>Bethany Hospital</td>\n                                                    <td>{element.feesPaid}</td>\n                                                    <td>{element.c2mdFees}</td>\n                                                    <td>{element.nettFees}</td>\n                                                    <td><StatusBadge text=\"Completed\" varient=\"completed\" /></td>\n                                                    <td>{element.paymentStatus}</td>\n                                                    <td><textArea onBlur={(e)=>{handleCommentChange(element.appointmentId,e)}} rows={1} >{element.Comments}</textArea></td>\n\n                                                    <td  ><button onClick={() => { handleTableClick(element.appointmentId) }} className='more-btn' >More</button></td>\n\n                                                </tr>\n                                            )\n                                        }\n                                    })\n\n                                    : console.log(\"length \", misReports.length)\n                                : console.log(\"no mis report\")\n                        }\n\n\n\n\n\n\n                    </tbody>\n                </table>\n\n            </div>\n\n\n            <div className=\"pagination-container-mis-report\">\n\n                &nbsp;\n                <Pagination defaultCurrent={8} total={ misReports.length} />\n            </div>\n\n\n\n        </div>\n    )\n}\n\nexport default Misreport"]},"metadata":{},"sourceType":"module"}