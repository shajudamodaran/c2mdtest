{"ast":null,"code":"var _jsxFileName = \"/home/veena/Downloads/c2md-web_react/src/components/EmergencyContact/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Style from \"./EmergencyContact.module.scss\";\nimport { Button } from \"react-bootstrap\";\nimport CountryJson from \"../../constants/country.json\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport CustomDropDown from \"../Common/CustomDropDown\";\nimport ContinueSkipLinks from \"../ContinueSkipLinks\";\nimport Custommodal from \"./ConfirmModal\";\nimport PhoneInput from \"react-phone-input-2\";\nimport \"react-phone-input-2/lib/style.css\";\nimport CustomPhoneInput from \"../CustomPhoneInput/CustomPhoneInput\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction EmergencyContact({\n  progressIncrementer,\n  appoinment_form,\n  Store_formData\n}) {\n  _s();\n\n  var _appoinment_form$emer, _appoinment_form$emer2, _emergencyData$mobile2, _emergencyData$emerge2, _emergencyData$mobile3, _emergencyData$emerge3;\n\n  useEffect(() => {\n    document.querySelector(\"body\").scrollTo(0, 0);\n  }, []);\n  const [showModal, setShowModal] = useState(false);\n  const dispatch = useDispatch();\n  const [emergencyData, setEmergencyData] = useState({\n    name: appoinment_form.emergencyname ? appoinment_form.emergencyname : \"\",\n    relation: appoinment_form.emergencyrelation ? appoinment_form.emergencyrelation : \"\",\n    mobileNo: appoinment_form.emergencyphone ? (_appoinment_form$emer = appoinment_form.emergencyphone) === null || _appoinment_form$emer === void 0 ? void 0 : (_appoinment_form$emer2 = _appoinment_form$emer.slice(3)) === null || _appoinment_form$emer2 === void 0 ? void 0 : _appoinment_form$emer2.replace(/ /g, \"\") : \"\",\n    emergencyNoCode: appoinment_form.emergencyNoCode ? appoinment_form.emergencyNoCode : \"91\"\n  });\n  const errorInit = {\n    name: false,\n    relation: false,\n    mobileNo: false,\n    error: false\n  };\n  const relat = [\"Father\", \"Mother\", \"Brother\", \"Sister\", \"Son\", \"Daughter\", \"Grandfather\", \"Grandmother\", \"Friend\", \"Wife\", \"Husband\", \"Cousin\", \"Aunt\", \"Uncle\"];\n  const [error, setError] = useState(errorInit);\n  useEffect(() => {\n    if (error.error) {\n      let errorTemp = errorInit;\n\n      if (emergencyData.name == \"\") {\n        errorTemp = { ...errorTemp,\n          name: true,\n          error: true\n        };\n      }\n\n      if (emergencyData.relation == \"\") {\n        errorTemp = { ...errorTemp,\n          relation: true,\n          error: true\n        };\n      }\n\n      if (emergencyData.mobileNo == \"\") {\n        errorTemp = { ...errorTemp,\n          mobileNo: true,\n          error: true,\n          mobileErrormsg: `Please let us know the number we can reach you`\n        };\n      } else if (emergencyData.mobileNo != \"\" && !emergencyData.mobileNo.match(/^[1-9]{1}[0-9]{11}$/)) {\n        errorTemp = { ...errorTemp,\n          mobileNo: true,\n          error: true,\n          mobileErrormsg: `There seems to be some issue with the mobile number you entered.\n        Please check`\n        };\n      }\n\n      setError({ ...errorTemp,\n        error: true\n      });\n    }\n  }, [emergencyData]);\n\n  const onContinue = () => {\n    let errorTemp = errorInit;\n\n    if (emergencyData.name == \"\") {\n      errorTemp = { ...errorTemp,\n        name: true,\n        error: true\n      };\n    }\n\n    if (emergencyData.relation == \"\") {\n      errorTemp = { ...errorTemp,\n        relation: true,\n        error: true\n      };\n    }\n\n    if (emergencyData.mobileNo == \"\") {\n      errorTemp = { ...errorTemp,\n        mobileNo: true,\n        error: true,\n        mobileErrormsg: `Please let us know the number we can reach you`\n      };\n    } else if (emergencyData.mobileNo != \"\" && !emergencyData.mobileNo.match(/^[1-9]{1}[0-9]{11}$/)) {\n      errorTemp = { ...errorTemp,\n        mobileNo: true,\n        error: true,\n        mobileErrormsg: `There seems to be some issue with the mobile number you entered.\n        Please check`\n      };\n    }\n\n    setError(errorTemp);\n\n    if (!errorTemp.error) {\n      var _emergencyData$mobile, _emergencyData$emerge, _appoinment_form$remi;\n\n      let phoneNo = (_emergencyData$mobile = emergencyData.mobileNo) === null || _emergencyData$mobile === void 0 ? void 0 : _emergencyData$mobile.slice(emergencyData === null || emergencyData === void 0 ? void 0 : (_emergencyData$emerge = emergencyData.emergencyNoCode) === null || _emergencyData$emerge === void 0 ? void 0 : _emergencyData$emerge.length);\n      let emergencyNum = `%2B${emergencyData.emergencyNoCode} ${phoneNo}`;\n\n      if ((appoinment_form === null || appoinment_form === void 0 ? void 0 : (_appoinment_form$remi = appoinment_form.reminderNumber) === null || _appoinment_form$remi === void 0 ? void 0 : _appoinment_form$remi.replace(/ /g, \"\")) == (emergencyNum === null || emergencyNum === void 0 ? void 0 : emergencyNum.replace(/ /g, \"\"))) {\n        setShowModal(true);\n      } else {\n        dispatch(Store_formData({ ...appoinment_form,\n          emergencyphone: emergencyNum,\n          emergencyname: emergencyData.name,\n          emergencyrelation: emergencyData.relation,\n          emergencyNoCode: emergencyData.emergencyNoCode\n        }));\n        progressIncrementer();\n      }\n    }\n  };\n\n  const handleChange = e => {\n    const re = /^[0-9\\b]+$/;\n\n    if (e.target.value === \"\" || re.test(e.target.value)) {\n      setEmergencyData({ ...emergencyData,\n        mobileNo: e.target.value\n      });\n    }\n  };\n\n  const onCancel = () => {\n    progressIncrementer();\n  }; // const onblurAction = () => {\n  // };\n\n\n  const handleOnChange = (value, data, event, formattedValue) => {};\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: Style.emergency_contact_main_heading,\n      children: \"Incase of an emergency, who would you like us to contact?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `form-group`,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: Style.emergency_contact_label,\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        className: `${Style.emergency_contact_input_field} ${error.name && Style.inputError}`,\n        placeholder: \"Enter Your Name\",\n        value: emergencyData.name,\n        onChange: e => {\n          setEmergencyData({ ...emergencyData,\n            name: e.target.value\n          });\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), error.name && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: Style.error,\n        children: \"Please let us know who would you like us to contact incase of an emergency\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group  mb-spce\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: `${Style.emergency_contact_label}`,\n        children: \"Relationship\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CustomDropDown, {\n        error: error.relation,\n        DataItem: relat,\n        onClick: e => {\n          setEmergencyData({ ...emergencyData,\n            relation: e\n          });\n        },\n        defaultPlaceH: emergencyData.relation != \"\",\n        selectedData: emergencyData.relation != \"\" ? emergencyData.relation : \"Choose Relationship\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), error.relation && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: Style.error,\n        children: \"Please let us know how is this person related\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: Style.emergency_contact_label,\n        children: \"Mobile Number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `mob-flag-wrp${\" \"}${Style.emergency_phoneInpt}${\" \"} ${error.mobileNo && Style.inputError}`,\n        children: /*#__PURE__*/_jsxDEV(CustomPhoneInput, {\n          country: \"in\",\n          value: (_emergencyData$mobile2 = emergencyData.mobileNo) === null || _emergencyData$mobile2 === void 0 ? void 0 : _emergencyData$mobile2.slice((_emergencyData$emerge2 = emergencyData.emergencyNoCode) === null || _emergencyData$emerge2 === void 0 ? void 0 : _emergencyData$emerge2.length),\n          name: \"mobileNo\",\n          autoFormat: false,\n          countryCodeEditable: false,\n          onChange: (value, data, event, formattedValue) => {\n            setEmergencyData({ ...emergencyData,\n              mobileNo: value,\n              emergencyNoCode: data.dialCode\n            });\n            handleOnChange(value, data, event, formattedValue);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), error.mobileNo && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: Style.error,\n        children: error.mobileErrormsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ContinueSkipLinks, {\n      progressIncrementer: progressIncrementer,\n      onContinue: onContinue\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Custommodal, {\n      showModal: showModal,\n      setShowModal: setShowModal,\n      onCancel: onCancel,\n      number: \"+\" + emergencyData.emergencyNoCode + \" \" + ((_emergencyData$mobile3 = emergencyData.mobileNo) === null || _emergencyData$mobile3 === void 0 ? void 0 : _emergencyData$mobile3.slice((_emergencyData$emerge3 = emergencyData.emergencyNoCode) === null || _emergencyData$emerge3 === void 0 ? void 0 : _emergencyData$emerge3.length)) // deleteItems={deleteItems}\n      // modalItem={modalItem}\n\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(EmergencyContact, \"igdVyf3pwupI4rt6tSyhruWqY8E=\", false, function () {\n  return [useDispatch];\n});\n\n_c = EmergencyContact;\nexport default EmergencyContact;\n\nvar _c;\n\n$RefreshReg$(_c, \"EmergencyContact\");","map":{"version":3,"sources":["/home/veena/Downloads/c2md-web_react/src/components/EmergencyContact/index.js"],"names":["React","useState","useEffect","Style","Button","CountryJson","useDispatch","useSelector","CustomDropDown","ContinueSkipLinks","Custommodal","PhoneInput","CustomPhoneInput","EmergencyContact","progressIncrementer","appoinment_form","Store_formData","document","querySelector","scrollTo","showModal","setShowModal","dispatch","emergencyData","setEmergencyData","name","emergencyname","relation","emergencyrelation","mobileNo","emergencyphone","slice","replace","emergencyNoCode","errorInit","error","relat","setError","errorTemp","mobileErrormsg","match","onContinue","phoneNo","length","emergencyNum","reminderNumber","handleChange","e","re","target","value","test","onCancel","handleOnChange","data","event","formattedValue","emergency_contact_main_heading","emergency_contact_label","emergency_contact_input_field","inputError","emergency_phoneInpt","dialCode"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Style from \"./EmergencyContact.module.scss\";\nimport { Button } from \"react-bootstrap\";\nimport CountryJson from \"../../constants/country.json\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport CustomDropDown from \"../Common/CustomDropDown\";\nimport ContinueSkipLinks from \"../ContinueSkipLinks\";\nimport Custommodal from \"./ConfirmModal\";\nimport PhoneInput from \"react-phone-input-2\";\nimport \"react-phone-input-2/lib/style.css\";\nimport CustomPhoneInput from \"../CustomPhoneInput/CustomPhoneInput\";\nfunction EmergencyContact({\n  progressIncrementer,\n  appoinment_form,\n  Store_formData,\n}) {\n  useEffect(() => {\n    document.querySelector(\"body\").scrollTo(0, 0);\n  }, []);\n  const [showModal, setShowModal] = useState(false);\n  const dispatch = useDispatch();\n  const [emergencyData, setEmergencyData] = useState({\n    name: appoinment_form.emergencyname ? appoinment_form.emergencyname : \"\",\n    relation: appoinment_form.emergencyrelation\n      ? appoinment_form.emergencyrelation\n      : \"\",\n    mobileNo: appoinment_form.emergencyphone\n      ? appoinment_form.emergencyphone?.slice(3)?.replace(/ /g, \"\")\n      : \"\",\n    emergencyNoCode: appoinment_form.emergencyNoCode\n      ? appoinment_form.emergencyNoCode\n      : \"91\",\n  });\n  const errorInit = {\n    name: false,\n    relation: false,\n    mobileNo: false,\n    error: false,\n  };\n\n  const relat = [\n    \"Father\",\n    \"Mother\",\n    \"Brother\",\n    \"Sister\",\n    \"Son\",\n    \"Daughter\",\n    \"Grandfather\",\n    \"Grandmother\",\n    \"Friend\",\n    \"Wife\",\n    \"Husband\",\n    \"Cousin\",\n    \"Aunt\",\n    \"Uncle\",\n  ];\n\n  const [error, setError] = useState(errorInit);\n\n  useEffect(() => {\n    if (error.error) {\n      let errorTemp = errorInit;\n      if (emergencyData.name == \"\") {\n        errorTemp = { ...errorTemp, name: true, error: true };\n      }\n\n      if (emergencyData.relation == \"\") {\n        errorTemp = { ...errorTemp, relation: true, error: true };\n      }\n\n      if (emergencyData.mobileNo == \"\") {\n        errorTemp = {\n          ...errorTemp,\n          mobileNo: true,\n          error: true,\n          mobileErrormsg: `Please let us know the number we can reach you`,\n        };\n      } else if (\n        emergencyData.mobileNo != \"\" &&\n        !emergencyData.mobileNo.match(/^[1-9]{1}[0-9]{11}$/)\n      ) {\n        errorTemp = {\n          ...errorTemp,\n          mobileNo: true,\n          error: true,\n          mobileErrormsg: `There seems to be some issue with the mobile number you entered.\n        Please check`,\n        };\n      }\n\n      setError({ ...errorTemp, error: true });\n    }\n  }, [emergencyData]);\n\n  const onContinue = () => {\n    let errorTemp = errorInit;\n    if (emergencyData.name == \"\") {\n      errorTemp = { ...errorTemp, name: true, error: true };\n    }\n\n    if (emergencyData.relation == \"\") {\n      errorTemp = { ...errorTemp, relation: true, error: true };\n    }\n\n    if (emergencyData.mobileNo == \"\") {\n      errorTemp = {\n        ...errorTemp,\n        mobileNo: true,\n        error: true,\n        mobileErrormsg: `Please let us know the number we can reach you`,\n      };\n    } else if (\n      emergencyData.mobileNo != \"\" &&\n      !emergencyData.mobileNo.match(/^[1-9]{1}[0-9]{11}$/)\n    ) {\n      errorTemp = {\n        ...errorTemp,\n        mobileNo: true,\n        error: true,\n        mobileErrormsg: `There seems to be some issue with the mobile number you entered.\n        Please check`,\n      };\n    }\n\n    setError(errorTemp);\n\n    if (!errorTemp.error) {\n      let phoneNo = emergencyData.mobileNo?.slice(\n        emergencyData?.emergencyNoCode?.length\n      );\n      let emergencyNum = `%2B${emergencyData.emergencyNoCode} ${phoneNo}`;\n      if (\n        appoinment_form?.reminderNumber?.replace(/ /g, \"\") ==\n        emergencyNum?.replace(/ /g, \"\")\n      ) {\n        setShowModal(true);\n      } else {\n        dispatch(\n          Store_formData({\n            ...appoinment_form,\n            emergencyphone: emergencyNum,\n            emergencyname: emergencyData.name,\n            emergencyrelation: emergencyData.relation,\n            emergencyNoCode: emergencyData.emergencyNoCode,\n          })\n        );\n        progressIncrementer();\n      }\n    }\n  };\n  const handleChange = (e) => {\n    const re = /^[0-9\\b]+$/;\n    if (e.target.value === \"\" || re.test(e.target.value)) {\n      setEmergencyData({ ...emergencyData, mobileNo: e.target.value });\n    }\n  };\n  const onCancel = () => {\n    progressIncrementer();\n  };\n  // const onblurAction = () => {\n\n  // };\n  const handleOnChange = (value, data, event, formattedValue) => {};\n  return (\n    <>\n      <h3 className={Style.emergency_contact_main_heading}>\n        Incase of an emergency, who would you like us to contact?\n      </h3>\n      <div className={`form-group`}>\n        <label className={Style.emergency_contact_label}>Name</label>\n        <br />\n        <input\n          type=\"text\"\n          name=\"name\"\n          className={`${Style.emergency_contact_input_field} ${\n            error.name && Style.inputError\n          }`}\n          placeholder=\"Enter Your Name\"\n          value={emergencyData.name}\n          onChange={(e) => {\n            setEmergencyData({ ...emergencyData, name: e.target.value });\n          }}\n        />\n        {error.name && (\n          <p className={Style.error}>\n            Please let us know who would you like us to contact incase of an\n            emergency\n          </p>\n        )}\n      </div>\n      <div className=\"form-group  mb-spce\">\n        <label className={`${Style.emergency_contact_label}`}>\n          Relationship\n        </label>\n        <CustomDropDown\n          error={error.relation}\n          DataItem={relat}\n          onClick={(e) => {\n            setEmergencyData({ ...emergencyData, relation: e });\n          }}\n          defaultPlaceH={emergencyData.relation != \"\"}\n          selectedData={\n            emergencyData.relation != \"\"\n              ? emergencyData.relation\n              : \"Choose Relationship\"\n          }\n        />\n        {error.relation && (\n          <p className={Style.error}>\n            Please let us know how is this person related\n          </p>\n        )}\n      </div>\n      <div>\n        <label className={Style.emergency_contact_label}>Mobile Number</label>\n        <div\n          className={`mob-flag-wrp${\" \"}${Style.emergency_phoneInpt}${\" \"} ${\n            error.mobileNo && Style.inputError\n          }`}\n        >\n          {/* <select\n            className={Style.emergency_contact_country_code}\n            value={emergencyData.code}\n            name=\"code\"\n            onChange={(e) => {\n              setEmergencyData({ ...emergencyData, code: e.target.value });\n            }}\n          >\n            {CountryJson.map((item, index) => {\n              return (\n                <option value={item.dial_code}>\n                  {item.flag} {item.dial_code}\n                </option>\n              );\n            })}\n          </select> */}\n          <CustomPhoneInput\n            country={\"in\"}\n            value={emergencyData.mobileNo?.slice(emergencyData.emergencyNoCode?.length)}\n            name=\"mobileNo\"\n            autoFormat={false}\n            countryCodeEditable={false}\n            onChange={(value, data, event, formattedValue) => {\n              setEmergencyData({\n                ...emergencyData,\n                mobileNo: value,\n                emergencyNoCode: data.dialCode,\n              });\n              handleOnChange(value, data, event, formattedValue);\n            }}\n          />\n          {/* <input\n            type=\"text\"\n            name=\"mobileNo\"\n            className={Style.emergency_contact_mobile_input_field}\n            placeholder=\"Enter Mobile Number\"\n            value={emergencyData.mobileNo}\n            onChange={handleChange}\n            // onBlur={(e) => onblurAction()}\n          /> */}\n        </div>\n        {error.mobileNo && (\n          <p className={Style.error}>{error.mobileErrormsg}</p>\n        )}\n      </div>\n      <ContinueSkipLinks\n        progressIncrementer={progressIncrementer}\n        onContinue={onContinue}\n      />\n      <Custommodal\n        showModal={showModal}\n        setShowModal={setShowModal}\n        onCancel={onCancel}\n        number={\n          \"+\" +\n          emergencyData.emergencyNoCode +\n          \" \" +\n          emergencyData.mobileNo?.slice(emergencyData.emergencyNoCode?.length)\n        }\n        // deleteItems={deleteItems}\n        // modalItem={modalItem}\n      />\n      {/* <div className={`${Style.btn_floating} btn_floating`}> */}\n      {/* <Button\n          className={Style.emergency_contact_continue_button}\n          onClick={() => onsubmit()}\n        >\n          Continue\n        </Button> */}\n\n      {/* </div> */}\n    </>\n  );\n}\n\nexport default EmergencyContact;\n"]},"metadata":{},"sourceType":"module"}