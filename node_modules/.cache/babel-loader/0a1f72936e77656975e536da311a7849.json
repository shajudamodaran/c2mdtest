{"ast":null,"code":"var _formatTime;\n\nimport loginedApi from \"../apis\";\nimport CryptoJS from \"crypto-js\";\n\nconst {\n  detect\n} = require('detect-browser');\n\nconst browser = detect();\nlet platform = window.navigator.platform;\nlet userAgent = window.navigator.userAgent;\nlet off = new Date().toString().replace(/GMT\\+(\\d\\d)(\\d\\d)/, \"GMT+$1:$2\");\nlet formatTime = off === null || off === void 0 ? void 0 : off.split(\"GMT\")[1].split(\" (\")[0];\nlet result = (_formatTime = formatTime) === null || _formatTime === void 0 ? void 0 : _formatTime.slice(1);\n\nif (formatTime.search(/\\+/g) != null) {\n  formatTime = formatTime.replace(/\\+/g, \"%2B\");\n} else if (formatTime.search(/\\-/g) != null) {\n  formatTime = formatTime.replace(/\\-/g, \"%2D\");\n} //replace(/\\+/g,' ') browserTimeZone: `GMT${formatTime}`\n\n\nexport const fetchForgotPassword = _ref => {\n  let {\n    values,\n    userId\n  } = _ref;\n  return async dispatch => {\n    let resp = await loginedApi.post(\"getcountrycode\", {\n      \"token\": \"token\",\n      \"version\": \"2.0\",\n      \"data\": {\n        browserTimeZone: `GMT${formatTime}`\n      },\n      \"requestType\": 1058\n    });\n    const doctorscountrycode = resp.data.data; // var hash = CryptoJS.SHA512(values.confirmPassword);\n\n    var hash = CryptoJS.SHA512(\"C2MD|\" + values.confirmPassword);\n    const res = await loginedApi.post(\"updateForgotPassword\", {\n      token: \"C2MDVerificationToken\",\n      data: {\n        password: hash.toString(),\n        userId: userId,\n        browserTimeZone: `GMT${formatTime}`,\n        Ipaddress: doctorscountrycode.Ipaddress,\n        useragent: userAgent,\n        Browser: browser.name + \" \" + browser.version,\n        appname: \"C2MD Web\",\n        Os: platform,\n        currency: doctorscountrycode.currency,\n        accessCountry: doctorscountrycode.Country\n      },\n      requestType: 6\n    });\n  };\n};\nexport const checkUserAvailability = _ref2 => {\n  let {\n    type,\n    searchkey\n  } = _ref2;\n  return async dispatch => {\n    let resp = await loginedApi.post(\"getcountrycode\", {\n      \"token\": \"token\",\n      \"version\": \"2.0\",\n      \"data\": {\n        browserTimeZone: `GMT${formatTime}`\n      },\n      \"requestType\": 1058\n    });\n    const doctorscountrycode = resp.data.data;\n    console.log({\n      type: type,\n      searchkey: searchkey\n    });\n    const response = await loginedApi.post(\"checkuserAvailablity\", {\n      requestType: 5,\n      token: \"C2MDVerificationToken\",\n      data: {\n        type: type,\n        searchkey: searchkey,\n        browserTimeZone: `GMT${formatTime}`,\n        Ipaddress: doctorscountrycode.Ipaddress,\n        useragent: userAgent,\n        Browser: browser.name + \" \" + browser.version,\n        appname: \"C2MD Web\",\n        Os: platform,\n        currency: doctorscountrycode.currency,\n        accessCountry: doctorscountrycode.Country\n      }\n    });\n    console.log(\"Check user responce == >\", response);\n\n    if (response.status === 200) {\n      return response.data && response.data;\n    }\n  };\n};","map":{"version":3,"sources":["/home/developer/Projects/Personal/Doctor-dashboard/Doctor Dash/V11/c2md-web_react/src/actions/ForgotPasswordAction.js"],"names":["loginedApi","CryptoJS","detect","require","browser","platform","window","navigator","userAgent","off","Date","toString","replace","formatTime","split","result","slice","search","fetchForgotPassword","values","userId","dispatch","resp","post","browserTimeZone","doctorscountrycode","data","hash","SHA512","confirmPassword","res","token","password","Ipaddress","useragent","Browser","name","version","appname","Os","currency","accessCountry","Country","requestType","checkUserAvailability","type","searchkey","console","log","response","status"],"mappings":"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","sourcesContent":["import loginedApi from \"../apis\";\nimport CryptoJS from \"crypto-js\";\nconst { detect } = require('detect-browser');\nconst browser = detect();\nlet platform = window.navigator.platform;\nlet userAgent = window.navigator.userAgent;\nlet off = new Date().toString().replace(/GMT\\+(\\d\\d)(\\d\\d)/, \"GMT+$1:$2\");\nlet formatTime = off?.split(\"GMT\")[1].split(\" (\")[0];\nlet result = formatTime?.slice(1);\nif (formatTime.search(/\\+/g) != null) {\n  formatTime = formatTime.replace(/\\+/g, \"%2B\")\n} else if (formatTime.search(/\\-/g) != null) {\n  formatTime = formatTime.replace(/\\-/g, \"%2D\")\n}//replace(/\\+/g,' ') browserTimeZone: `GMT${formatTime}`\n\nexport const fetchForgotPassword =\n  ({ values, userId }) =>\n    async (dispatch) => {\n      let resp = await loginedApi.post(\"getcountrycode\",\n        {\n          \"token\": \"token\",\n          \"version\": \"2.0\",\n          \"data\": { browserTimeZone: `GMT${formatTime}` },\n          \"requestType\": 1058\n        });\n      const doctorscountrycode = resp.data.data;\n      // var hash = CryptoJS.SHA512(values.confirmPassword);\n      var hash = CryptoJS.SHA512(\"C2MD|\" + values.confirmPassword);\n\n      const res = await loginedApi.post(\"updateForgotPassword\", {\n        token: \"C2MDVerificationToken\",\n        data: {\n          password: hash.toString(),\n          userId: userId,\n          browserTimeZone: `GMT${formatTime}`,\n          Ipaddress: doctorscountrycode.Ipaddress,\n          useragent: userAgent,\n          Browser: browser.name + \" \" + browser.version,\n          appname: \"C2MD Web\",\n          Os: platform,\n          currency: doctorscountrycode.currency,\n          accessCountry: doctorscountrycode.Country,\n        },\n        requestType: 6,\n      });\n    };\n\nexport const checkUserAvailability =\n  ({ type, searchkey }) =>\n    async (dispatch) => {\n\n      let resp = await loginedApi.post(\"getcountrycode\",\n        {\n          \"token\": \"token\",\n          \"version\": \"2.0\",\n          \"data\": { browserTimeZone: `GMT${formatTime}` },\n          \"requestType\": 1058\n        });\n      const doctorscountrycode = resp.data.data;\n\n      console.log({ type: type, searchkey: searchkey });\n\n\n      const response = await loginedApi.post(\"checkuserAvailablity\", {\n        requestType: 5,\n        token: \"C2MDVerificationToken\",\n        data: {\n          type: type, searchkey: searchkey,\n          browserTimeZone: `GMT${formatTime}`,\n          Ipaddress: doctorscountrycode.Ipaddress,\n          useragent: userAgent,\n          Browser: browser.name + \" \" + browser.version,\n          appname: \"C2MD Web\",\n          Os: platform,\n          currency: doctorscountrycode.currency,\n          accessCountry: doctorscountrycode.Country,\n        },\n      });\n\n      console.log(\"Check user responce == >\", response);\n     \n      if (response.status === 200) {\n        return response.data && response.data;\n      }\n    };\n"]},"metadata":{},"sourceType":"module"}