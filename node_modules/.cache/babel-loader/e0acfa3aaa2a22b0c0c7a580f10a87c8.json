{"ast":null,"code":"var _jsxFileName = \"/home/developer/Projects/Personal/Doctor-dashboard/Doctor Dash/V3/c2md-web_react/src/components/DoctorListing/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Style from \"./DoctorListing.module.scss\";\nimport classNames from \"classnames\";\nimport DoctorSpecialities from \"../DoctorSpecialities\";\nimport Container from \"react-bootstrap/Container\";\nimport DoctorListingDetails from \"../DoctorListingDetails\";\nimport DoctorListingFilters from \"../DoctorListingFilters\";\nimport BookAppointment from \"../BookAppointment\";\nimport { useParams } from \"react-router-dom\";\nimport { fetch_doctors } from \"../../actions/DoctorListingAction\";\nimport MobileFilter from \"../FilterMobileScreen\";\nimport MobileBookAppointment from \"../BookAppointmentMobile\";\nimport Assets from \"../Layout/Assets\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport { fetchSpeciality } from \"../../actions/SpecialityListingAction\";\nimport { fetch_clientDetails, getCountryData } from \"../../actions/MicrositeAction\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction DoctorListing({\n  showFilter,\n  setShowFilter,\n  setSearchDoctor,\n  searchDoctor\n}) {\n  _s();\n\n  const locationData = useSelector(state => state.doctorListing.location);\n  const languageData = useSelector(state => state.doctorListing.languagesSet);\n  const hospitalData = useSelector(state => state.doctorListing.hospitals);\n  let doctorListingScroll = useRef();\n  const [filterForm, setFilter] = useState({\n    location: [],\n    hospital: [],\n    language: [],\n    gender: \"Gender\",\n    doctorName: \"\"\n  });\n  const [filterKey, setFilterkey] = useState(null);\n  const [loader, setLoader] = useState(true);\n  let {\n    speciality\n  } = useParams();\n  const specialityData = useSelector(state => state.specialityList.specialityList);\n  const [selectedSpeciality, setSpeciality] = useState(speciality ? speciality : \"\");\n  let {\n    clinicId\n  } = useParams();\n  useEffect(() => {\n    // dispatch(\n    //   getCountryData()\n    // );\n    if (specialityData.length == 0) {\n      dispatch(fetchSpeciality(clinicId == undefined ? \"\" : clinicId));\n      dispatch(fetch_clientDetails(clinicId == undefined ? \"\" : clinicId));\n    } else {\n      if (!speciality) {\n        setSpeciality(specialityData[0].specialityName);\n      }\n    }\n  }, [specialityData]);\n  const clientDetails = useSelector(state => state.clientDetails);\n  useEffect(() => {\n    speciality && dispatch(fetch_doctors(speciality, clientDetails != undefined ? clientDetails.clinicName : \"\"));\n  }, [speciality]);\n  const colSpecialityDiv = classNames(Style.doctor_listing_speciality_div, \"col-md-3\");\n  const dispatch = useDispatch();\n  let clinitName = \"\";\n\n  if (clientDetails != undefined) {\n    clinitName = clientDetails.clinicName;\n  } // useEffect(() => {\n  //   if (clinicId != undefined) {\n  //     dispatch(fetch_clientDetails());\n  //   }\n  // }, []);\n\n\n  useEffect(() => {\n    setFilter({ ...filterForm,\n      doctorName: searchDoctor\n    });\n    setFilterkey({ ...filterKey,\n      doctorName: searchDoctor\n    });\n  }, [searchDoctor]);\n  useEffect(() => {\n    loading();\n  }, [selectedSpeciality, clientDetails, filterForm]);\n\n  const loading = async () => {\n    if (selectedSpeciality != \"\") {\n      await setLoader(true);\n      await dispatch(fetch_doctors(selectedSpeciality, clientDetails != undefined ? clientDetails.clinicName : \"\"));\n      await setLoader(false);\n    }\n  };\n\n  const doctorListing = useSelector(state => state.doctorListing.doctorList);\n  let filterList = doctorListing && doctorListing.doctorDetails && doctorListing.doctorDetails.filter(item => {\n    if (item.hospitalname === filterForm.hospital && item.gender == filterForm.gender) {\n      return item;\n    }\n  });\n\n  const findCommonElements3 = (arr1, arr2) => {\n    let test = Array.isArray(arr1);\n\n    if (test) {\n      return arr1 === null || arr1 === void 0 ? void 0 : arr1.some(item => arr2.includes(item));\n    }\n  };\n\n  let FilterItem = doctorListing && doctorListing.doctorDetails && doctorListing.doctorDetails.filter(item => {\n    if (filterKey) {\n      const isSameDocName = filterKey[\"doctorName\"] && filterKey[\"doctorName\"] != undefined ? item === null || item === void 0 ? void 0 : item.doctorFirstName.toLowerCase().startsWith(filterKey[\"doctorName\"].toLowerCase()) : true;\n      const isSelectedGender = filterKey[\"gender\"] ? (item === null || item === void 0 ? void 0 : item.gender.toLowerCase()) === filterKey[\"gender\"].toLowerCase() : true;\n      const isSelectedHospital = filterKey[\"hospitalname\"] ? filterKey[\"hospitalname\"].includes(item === null || item === void 0 ? void 0 : item.hospitalname.toLowerCase()) : true;\n      const isSelectedCity = filterKey[\"city\"] ? filterKey[\"city\"].includes(item === null || item === void 0 ? void 0 : item.city.toLowerCase()) : true; // const isSelectedlanguages = filterKey[\"languages\"]\n      //   ? item?.languages.includes(filterKey[\"languages\"])\n      //   : true;\n\n      const isSelectedlanguages = filterKey[\"languages\"] ? findCommonElements3(item === null || item === void 0 ? void 0 : item.languages, filterKey[\"languages\"]) : true;\n\n      if (isSameDocName && isSelectedGender && isSelectedHospital && isSelectedlanguages && isSelectedCity) {\n        return item;\n      }\n    } else {\n      return item;\n    }\n  });\n\n  const ResetFilter = () => {\n    setFilter({\n      location: [],\n      hospital: [],\n      language: [],\n      gender: \"Gender\",\n      doctorName: \"\"\n    });\n    setFilterkey(null);\n    hospitalData.map(data => {\n      data.checked = false;\n    });\n    locationData.map(data => {\n      data.checked = false;\n    });\n    languageData.map(data => {\n      data.checked = false;\n    });\n  };\n\n  return !showFilter ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: Style.doctor_listing_topSection,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.doctorListWrap,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: colSpecialityDiv,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: Style.doctor_listing_main_heading,\n            children: \"Specialities\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DoctorSpecialities, {\n            selectedSpeciality: selectedSpeciality,\n            setSpeciality: setSpeciality,\n            clientDetails: clientDetails,\n            ResetFilter: ResetFilter\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${Style.doctorListFilter} doctor_ListFilter`,\n          children: [/*#__PURE__*/_jsxDEV(DoctorListingFilters, {\n            filterForm: filterForm,\n            setFilter: setFilter,\n            setFilterkey: setFilterkey,\n            filterKey: filterKey,\n            ResetFilter: ResetFilter,\n            clientDetails: clientDetails\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.doctor_listing_scrolling,\n            ref: doctorListingScroll,\n            onScroll: () => {\n              console.log(\"..............\");\n            },\n            children: loader == true ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: Style.loader,\n              children: /*#__PURE__*/_jsxDEV(Spinner, {\n                animation: \"border\",\n                role: \"status\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"visually-hidden\",\n                  children: \"Loading...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this) : FilterItem && FilterItem.length !== 0 ? FilterItem.map((item, index) => {\n              return /*#__PURE__*/_jsxDEV(DoctorListingDetails, {\n                Details: item\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 26\n              }, this);\n            }) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: Style.NoDataFound,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: Assets.nodataFound,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: Style.text,\n                children: \"There is nothing to display here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BookAppointment, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 207,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(MobileFilter, {\n    showFilter: showFilter,\n    setShowFilter: setShowFilter,\n    filterForm: filterForm,\n    setFilter: setFilter,\n    setFilterkey: setFilterkey,\n    filterKey: filterKey,\n    clientDetails: clientDetails // setSearchDoctor={setSearchDoctor}\n    // searchDoctor={searchDoctor}\n\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 256,\n    columnNumber: 5\n  }, this); //<MobileBookAppointment/>\n}\n\n_s(DoctorListing, \"7DKFbiMT6JoD8l2xo5sv2g26UvY=\", false, function () {\n  return [useSelector, useSelector, useSelector, useParams, useSelector, useParams, useSelector, useDispatch, useSelector];\n});\n\n_c = DoctorListing;\nexport default DoctorListing;\n\nvar _c;\n\n$RefreshReg$(_c, \"DoctorListing\");","map":{"version":3,"sources":["/home/developer/Projects/Personal/Doctor-dashboard/Doctor Dash/V3/c2md-web_react/src/components/DoctorListing/index.js"],"names":["React","useState","useEffect","useSelector","useDispatch","Style","classNames","DoctorSpecialities","Container","DoctorListingDetails","DoctorListingFilters","BookAppointment","useParams","fetch_doctors","MobileFilter","MobileBookAppointment","Assets","Spinner","fetchSpeciality","fetch_clientDetails","getCountryData","DoctorListing","showFilter","setShowFilter","setSearchDoctor","searchDoctor","locationData","state","doctorListing","location","languageData","languagesSet","hospitalData","hospitals","doctorListingScroll","useRef","filterForm","setFilter","hospital","language","gender","doctorName","filterKey","setFilterkey","loader","setLoader","speciality","specialityData","specialityList","selectedSpeciality","setSpeciality","clinicId","length","dispatch","undefined","specialityName","clientDetails","clinicName","colSpecialityDiv","doctor_listing_speciality_div","clinitName","loading","doctorList","filterList","doctorDetails","filter","item","hospitalname","findCommonElements3","arr1","arr2","test","Array","isArray","some","includes","FilterItem","isSameDocName","doctorFirstName","toLowerCase","startsWith","isSelectedGender","isSelectedHospital","isSelectedCity","city","isSelectedlanguages","languages","ResetFilter","map","data","checked","doctor_listing_topSection","doctorListWrap","doctor_listing_main_heading","doctorListFilter","doctor_listing_scrolling","console","log","index","NoDataFound","nodataFound","text"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport Style from \"./DoctorListing.module.scss\";\nimport classNames from \"classnames\";\nimport DoctorSpecialities from \"../DoctorSpecialities\";\nimport Container from \"react-bootstrap/Container\";\nimport DoctorListingDetails from \"../DoctorListingDetails\";\nimport DoctorListingFilters from \"../DoctorListingFilters\";\nimport BookAppointment from \"../BookAppointment\";\nimport { useParams } from \"react-router-dom\";\nimport { fetch_doctors } from \"../../actions/DoctorListingAction\";\nimport MobileFilter from \"../FilterMobileScreen\";\nimport MobileBookAppointment from \"../BookAppointmentMobile\";\nimport Assets from \"../Layout/Assets\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport { fetchSpeciality } from \"../../actions/SpecialityListingAction\";\nimport { fetch_clientDetails, getCountryData } from \"../../actions/MicrositeAction\";\n\nfunction DoctorListing({\n  showFilter,\n  setShowFilter,\n  setSearchDoctor,\n  searchDoctor,\n}) {\n  const locationData = useSelector((state) => state.doctorListing.location);\n  const languageData = useSelector((state) => state.doctorListing.languagesSet);\n  const hospitalData = useSelector((state) => state.doctorListing.hospitals);\n\n  let doctorListingScroll=useRef()\n\n  const [filterForm, setFilter] = useState({\n    location: [],\n    hospital: [],\n    language: [],\n    gender: \"Gender\",\n    doctorName: \"\",\n  });\n\n  const [filterKey, setFilterkey] = useState(null);\n  const [loader, setLoader] = useState(true);\n\n  let { speciality } = useParams();\n  const specialityData = useSelector(\n    (state) => state.specialityList.specialityList\n  );\n\n  const [selectedSpeciality, setSpeciality] = useState(\n    speciality ? speciality : \"\"\n  );\n  let { clinicId } = useParams();\n\n  useEffect(() => {\n    // dispatch(\n    //   getCountryData()\n    // );\n    if (specialityData.length == 0) {\n      dispatch(\n        fetchSpeciality(clinicId == undefined ? \"\" : clinicId)\n      );\n      dispatch(\n        fetch_clientDetails(clinicId == undefined ? \"\" : clinicId)\n      );\n    } else {\n      if (!speciality) {\n        setSpeciality(specialityData[0].specialityName);\n      }\n    }\n  }, [specialityData]);\n\n  const clientDetails = useSelector((state) => state.clientDetails);\n\n  useEffect(() => {\n    speciality &&\n      dispatch(\n        fetch_doctors(\n          speciality,\n          clientDetails != undefined ? clientDetails.clinicName : \"\"\n        )\n      );\n  }, [speciality]);\n\n  const colSpecialityDiv = classNames(\n    Style.doctor_listing_speciality_div,\n    \"col-md-3\"\n  );\n  const dispatch = useDispatch();\n  let clinitName = \"\";\n  if (clientDetails != undefined) {\n    clinitName = clientDetails.clinicName;\n  }\n\n  // useEffect(() => {\n  //   if (clinicId != undefined) {\n  //     dispatch(fetch_clientDetails());\n  //   }\n  // }, []);\n\n  useEffect(() => {\n    setFilter({ ...filterForm, doctorName: searchDoctor });\n    setFilterkey({ ...filterKey, doctorName: searchDoctor });\n  }, [searchDoctor]);\n\n\n  useEffect(() => {\n\n    loading();\n  }, [selectedSpeciality, clientDetails,filterForm]);\n  \n  const loading = async () => {\n    if (selectedSpeciality != \"\") {\n      await setLoader(true);\n      await dispatch(\n        fetch_doctors(\n          selectedSpeciality,\n          clientDetails != undefined ? clientDetails.clinicName : \"\"\n        )\n      );\n      await setLoader(false);\n    }\n  };\n\n  const doctorListing = useSelector((state) => state.doctorListing.doctorList);\n\n  let filterList =\n    doctorListing &&\n    doctorListing.doctorDetails &&\n    doctorListing.doctorDetails.filter((item) => {\n      if (\n        item.hospitalname === filterForm.hospital &&\n        item.gender == filterForm.gender\n      ) {\n        return item;\n      }\n    });\n  const findCommonElements3 = (arr1, arr2) => {\n    let test = Array.isArray(arr1);\n    if (test) {\n      return arr1?.some((item) => arr2.includes(item));\n    }\n  };\n\n  let FilterItem =\n    doctorListing &&\n    doctorListing.doctorDetails &&\n    doctorListing.doctorDetails.filter((item) => {\n      if (filterKey) {\n        const isSameDocName =\n          filterKey[\"doctorName\"] && filterKey[\"doctorName\"] != undefined\n            ? item?.doctorFirstName\n                .toLowerCase()\n                .startsWith(filterKey[\"doctorName\"].toLowerCase())\n            : true;\n        const isSelectedGender = filterKey[\"gender\"]\n          ? item?.gender.toLowerCase() === filterKey[\"gender\"].toLowerCase()\n          : true;\n\n        const isSelectedHospital = filterKey[\"hospitalname\"]\n          ? filterKey[\"hospitalname\"].includes(item?.hospitalname.toLowerCase())\n          : true;\n        const isSelectedCity = filterKey[\"city\"]\n          ? filterKey[\"city\"].includes(item?.city.toLowerCase())\n          : true;\n        // const isSelectedlanguages = filterKey[\"languages\"]\n        //   ? item?.languages.includes(filterKey[\"languages\"])\n        //   : true;\n        const isSelectedlanguages = filterKey[\"languages\"]\n          ? findCommonElements3(item?.languages, filterKey[\"languages\"])\n          : true;\n\n        if (\n          isSameDocName &&\n          isSelectedGender &&\n          isSelectedHospital &&\n          isSelectedlanguages &&\n          isSelectedCity\n        ) {\n          return item;\n        }\n      } else {\n        return item;\n      }\n    });\n\n  const ResetFilter = () => {\n    setFilter({\n      location: [],\n      hospital: [],\n      language: [],\n      gender: \"Gender\",\n      doctorName: \"\",\n    });\n    setFilterkey(null);\n\n    hospitalData.map((data) => {\n      data.checked = false;\n    });\n    locationData.map((data) => {\n      data.checked = false;\n    });\n    languageData.map((data) => {\n      data.checked = false;\n    });\n  };\n\n  return !showFilter ? (\n    <div className={Style.doctor_listing_topSection}>\n\n     \n      <Container>\n     \n        <div className={Style.doctorListWrap}>\n          <div className={colSpecialityDiv}>\n            <h2 className={Style.doctor_listing_main_heading}>Specialities</h2>\n            <DoctorSpecialities\n              selectedSpeciality={selectedSpeciality}\n              setSpeciality={setSpeciality}\n              clientDetails={clientDetails}\n              ResetFilter={ResetFilter}\n            />\n          </div>\n          <div className={`${Style.doctorListFilter} doctor_ListFilter`}>\n            <DoctorListingFilters\n              filterForm={filterForm}\n              setFilter={setFilter}\n              setFilterkey={setFilterkey}\n              filterKey={filterKey}\n              ResetFilter={ResetFilter}\n              clientDetails={clientDetails}\n             \n            />\n            <div className={Style.doctor_listing_scrolling} ref={doctorListingScroll} onScroll={()=>{console.log(\"..............\");}}>\n              {loader == true ? (\n                <div className={Style.loader}>\n                  <Spinner animation=\"border\" role=\"status\">\n                    <span className=\"visually-hidden\">Loading...</span>\n                  </Spinner>\n                </div>\n              ) : FilterItem && FilterItem.length !== 0 ? (\n                FilterItem.map((item, index) => {\n                  return <DoctorListingDetails Details={item} key={index} />;\n                })\n              ) : (\n                <div className={Style.NoDataFound}>\n                  <img src={Assets.nodataFound} alt=\"\" />\n                  <p className={Style.text}>There is nothing to display here</p>\n                </div>\n              )}\n            </div>\n          </div>\n          <BookAppointment></BookAppointment>\n        </div>\n      </Container>\n    </div>\n  ) : (\n    <MobileFilter\n      showFilter={showFilter}\n      setShowFilter={setShowFilter}\n      filterForm={filterForm}\n      setFilter={setFilter}\n      setFilterkey={setFilterkey}\n      filterKey={filterKey}\n      clientDetails={clientDetails}\n      // setSearchDoctor={setSearchDoctor}\n      // searchDoctor={searchDoctor}\n    />\n  );\n  //<MobileBookAppointment/>\n}\n\nexport default DoctorListing;"]},"metadata":{},"sourceType":"module"}