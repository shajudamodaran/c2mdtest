{"ast":null,"code":"var _formatTime;\n\nimport loginedApi from \"../apis\";\nimport CryptoJS from \"crypto-js\";\n\nconst {\n  detect\n} = require('detect-browser');\n\nconst browser = detect();\nlet platform = window.navigator.platform;\nlet userAgent = window.navigator.userAgent;\nlet off = new Date().toString().replace(/GMT\\+(\\d\\d)(\\d\\d)/, \"GMT+$1:$2\");\nlet formatTime = off === null || off === void 0 ? void 0 : off.split(\"GMT\")[1].split(\" (\")[0];\nlet result = (_formatTime = formatTime) === null || _formatTime === void 0 ? void 0 : _formatTime.slice(1);\n\nif (formatTime.search(/\\+/g) != null) {\n  formatTime = formatTime.replace(/\\+/g, \"%2B\");\n} else if (formatTime.search(/\\-/g) != null) {\n  formatTime = formatTime.replace(/\\-/g, \"%2D\");\n} //replace(/\\+/g,' ') browserTimeZone: `GMT${formatTime}`\n\n\nexport const fetchForgotPassword = ({\n  values,\n  userId\n}) => async dispatch => {\n  let resp = await loginedApi.post(\"getcountrycode\", {\n    \"token\": \"token\",\n    \"version\": \"2.0\",\n    \"data\": {\n      browserTimeZone: `GMT${formatTime}`\n    },\n    \"requestType\": 1058\n  });\n  const doctorscountrycode = resp.data.data; // var hash = CryptoJS.SHA512(values.confirmPassword);\n\n  var hash = CryptoJS.SHA512(\"C2MD|\" + values.confirmPassword);\n  const res = await loginedApi.post(\"updateForgotPassword\", {\n    token: \"C2MDVerificationToken\",\n    data: {\n      password: hash.toString(),\n      userId: userId,\n      browserTimeZone: `GMT${formatTime}`,\n      Ipaddress: doctorscountrycode.Ipaddress,\n      useragent: userAgent,\n      Browser: browser.name + \" \" + browser.version,\n      appname: \"C2MD Web\",\n      Os: platform,\n      currency: doctorscountrycode.currency,\n      accessCountry: doctorscountrycode.Country\n    },\n    requestType: 6\n  });\n};\nexport const checkUserAvailability = ({\n  type,\n  searchkey\n}) => async dispatch => {\n  let resp = await loginedApi.post(\"getcountrycode\", {\n    \"token\": \"token\",\n    \"version\": \"2.0\",\n    \"data\": {\n      browserTimeZone: `GMT${formatTime}`\n    },\n    \"requestType\": 1058\n  });\n  const doctorscountrycode = resp.data.data;\n  const response = await loginedApi.post(\"checkuserAvailablity\", {\n    requestType: 5,\n    token: \"C2MDVerificationToken\",\n    data: {\n      type: type,\n      searchkey: searchkey,\n      browserTimeZone: `GMT${formatTime}`,\n      Ipaddress: doctorscountrycode.Ipaddress,\n      useragent: userAgent,\n      Browser: browser.name + \" \" + browser.version,\n      appname: \"C2MD Web\",\n      Os: platform,\n      currency: doctorscountrycode.currency,\n      accessCountry: doctorscountrycode.Country\n    }\n  });\n\n  if (response.status === 200) {\n    return response.data && response.data;\n  }\n};","map":{"version":3,"sources":["/home/veena/Downloads/WEB_PUSH/c2md-web_react/src/actions/ForgotPasswordAction.js"],"names":["loginedApi","CryptoJS","detect","require","browser","platform","window","navigator","userAgent","off","Date","toString","replace","formatTime","split","result","slice","search","fetchForgotPassword","values","userId","dispatch","resp","post","browserTimeZone","doctorscountrycode","data","hash","SHA512","confirmPassword","res","token","password","Ipaddress","useragent","Browser","name","version","appname","Os","currency","accessCountry","Country","requestType","checkUserAvailability","type","searchkey","response","status"],"mappings":"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","sourcesContent":["import loginedApi from \"../apis\";\nimport CryptoJS from \"crypto-js\";\nconst { detect } = require('detect-browser');\nconst browser = detect();\nlet platform = window.navigator.platform;\nlet userAgent = window.navigator.userAgent;\nlet off = new Date().toString().replace(/GMT\\+(\\d\\d)(\\d\\d)/, \"GMT+$1:$2\");\nlet formatTime = off?.split(\"GMT\")[1].split(\" (\")[0];\nlet result = formatTime?.slice(1);\nif (formatTime.search(/\\+/g) != null) {\n  formatTime = formatTime.replace(/\\+/g, \"%2B\")\n} else if (formatTime.search(/\\-/g) != null) {\n  formatTime = formatTime.replace(/\\-/g, \"%2D\")\n}//replace(/\\+/g,' ') browserTimeZone: `GMT${formatTime}`\n\nexport const fetchForgotPassword =\n  ({ values, userId }) =>\n  async (dispatch) => {\n    let resp = await loginedApi.post(\"getcountrycode\", \n  {\n    \"token\": \"token\",\n    \"version\":\"2.0\",\n    \"data\": {browserTimeZone: `GMT${formatTime}`},\n    \"requestType\": 1058\n});\nconst doctorscountrycode = resp.data.data;\n\n\n    // var hash = CryptoJS.SHA512(values.confirmPassword);\n    var hash = CryptoJS.SHA512(\"C2MD|\" + values.confirmPassword);\n\n    const res = await loginedApi.post(\"updateForgotPassword\", {\n      token: \"C2MDVerificationToken\",\n      data: {\n        password: hash.toString(),\n        userId: userId,\n        browserTimeZone: `GMT${formatTime}`,\n\t\t\tIpaddress: doctorscountrycode.Ipaddress, \n            useragent: userAgent,\n            Browser: browser.name+\" \"+browser.version,\n            appname: \"C2MD Web\",\n            Os: platform ,\n            currency: doctorscountrycode.currency,\n            accessCountry: doctorscountrycode.Country,\n      },\n      requestType: 6,\n    });\n  };\n\nexport const checkUserAvailability =\n  ({ type, searchkey }) =>\n  async (dispatch) => {\n    let resp = await loginedApi.post(\"getcountrycode\", \n  {\n    \"token\": \"token\",\n    \"version\":\"2.0\",\n    \"data\": {browserTimeZone: `GMT${formatTime}`},\n    \"requestType\": 1058\n});\nconst doctorscountrycode = resp.data.data;\n\n\n    const response = await loginedApi.post(\"checkuserAvailablity\", {\n      requestType: 5,\n      token: \"C2MDVerificationToken\",\n      data: { type: type, searchkey: searchkey,\n        browserTimeZone: `GMT${formatTime}`,\n\t\t\tIpaddress: doctorscountrycode.Ipaddress, \n            useragent: userAgent,\n            Browser: browser.name+\" \"+browser.version,\n            appname: \"C2MD Web\",\n            Os: platform ,\n            currency: doctorscountrycode.currency,\n            accessCountry: doctorscountrycode.Country,\n       },\n    });\n\n    if (response.status === 200) {\n      return response.data && response.data;\n    }\n  };\n"]},"metadata":{},"sourceType":"module"}