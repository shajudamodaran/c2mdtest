{"ast":null,"code":"var _formatTime;\n\nimport { APPOINTMENT_SLOT, APPOINTMENT_MORE_SLOT, APPOINTMENT_MORE_SLOT_RESET } from \"./type\";\nimport loginedApi from \"../apis\";\n\nconst {\n  detect\n} = require('detect-browser');\n\nconst browser = detect();\nlet platform = window.navigator.platform;\nlet userAgent = window.navigator.userAgent;\nlet off = new Date().toString().replace(/GMT\\+(\\d\\d)(\\d\\d)/, \"GMT+$1:$2\");\nlet formatTime = off === null || off === void 0 ? void 0 : off.split(\"GMT\")[1].split(\" (\")[0];\nlet result = (_formatTime = formatTime) === null || _formatTime === void 0 ? void 0 : _formatTime.slice(1);\n\nif (formatTime.search(/\\+/g) != null) {\n  formatTime = formatTime.replace(/\\+/g, \"%2B\");\n} else if (formatTime.search(/\\-/g) != null) {\n  formatTime = formatTime.replace(/\\-/g, \"%2D\");\n} //replace(/\\+/g,' ') browserTimeZone: `GMT${formatTime}`\n\n\nlet countrycoderes;\nlet doctorscountrycode;\nexport const fetch_appointmentSlot = _ref => {\n  let {\n    isStart,\n    isNext,\n    date,\n    typeofconsultation,\n    doctorId\n  } = _ref;\n  return async dispatch => {\n    countrycoderes = await loginedApi.post(\"getcountrycode\", {\n      \"token\": \"token\",\n      \"version\": \"2.0\",\n      \"data\": {\n        browserTimeZone: `GMT${formatTime}`\n      },\n      \"requestType\": 1058\n    });\n    doctorscountrycode = countrycoderes.data.data;\n    const response = await loginedApi.post(\"doctortimeslots\", {\n      requestType: \"175\",\n      token: \"C2MDVerificationToken\",\n      data: {\n        timeSlotCriteria: {\n          doctorId: doctorId,\n          date: date,\n          isStart: isStart,\n          isNext: isNext,\n          typeofconsultation: typeofconsultation\n        },\n        // browserTimeZone: \"GMT%2B05:30\",\n        browserTimeZone: `GMT${formatTime}`,\n        todayRate: \"73.49680\",\n        actualRate: \"73.49680\",\n        Ipaddress: doctorscountrycode.Ipaddress,\n        useragent: userAgent,\n        Browser: browser.name + \" \" + browser.version,\n        appname: \"C2MD Web\",\n        Os: platform,\n        accessCountry: doctorscountrycode.Country,\n        currency: doctorscountrycode.currency\n      }\n    });\n\n    if (response.status === 200) {\n      dispatch({\n        type: APPOINTMENT_SLOT,\n        payload: response.data.data\n      });\n    }\n  };\n};\nexport const fetch_more_appointmentSlot = _ref2 => {\n  let {\n    isStart,\n    isNext,\n    date,\n    typeofconsultation,\n    doctorId,\n    isClear\n  } = _ref2;\n  return async dispatch => {\n    countrycoderes = await loginedApi.post(\"getcountrycode\", {\n      \"token\": \"token\",\n      \"version\": \"2.0\",\n      \"data\": {\n        browserTimeZone: `GMT${formatTime}`\n      },\n      \"requestType\": 1058\n    });\n    doctorscountrycode = countrycoderes.data.data;\n    const response = await loginedApi.post(\"doctortimeslots\", {\n      requestType: \"175\",\n      token: \"C2MDVerificationToken\",\n      data: {\n        timeSlotCriteria: {\n          doctorId: doctorId,\n          date: date,\n          isStart: isStart,\n          isNext: isNext,\n          typeofconsultation: typeofconsultation\n        },\n        browserTimeZone: `GMT${formatTime}`,\n        todayRate: \"73.49680\",\n        actualRate: \"73.49680\",\n        Ipaddress: doctorscountrycode.Ipaddress,\n        useragent: userAgent,\n        Browser: browser.name + \" \" + browser.version,\n        appname: \"C2MD Web\",\n        Os: platform,\n        accessCountry: doctorscountrycode.Country,\n        currency: doctorscountrycode.currency\n      }\n    });\n\n    if (response.status === 200) {\n      console.log(response);\n      dispatch({\n        type: isClear ? APPOINTMENT_MORE_SLOT_RESET : APPOINTMENT_MORE_SLOT,\n        payload: response.data.data\n      });\n    }\n  };\n};\nexport const fetch_appointmentTypes = doctorId => async dispatch => {\n  countrycoderes = await loginedApi.post(\"getcountrycode\", {\n    \"token\": \"token\",\n    \"version\": \"2.0\",\n    \"data\": {\n      browserTimeZone: `GMT${formatTime}`\n    },\n    \"requestType\": 1058\n  });\n  doctorscountrycode = countrycoderes.data.data;\n  const response = await loginedApi.post(\"gettypeofconsultation\", {\n    requestType: \"182\",\n    token: \"C2MDVerificationToken\",\n    data: {\n      doctorId: doctorId,\n      browserTimeZone: `GMT${formatTime}`,\n      Ipaddress: doctorscountrycode.Ipaddress,\n      useragent: userAgent,\n      Browser: browser.name + \" \" + browser.version,\n      appname: \"C2MD Web\",\n      Os: platform,\n      accessCountry: doctorscountrycode.Country,\n      currency: doctorscountrycode.currency,\n      todayRate: \"\"\n    }\n  });\n  return response.data.data.Details;\n};","map":{"version":3,"sources":["/home/developer/Projects/Personal/Doctor-dashboard/Doctor Dash/V11/c2md-web_react/src/actions/AppointmentSlotAction.js"],"names":["APPOINTMENT_SLOT","APPOINTMENT_MORE_SLOT","APPOINTMENT_MORE_SLOT_RESET","loginedApi","detect","require","browser","platform","window","navigator","userAgent","off","Date","toString","replace","formatTime","split","result","slice","search","countrycoderes","doctorscountrycode","fetch_appointmentSlot","isStart","isNext","date","typeofconsultation","doctorId","dispatch","post","browserTimeZone","data","response","requestType","token","timeSlotCriteria","todayRate","actualRate","Ipaddress","useragent","Browser","name","version","appname","Os","accessCountry","Country","currency","status","type","payload","fetch_more_appointmentSlot","isClear","console","log","fetch_appointmentTypes","Details"],"mappings":"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","sourcesContent":["import { APPOINTMENT_SLOT, APPOINTMENT_MORE_SLOT, APPOINTMENT_MORE_SLOT_RESET } from \"./type\";\nimport loginedApi from \"../apis\";\n\nconst { detect } = require('detect-browser');\nconst browser = detect();\nlet platform = window.navigator.platform;\nlet userAgent = window.navigator.userAgent;\nlet off = new Date().toString().replace(/GMT\\+(\\d\\d)(\\d\\d)/, \"GMT+$1:$2\");\nlet formatTime = off?.split(\"GMT\")[1].split(\" (\")[0];\nlet result = formatTime?.slice(1);\nif(formatTime.search(/\\+/g)!=null)\n  {\n    formatTime=formatTime.replace(/\\+/g,\"%2B\")\n  }else if(formatTime.search(/\\-/g)!=null)\n  {\n    formatTime=formatTime.replace(/\\-/g,\"%2D\")\n  }//replace(/\\+/g,' ') browserTimeZone: `GMT${formatTime}`\n\nlet countrycoderes;\nlet doctorscountrycode;\n\nexport const fetch_appointmentSlot =\n  ({ isStart, isNext, date, typeofconsultation, doctorId }) =>\n  async (dispatch) => {\n\n\n    countrycoderes = await loginedApi.post(\"getcountrycode\",\n    {\n      \"token\": \"token\",\n      \"version\": \"2.0\",\n      \"data\": { browserTimeZone: `GMT${formatTime}`, },\n      \"requestType\": 1058\n    });\n\n    doctorscountrycode = countrycoderes.data.data;\n      \n\n\n    const response = await loginedApi.post(\"doctortimeslots\", {\n      requestType: \"175\",\n      token: \"C2MDVerificationToken\",\n      data: {\n        timeSlotCriteria: {\n          doctorId: doctorId,\n          date: date,\n          isStart: isStart,\n          isNext: isNext,\n          typeofconsultation: typeofconsultation,\n        },\n        // browserTimeZone: \"GMT%2B05:30\",\n        browserTimeZone: `GMT${formatTime}`,\n        todayRate: \"73.49680\",\n        actualRate: \"73.49680\",\n        Ipaddress: doctorscountrycode.Ipaddress, \n        useragent: userAgent,\n        Browser: browser.name+\" \"+browser.version,\n        appname: \"C2MD Web\",\n        Os: platform ,\n        accessCountry: doctorscountrycode.Country,\n        currency: doctorscountrycode.currency,\n      },\n    });\n\n    if (response.status === 200) {\n      dispatch({ type: APPOINTMENT_SLOT, payload: response.data.data });\n    }\n  };\n\n\n\n\n\n\n\n\n\n\n  \n  export const fetch_more_appointmentSlot =\n  ({ isStart, isNext, date, typeofconsultation, doctorId, isClear }) =>\n    async (dispatch) => {\n\n      countrycoderes = await loginedApi.post(\"getcountrycode\",\n        {\n          \"token\": \"token\",\n          \"version\": \"2.0\",\n          \"data\": { browserTimeZone: `GMT${formatTime}`, },\n          \"requestType\": 1058\n        });\n\n      doctorscountrycode = countrycoderes.data.data;\n\n\n      const response = await loginedApi.post(\"doctortimeslots\", {\n        requestType: \"175\",\n        token: \"C2MDVerificationToken\",\n        data: {\n          timeSlotCriteria: {\n            doctorId: doctorId,\n            date: date,\n            isStart: isStart,\n            isNext: isNext,\n            typeofconsultation: typeofconsultation,\n          },\n          browserTimeZone: `GMT${formatTime}`,\n          todayRate: \"73.49680\",\n          actualRate: \"73.49680\",\n          Ipaddress: doctorscountrycode.Ipaddress, \n          useragent: userAgent,\n          Browser: browser.name+\" \"+browser.version,\n          appname: \"C2MD Web\",\n          Os: platform ,\n          accessCountry: doctorscountrycode.Country,\n          currency: doctorscountrycode.currency,\n        },\n      });\n      if (response.status === 200) {\n        console.log(response);\n        dispatch({ type: isClear ? APPOINTMENT_MORE_SLOT_RESET : APPOINTMENT_MORE_SLOT, payload: response.data.data });\n      }\n    };\n\n\n    export const fetch_appointmentTypes = (doctorId) => async (dispatch) => {\n      countrycoderes = await loginedApi.post(\"getcountrycode\",\n        {\n          \"token\": \"token\",\n          \"version\": \"2.0\",\n          \"data\": { browserTimeZone: `GMT${formatTime}`, },\n          \"requestType\": 1058\n        });\n    \n      doctorscountrycode = countrycoderes.data.data;\n      const response = await loginedApi.post(\"gettypeofconsultation\", {\n        requestType: \"182\",\n        token: \"C2MDVerificationToken\",\n        data: {\n          doctorId: doctorId,\n          browserTimeZone: `GMT${formatTime}`,\n          Ipaddress: doctorscountrycode.Ipaddress, \n          useragent: userAgent,\n          Browser: browser.name+\" \"+browser.version,\n          appname: \"C2MD Web\",\n          Os: platform ,\n          accessCountry: doctorscountrycode.Country,\n          currency: doctorscountrycode.currency,\n          todayRate: \"\",\n        },\n      });\n    \n      return response.data.data.Details;\n    };\n    "]},"metadata":{},"sourceType":"module"}