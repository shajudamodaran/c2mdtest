{"ast":null,"code":"var _jsxFileName = \"/home/developer/Projects/Personal/Doctor-dashboard/Doctor Dash/V5/c2md-web_react/src/components/AppointmentPerson/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Style from \"./AppointmentPerson.module.scss\";\nimport Assets from \"../Layout/Assets\";\nimport { Button } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport AddMember from \"../AddMember\";\nimport AgeGender from \"../AgeGender\";\nimport { editMember } from \"../../actions/BookAppoinmentAction\";\nimport moment from \"moment\";\nimport { fetch_family_members, fetch_patient_medicalDetails } from \"../../actions/FamilyMembersAction\";\nimport { updateLoginDetails } from '../../actions/LoginAction';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction AppointmentPerson({\n  progressIncrementer,\n  setAddMemeber,\n  setInnerPage,\n  innerPage,\n  appoinment_form,\n  Store_formData\n}) {\n  _s();\n\n  const userData = useSelector(state => state.login);\n  const dispatch = useDispatch();\n  const memberList = useSelector(state => {\n    var _state$bookAppoinment;\n\n    return (_state$bookAppoinment = state.bookAppoinment) === null || _state$bookAppoinment === void 0 ? void 0 : _state$bookAppoinment.familyMember;\n  });\n  const loginData = useSelector(state => state.login);\n  useEffect(() => {\n    document.querySelector(\"body\").scrollTo(0, 0);\n\n    if (memberList.length <= 1) {\n      dispatch(fetch_family_members({\n        userid: userData\n      }));\n    }\n  }, []);\n  const [editDob, setEditDob] = useState(false);\n  let prevMember = memberList[0];\n  const [member, setMember] = useState();\n  useEffect(() => {\n    setMember(prevMember);\n  }, [prevMember]);\n  const errorInit = {\n    gender: false,\n    dob: false,\n    error: false\n  };\n  const [error, setError] = useState(errorInit);\n\n  const selectProfile = member => {\n    setMember(member);\n    setEditDob(true);\n    setInnerPage(1); // if (member.dob == \"\") {\n    //   setEditDob(true);\n    //   setInnerPage(1);\n    // }\n  };\n\n  useEffect(() => {\n    if (editDob && error.error) {\n      let temp = errorInit;\n\n      if (member.gender == \"\") {\n        temp = { ...temp,\n          gender: true,\n          error: true\n        };\n      }\n\n      if (member.dob == \"\") {\n        temp = { ...temp,\n          dob: true,\n          error: true\n        };\n      }\n\n      setError(temp);\n    }\n  }, [member]);\n\n  const editSubmited = () => {\n    let temp = errorInit;\n\n    if (member.gender == \"\") {\n      temp = { ...temp,\n        gender: true,\n        error: true\n      };\n    }\n\n    if (member.dob == \"\") {\n      temp = { ...temp,\n        dob: true,\n        error: true\n      };\n    }\n\n    setError(temp);\n\n    if (temp.error == false) {\n      dispatch(editMember(member));\n      setEditDob(false);\n      setInnerPage(0);\n    }\n  };\n\n  const Continue = () => {\n    if (member.dob == undefined || member.dob == \"\") {\n      setEditDob(true);\n      setInnerPage(1);\n    } else {\n      var _userData$user, _userData$user2;\n\n      dispatch(updateLoginDetails({ ...loginData,\n        user: { ...loginData.user,\n          dob: member.dob\n        }\n      }));\n      dispatch(Store_formData({ ...appoinment_form,\n        firstName: member.relationship == \"self\" ? userData === null || userData === void 0 ? void 0 : (_userData$user = userData.user) === null || _userData$user === void 0 ? void 0 : _userData$user.profileName : member.memberName,\n        relationship: (member === null || member === void 0 ? void 0 : member.id) ? member === null || member === void 0 ? void 0 : member.id : `rel-${member.relationship}`,\n        gender: member.gender,\n        dob: member.dob,\n        appointmentFor: member.relationship == \"self\" ? \"Self\" : \"Loved One\"\n      }));\n      let userID = member.relationship == \"self\" ? userData === null || userData === void 0 ? void 0 : (_userData$user2 = userData.user) === null || _userData$user2 === void 0 ? void 0 : _userData$user2.userId : member === null || member === void 0 ? void 0 : member.id;\n      dispatch(fetch_patient_medicalDetails({\n        userdata: userData === null || userData === void 0 ? void 0 : userData.user,\n        date: appoinment_form,\n        userID: userID\n      }));\n      progressIncrementer();\n    }\n  };\n\n  return innerPage == 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: Style.book_appointment_main_heading,\n      children: \"Who is the appointment for?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.memberList,\n      children: [memberList && memberList.length > 0 && memberList.map((memer, index) => {\n        var _moment$diff;\n\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${Style.book_appointment_person_input} ${(member === null || member === void 0 ? void 0 : member.memberName) == memer.memberName && (member === null || member === void 0 ? void 0 : member.id) == memer.id && Style.active}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: Style.book_appointment_person_img,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: Assets.person_icon,\n              className: Style.book_appointment_person_icon_image\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: Assets.icon_person_blue,\n              className: Style.book_appointment_person_active_icon_image\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: Style.book_appointment_person_input_box,\n            onClick: () => setMember(memer),\n            children: [memer.memberName, \" \", memer.dob && memer.dob != \"\" && `( ${memer.gender}, ${(_moment$diff = moment().diff(moment(memer.dob, 'DD/MMM/YYYY'), \"years\")) === null || _moment$diff === void 0 ? void 0 : _moment$diff.toString()} yrs )`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: Assets.pencil_icon,\n            className: Style.book_appointment_pencil_icon_image,\n            onClick: () => {\n              selectProfile(memer);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: Assets.blue_edit_icon,\n            className: Style.book_appointment_pencil_active_image,\n            onClick: () => {\n              selectProfile(memer);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: Style.book_appointment_person_input,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: Style.book_appointment_person_img,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: Assets.plus_icon,\n            className: Style.book_appointment_person_icon_image\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: Assets.icon_plus_blue,\n            className: Style.book_appointment_person_active_icon_image\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: Style.book_appointment_person_input_box,\n          onClick: () => {\n            setAddMemeber(true);\n            setInnerPage(innerPage + 1);\n            setEditDob(false);\n          },\n          children: \"For someone else\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: Assets.right_arrow_icon,\n          className: Style.book_appointment_pencil_icon_image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: Assets.icon_arrow_blue,\n          className: Style.book_appointment_pencil_active_image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${Style.btn_floating} btn_floating`,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        className: Style.book_appointment_continue_button,\n        onClick: Continue,\n        children: \"Continue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true) : !editDob ? /*#__PURE__*/_jsxDEV(AddMember, {\n    setInnerPage: setInnerPage,\n    innerPage: innerPage\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 221,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: Style.book_appointment_main_heading,\n      children: \"Age & Gender\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AgeGender, {\n      member: member,\n      setMember: setMember,\n      error: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${Style.btn_floating} btn_floating`,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        className: Style.book_appointment_continue_button,\n        onClick: editSubmited,\n        children: \"Continue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AppointmentPerson, \"HrRJ6WjnsPtG/OlpYhPWBDNJomk=\", false, function () {\n  return [useSelector, useDispatch, useSelector, useSelector];\n});\n\n_c = AppointmentPerson;\nexport default AppointmentPerson;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppointmentPerson\");","map":{"version":3,"sources":["/home/developer/Projects/Personal/Doctor-dashboard/Doctor Dash/V5/c2md-web_react/src/components/AppointmentPerson/index.js"],"names":["React","useState","useEffect","Style","Assets","Button","useDispatch","useSelector","AddMember","AgeGender","editMember","moment","fetch_family_members","fetch_patient_medicalDetails","updateLoginDetails","AppointmentPerson","progressIncrementer","setAddMemeber","setInnerPage","innerPage","appoinment_form","Store_formData","userData","state","login","dispatch","memberList","bookAppoinment","familyMember","loginData","document","querySelector","scrollTo","length","userid","editDob","setEditDob","prevMember","member","setMember","errorInit","gender","dob","error","setError","selectProfile","temp","editSubmited","Continue","undefined","user","firstName","relationship","profileName","memberName","id","appointmentFor","userID","userId","userdata","date","book_appointment_main_heading","map","memer","index","book_appointment_person_input","active","book_appointment_person_img","person_icon","book_appointment_person_icon_image","icon_person_blue","book_appointment_person_active_icon_image","book_appointment_person_input_box","diff","toString","pencil_icon","book_appointment_pencil_icon_image","blue_edit_icon","book_appointment_pencil_active_image","plus_icon","icon_plus_blue","right_arrow_icon","icon_arrow_blue","btn_floating","book_appointment_continue_button"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,iCAAlB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,SAASC,UAAT,QAA2B,oCAA3B;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SACEC,oBADF,EAEEC,4BAFF,QAGO,mCAHP;AAIA,SAAQC,kBAAR,QAAiC,2BAAjC;;;;AAEA,SAASC,iBAAT,CAA2B;AACzBC,EAAAA,mBADyB;AAEzBC,EAAAA,aAFyB;AAGzBC,EAAAA,YAHyB;AAIzBC,EAAAA,SAJyB;AAKzBC,EAAAA,eALyB;AAMzBC,EAAAA;AANyB,CAA3B,EAOG;AAAA;;AACD,QAAMC,QAAQ,GAAGf,WAAW,CAAEgB,KAAD,IAAWA,KAAK,CAACC,KAAlB,CAA5B;AAEA,QAAMC,QAAQ,GAAGnB,WAAW,EAA5B;AACA,QAAMoB,UAAU,GAAGnB,WAAW,CAAEgB,KAAD;AAAA;;AAAA,oCAAWA,KAAK,CAACI,cAAjB,0DAAW,sBAAsBC,YAAjC;AAAA,GAAD,CAA9B;AACA,QAAMC,SAAS,GAAGtB,WAAW,CAAEgB,KAAD,IAAWA,KAAK,CAACC,KAAlB,CAA7B;AAEAtB,EAAAA,SAAS,CAAC,MAAM;AACd4B,IAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,QAA/B,CAAwC,CAAxC,EAA2C,CAA3C;;AACA,QAAGN,UAAU,CAACO,MAAX,IAAmB,CAAtB,EAAwB;AACtBR,MAAAA,QAAQ,CAACb,oBAAoB,CAAC;AAAEsB,QAAAA,MAAM,EAAEZ;AAAV,OAAD,CAArB,CAAR;AAED;AACF,GANQ,EAMN,EANM,CAAT;AAQA,QAAM,CAACa,OAAD,EAAUC,UAAV,IAAwBnC,QAAQ,CAAC,KAAD,CAAtC;AACA,MAAIoC,UAAU,GAAGX,UAAU,CAAC,CAAD,CAA3B;AACA,QAAM,CAACY,MAAD,EAASC,SAAT,IAAsBtC,QAAQ,EAApC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdqC,IAAAA,SAAS,CAACF,UAAD,CAAT;AACD,GAFQ,EAEN,CAACA,UAAD,CAFM,CAAT;AAIA,QAAMG,SAAS,GAAG;AAChBC,IAAAA,MAAM,EAAE,KADQ;AAEhBC,IAAAA,GAAG,EAAE,KAFW;AAGhBC,IAAAA,KAAK,EAAE;AAHS,GAAlB;AAKA,QAAM,CAACA,KAAD,EAAQC,QAAR,IAAoB3C,QAAQ,CAACuC,SAAD,CAAlC;;AAEA,QAAMK,aAAa,GAAIP,MAAD,IAAY;AAChCC,IAAAA,SAAS,CAACD,MAAD,CAAT;AAEAF,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAlB,IAAAA,YAAY,CAAC,CAAD,CAAZ,CAJgC,CAMhC;AACA;AACA;AACA;AACD,GAVD;;AAYAhB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIiC,OAAO,IAAIQ,KAAK,CAACA,KAArB,EAA4B;AAC1B,UAAIG,IAAI,GAAGN,SAAX;;AACA,UAAIF,MAAM,CAACG,MAAP,IAAiB,EAArB,EAAyB;AACvBK,QAAAA,IAAI,GAAG,EAAE,GAAGA,IAAL;AAAWL,UAAAA,MAAM,EAAE,IAAnB;AAAyBE,UAAAA,KAAK,EAAE;AAAhC,SAAP;AACD;;AACD,UAAIL,MAAM,CAACI,GAAP,IAAc,EAAlB,EAAsB;AACpBI,QAAAA,IAAI,GAAG,EAAE,GAAGA,IAAL;AAAWJ,UAAAA,GAAG,EAAE,IAAhB;AAAsBC,UAAAA,KAAK,EAAE;AAA7B,SAAP;AACD;;AACDC,MAAAA,QAAQ,CAACE,IAAD,CAAR;AACD;AACF,GAXQ,EAWN,CAACR,MAAD,CAXM,CAAT;;AAaA,QAAMS,YAAY,GAAG,MAAM;AACzB,QAAID,IAAI,GAAGN,SAAX;;AACA,QAAIF,MAAM,CAACG,MAAP,IAAiB,EAArB,EAAyB;AACvBK,MAAAA,IAAI,GAAG,EAAE,GAAGA,IAAL;AAAWL,QAAAA,MAAM,EAAE,IAAnB;AAAyBE,QAAAA,KAAK,EAAE;AAAhC,OAAP;AACD;;AACD,QAAIL,MAAM,CAACI,GAAP,IAAc,EAAlB,EAAsB;AACpBI,MAAAA,IAAI,GAAG,EAAE,GAAGA,IAAL;AAAWJ,QAAAA,GAAG,EAAE,IAAhB;AAAsBC,QAAAA,KAAK,EAAE;AAA7B,OAAP;AACD;;AACDC,IAAAA,QAAQ,CAACE,IAAD,CAAR;;AACA,QAAIA,IAAI,CAACH,KAAL,IAAc,KAAlB,EAAyB;AAEvBlB,MAAAA,QAAQ,CAACf,UAAU,CAAC4B,MAAD,CAAX,CAAR;AACAF,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAlB,MAAAA,YAAY,CAAC,CAAD,CAAZ;AACD;AACF,GAfD;;AAiBA,QAAM8B,QAAQ,GAAG,MAAM;AACrB,QAAIV,MAAM,CAACI,GAAP,IAAYO,SAAZ,IAAuBX,MAAM,CAACI,GAAP,IAAc,EAAzC,EAA6C;AAC3CN,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAlB,MAAAA,YAAY,CAAC,CAAD,CAAZ;AACD,KAHD,MAGO;AAAA;;AACLO,MAAAA,QAAQ,CAACX,kBAAkB,CAAC,EAAC,GAAGe,SAAJ;AAAcqB,QAAAA,IAAI,EAAC,EAAC,GAAGrB,SAAS,CAACqB,IAAd;AAAmBR,UAAAA,GAAG,EAACJ,MAAM,CAACI;AAA9B;AAAnB,OAAD,CAAnB,CAAR;AACAjB,MAAAA,QAAQ,CACNJ,cAAc,CAAC,EACb,GAAGD,eADU;AAEb+B,QAAAA,SAAS,EACPb,MAAM,CAACc,YAAP,IAAuB,MAAvB,GACI9B,QADJ,aACIA,QADJ,yCACIA,QAAQ,CAAE4B,IADd,mDACI,eAAgBG,WADpB,GAEIf,MAAM,CAACgB,UALA;AAMbF,QAAAA,YAAY,EAAE,CAAAd,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEiB,EAAR,IAAajB,MAAb,aAAaA,MAAb,uBAAaA,MAAM,CAAEiB,EAArB,GAA2B,OAAMjB,MAAM,CAACc,YAAa,EANtD;AAObX,QAAAA,MAAM,EAAEH,MAAM,CAACG,MAPF;AAQbC,QAAAA,GAAG,EAAEJ,MAAM,CAACI,GARC;AASbc,QAAAA,cAAc,EAAElB,MAAM,CAACc,YAAP,IAAuB,MAAvB,GAAgC,MAAhC,GAAyC;AAT5C,OAAD,CADR,CAAR;AAaA,UAAIK,MAAM,GACRnB,MAAM,CAACc,YAAP,IAAuB,MAAvB,GAAgC9B,QAAhC,aAAgCA,QAAhC,0CAAgCA,QAAQ,CAAE4B,IAA1C,oDAAgC,gBAAgBQ,MAAhD,GAAyDpB,MAAzD,aAAyDA,MAAzD,uBAAyDA,MAAM,CAAEiB,EADnE;AAEA9B,MAAAA,QAAQ,CACNZ,4BAA4B,CAAC;AAC3B8C,QAAAA,QAAQ,EAAErC,QAAF,aAAEA,QAAF,uBAAEA,QAAQ,CAAE4B,IADO;AAE3BU,QAAAA,IAAI,EAAExC,eAFqB;AAG3BqC,QAAAA,MAAM,EAAEA;AAHmB,OAAD,CADtB,CAAR;AAOAzC,MAAAA,mBAAmB;AACpB;AACF,GA9BD;;AAgCA,SAAOG,SAAS,IAAI,CAAb,gBACL;AAAA,4BACE;AAAI,MAAA,SAAS,EAAEhB,KAAK,CAAC0D,6BAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAIE;AAAK,MAAA,SAAS,EAAE1D,KAAK,CAACuB,UAAtB;AAAA,iBACCA,UAAU,IACTA,UAAU,CAACO,MAAX,GAAoB,CADrB,IAECP,UAAU,CAACoC,GAAX,CAAe,CAACC,KAAD,EAAQC,KAAR;AAAA;;AAAA,4BACb;AACE,UAAA,SAAS,EAAG,GAAE7D,KAAK,CAAC8D,6BAA8B,IAC/C,CAAA3B,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEgB,UAAR,KAAsBS,KAAK,CAACT,UAA5B,IAA0C,CAAAhB,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEiB,EAAR,KAAYQ,KAAK,CAACR,EAA7D,IAAoEpD,KAAK,CAAC+D,MAC3E,EAHH;AAAA,kCAKE;AAAK,YAAA,SAAS,EAAE/D,KAAK,CAACgE,2BAAtB;AAAA,oCACE;AACE,cAAA,GAAG,EAAE/D,MAAM,CAACgE,WADd;AAEE,cAAA,SAAS,EAAEjE,KAAK,CAACkE;AAFnB;AAAA;AAAA;AAAA;AAAA,oBADF,eAKE;AACE,cAAA,GAAG,EAAEjE,MAAM,CAACkE,gBADd;AAEE,cAAA,SAAS,EAAEnE,KAAK,CAACoE;AAFnB;AAAA;AAAA;AAAA;AAAA,oBALF;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF,eAgBE,QAAC,MAAD;AACE,YAAA,SAAS,EAAEpE,KAAK,CAACqE,iCADnB;AAEE,YAAA,OAAO,EAAE,MAAMjC,SAAS,CAACwB,KAAD,CAF1B;AAAA,uBAIGA,KAAK,CAACT,UAJT,EAIqB,GAJrB,EAKIS,KAAK,CAACrB,GAAN,IAAWqB,KAAK,CAACrB,GAAN,IAAa,EAAzB,IACE,KAAIqB,KAAK,CAACtB,MAAO,KAAlB,gBAAsB9B,MAAM,GACzB8D,IADmB,CACd9D,MAAM,CAACoD,KAAK,CAACrB,GAAP,EAAW,aAAX,CADQ,EACmB,OADnB,CAAtB,iDAAsB,aAElBgC,QAFkB,EAEP,QARnB;AAAA;AAAA;AAAA;AAAA;AAAA,kBAhBF,eA0BE;AACE,YAAA,GAAG,EAAEtE,MAAM,CAACuE,WADd;AAEE,YAAA,SAAS,EAAExE,KAAK,CAACyE,kCAFnB;AAGE,YAAA,OAAO,EAAE,MAAM;AACb/B,cAAAA,aAAa,CAACkB,KAAD,CAAb;AACD;AALH;AAAA;AAAA;AAAA;AAAA,kBA1BF,eAiCE;AACE,YAAA,GAAG,EAAE3D,MAAM,CAACyE,cADd;AAEE,YAAA,SAAS,EAAE1E,KAAK,CAAC2E,oCAFnB;AAGE,YAAA,OAAO,EAAE,MAAM;AACbjC,cAAAA,aAAa,CAACkB,KAAD,CAAb;AACD;AALH;AAAA;AAAA;AAAA;AAAA,kBAjCF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADa;AAAA,OAAf,CAHF,eA+CA;AAAK,QAAA,SAAS,EAAE5D,KAAK,CAAC8D,6BAAtB;AAAA,gCACE;AAAK,UAAA,SAAS,EAAE9D,KAAK,CAACgE,2BAAtB;AAAA,kCACE;AACE,YAAA,GAAG,EAAE/D,MAAM,CAAC2E,SADd;AAEE,YAAA,SAAS,EAAE5E,KAAK,CAACkE;AAFnB;AAAA;AAAA;AAAA;AAAA,kBADF,eAKE;AACE,YAAA,GAAG,EAAEjE,MAAM,CAAC4E,cADd;AAEE,YAAA,SAAS,EAAE7E,KAAK,CAACoE;AAFnB;AAAA;AAAA;AAAA;AAAA,kBALF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAWE,QAAC,MAAD;AACE,UAAA,SAAS,EAAEpE,KAAK,CAACqE,iCADnB;AAEE,UAAA,OAAO,EAAE,MAAM;AACbvD,YAAAA,aAAa,CAAC,IAAD,CAAb;AACAC,YAAAA,YAAY,CAACC,SAAS,GAAG,CAAb,CAAZ;AACAiB,YAAAA,UAAU,CAAC,KAAD,CAAV;AACD,WANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAXF,eAqBE;AACE,UAAA,GAAG,EAAEhC,MAAM,CAAC6E,gBADd;AAEE,UAAA,SAAS,EAAE9E,KAAK,CAACyE;AAFnB;AAAA;AAAA;AAAA;AAAA,gBArBF,eAyBE;AACE,UAAA,GAAG,EAAExE,MAAM,CAAC8E,eADd;AAEE,UAAA,SAAS,EAAE/E,KAAK,CAAC2E;AAFnB;AAAA;AAAA;AAAA;AAAA,gBAzBF;AAAA;AAAA;AAAA;AAAA;AAAA,cA/CA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF,eAmFE;AAAK,MAAA,SAAS,EAAG,GAAE3E,KAAK,CAACgF,YAAa,eAAtC;AAAA,6BACE,QAAC,MAAD;AACE,QAAA,SAAS,EAAEhF,KAAK,CAACiF,gCADnB;AAEE,QAAA,OAAO,EAAEpC,QAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAnFF;AAAA,kBADK,GA6FH,CAACb,OAAD,gBACF,QAAC,SAAD;AAAW,IAAA,YAAY,EAAEjB,YAAzB;AAAuC,IAAA,SAAS,EAAEC;AAAlD;AAAA;AAAA;AAAA;AAAA,UADE,gBAGF;AAAA,4BACE;AAAI,MAAA,SAAS,EAAEhB,KAAK,CAAC0D,6BAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,SAAD;AAAW,MAAA,MAAM,EAAEvB,MAAnB;AAA2B,MAAA,SAAS,EAAEC,SAAtC;AAAiD,MAAA,KAAK,EAAEI;AAAxD;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE;AAAK,MAAA,SAAS,EAAG,GAAExC,KAAK,CAACgF,YAAa,eAAtC;AAAA,6BACE,QAAC,MAAD;AACE,QAAA,SAAS,EAAEhF,KAAK,CAACiF,gCADnB;AAEE,QAAA,OAAO,EAAErC,YAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAHF;AAAA,kBAhGF;AA6GD;;GA5NQhC,iB;UAQUR,W,EAEAD,W,EACEC,W,EACDA,W;;;KAZXQ,iB;AA8NT,eAAeA,iBAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Style from \"./AppointmentPerson.module.scss\";\nimport Assets from \"../Layout/Assets\";\nimport { Button } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport AddMember from \"../AddMember\";\nimport AgeGender from \"../AgeGender\";\nimport { editMember } from \"../../actions/BookAppoinmentAction\";\nimport moment from \"moment\";\nimport {\n  fetch_family_members,\n  fetch_patient_medicalDetails,\n} from \"../../actions/FamilyMembersAction\";\nimport {updateLoginDetails} from '../../actions/LoginAction';\n\nfunction AppointmentPerson({\n  progressIncrementer,\n  setAddMemeber,\n  setInnerPage,\n  innerPage,\n  appoinment_form,\n  Store_formData,\n}) {\n  const userData = useSelector((state) => state.login);\n\n  const dispatch = useDispatch();\n  const memberList = useSelector((state) => state.bookAppoinment?.familyMember);\n  const loginData = useSelector((state) => state.login);\n\n  useEffect(() => {\n    document.querySelector(\"body\").scrollTo(0, 0);\n    if(memberList.length<=1){\n      dispatch(fetch_family_members({ userid: userData }));\n\n    }\n  }, []);\n\n  const [editDob, setEditDob] = useState(false);\n  let prevMember = memberList[0];\n  const [member, setMember] = useState();\n\n  useEffect(() => {\n    setMember(prevMember);\n  }, [prevMember]);\n\n  const errorInit = {\n    gender: false,\n    dob: false,\n    error: false,\n  };\n  const [error, setError] = useState(errorInit);\n\n  const selectProfile = (member) => {\n    setMember(member);\n\n    setEditDob(true);\n    setInnerPage(1);\n\n    // if (member.dob == \"\") {\n    //   setEditDob(true);\n    //   setInnerPage(1);\n    // }\n  };\n\n  useEffect(() => {\n    if (editDob && error.error) {\n      let temp = errorInit;\n      if (member.gender == \"\") {\n        temp = { ...temp, gender: true, error: true };\n      }\n      if (member.dob == \"\") {\n        temp = { ...temp, dob: true, error: true };\n      }\n      setError(temp);\n    }\n  }, [member]);\n\n  const editSubmited = () => {\n    let temp = errorInit;\n    if (member.gender == \"\") {\n      temp = { ...temp, gender: true, error: true };\n    }\n    if (member.dob == \"\") {\n      temp = { ...temp, dob: true, error: true };\n    }\n    setError(temp);\n    if (temp.error == false) {\n     \n      dispatch(editMember(member));\n      setEditDob(false);\n      setInnerPage(0);\n    }\n  };\n\n  const Continue = () => {\n    if (member.dob==undefined||member.dob == \"\") {\n      setEditDob(true);\n      setInnerPage(1);\n    } else {\n      dispatch(updateLoginDetails({...loginData,user:{...loginData.user,dob:member.dob}}))\n      dispatch(\n        Store_formData({\n          ...appoinment_form,\n          firstName:\n            member.relationship == \"self\"\n              ? userData?.user?.profileName\n              : member.memberName,\n          relationship: member?.id ? member?.id : `rel-${member.relationship}`,\n          gender: member.gender,\n          dob: member.dob,\n          appointmentFor: member.relationship == \"self\" ? \"Self\" : \"Loved One\",\n        })\n      );\n      let userID =\n        member.relationship == \"self\" ? userData?.user?.userId : member?.id;\n      dispatch(\n        fetch_patient_medicalDetails({\n          userdata: userData?.user,\n          date: appoinment_form,\n          userID: userID,\n        })\n      );\n      progressIncrementer();\n    }\n  };\n\n  return innerPage == 0 ? (\n    <>\n      <h3 className={Style.book_appointment_main_heading}>\n        Who is the appointment for?\n      </h3>\n      <div className={Style.memberList}>\n      {memberList &&\n        memberList.length > 0 &&\n        memberList.map((memer, index) => (\n          <div\n            className={`${Style.book_appointment_person_input} ${\n              (member?.memberName == memer.memberName && member?.id==memer.id) && Style.active\n            }`}\n          >\n            <div className={Style.book_appointment_person_img}>\n              <img\n                src={Assets.person_icon}\n                className={Style.book_appointment_person_icon_image}\n              ></img>\n              <img\n                src={Assets.icon_person_blue}\n                className={Style.book_appointment_person_active_icon_image}\n              ></img>\n            </div>\n\n            <Button\n              className={Style.book_appointment_person_input_box}\n              onClick={() => setMember(memer)}\n            >\n              {memer.memberName}{\" \"}\n              {(memer.dob&&memer.dob != \"\") &&\n                `( ${memer.gender}, ${moment()\n                  .diff(moment(memer.dob,'DD/MMM/YYYY'), \"years\")\n                  ?.toString()} yrs )`}\n            </Button>\n            <img\n              src={Assets.pencil_icon}\n              className={Style.book_appointment_pencil_icon_image}\n              onClick={() => {\n                selectProfile(memer);\n              }}\n            ></img>\n            <img\n              src={Assets.blue_edit_icon}\n              className={Style.book_appointment_pencil_active_image}\n              onClick={() => {\n                selectProfile(memer);\n              }}\n            ></img>\n          </div>\n        ))}\n\n      <div className={Style.book_appointment_person_input}>\n        <div className={Style.book_appointment_person_img}>\n          <img\n            src={Assets.plus_icon}\n            className={Style.book_appointment_person_icon_image}\n          ></img>\n          <img\n            src={Assets.icon_plus_blue}\n            className={Style.book_appointment_person_active_icon_image}\n          ></img>\n        </div>\n        <Button\n          className={Style.book_appointment_person_input_box}\n          onClick={() => {\n            setAddMemeber(true);\n            setInnerPage(innerPage + 1);\n            setEditDob(false);\n          }}\n        >\n          For someone else\n        </Button>\n        <img\n          src={Assets.right_arrow_icon}\n          className={Style.book_appointment_pencil_icon_image}\n        ></img>\n        <img\n          src={Assets.icon_arrow_blue}\n          className={Style.book_appointment_pencil_active_image}\n        ></img>\n      </div>\n      </div>\n\n      <div className={`${Style.btn_floating} btn_floating`}>\n        <Button\n          className={Style.book_appointment_continue_button}\n          onClick={Continue}\n        >\n          Continue\n        </Button>\n      </div>\n    </>\n  ) : !editDob ? (\n    <AddMember setInnerPage={setInnerPage} innerPage={innerPage} />\n  ) : (\n    <>\n      <h3 className={Style.book_appointment_main_heading}>Age & Gender</h3>\n      <AgeGender member={member} setMember={setMember} error={error} />\n      <div className={`${Style.btn_floating} btn_floating`}>\n        <Button\n          className={Style.book_appointment_continue_button}\n          onClick={editSubmited}\n        >\n          Continue\n        </Button>\n      </div>\n    </>\n  );\n}\n\nexport default AppointmentPerson;\n"]},"metadata":{},"sourceType":"module"}