{"ast":null,"code":"var _formatTime;\n\nimport loginedApi from \"../apis/index\";\nimport { DOCTOR_LISTING } from \"./type\";\n\nconst {\n  detect\n} = require(\"detect-browser\");\n\nconst browser = detect();\nlet platform = window.navigator.platform;\nlet userAgent = window.navigator.userAgent;\nlet off = new Date().toString().replace(/GMT\\+(\\d\\d)(\\d\\d)/, \"GMT+$1:$2\");\nlet formatTime = off === null || off === void 0 ? void 0 : off.split(\"GMT\")[1].split(\" (\")[0];\nlet result = (_formatTime = formatTime) === null || _formatTime === void 0 ? void 0 : _formatTime.slice(1);\n\nif (formatTime.search(/\\+/g) != null) {\n  formatTime = formatTime.replace(/\\+/g, \"%2B\");\n} else if (formatTime.search(/\\-/g) != null) {\n  formatTime = formatTime.replace(/\\-/g, \"%2D\");\n} //replace(/\\+/g,' ') browserTimeZone: `GMT${formatTime}`\n\n\nexport const fetch_doctors = (speciality, clinicId, pagination) => async dispatch => {\n  console.log({\n    speciality,\n    clinicId,\n    pagination\n  });\n  let resp = await loginedApi.post(\"getcountrycode\", {\n    token: \"token\",\n    version: \"2.0\",\n    data: {\n      browserTimeZone: `GMT${formatTime}`\n    },\n    requestType: 1058\n  });\n  const doctorscountrycode = resp.data.data;\n  let params = {\n    data: {\n      clinicId: clinicId,\n      todayRate: \"74.27006\",\n      searchName: \"\",\n      City: \"\",\n      speciality: speciality,\n      browserTimeZone: `GMT${formatTime}`,\n      Ipaddress: doctorscountrycode.Ipaddress,\n      useragent: userAgent,\n      Browser: browser.name + \" \" + browser.version,\n      appname: \"C2MD Web\",\n      Os: platform,\n      currency: doctorscountrycode.currency,\n      accessCountry: doctorscountrycode.Country\n    },\n    requestType: \"604\",\n    token: \"C2MDVerificationToken\"\n  };\n  let getalldoctors = {\n    requestType: \"259\",\n    token: \"C2MDVerificationToken\",\n    data: {\n      browserTimeZone: `GMT${formatTime}`,\n      Ipaddress: doctorscountrycode.Ipaddress,\n      useragent: userAgent,\n      Browser: browser.name + \" \" + browser.version,\n      appname: \"C2MD Web\",\n      Os: platform,\n      currency: doctorscountrycode.currency,\n      accessCountry: doctorscountrycode.Country,\n      todayRate: \"\",\n      clinicId: clinicId,\n      searchName: \"\",\n      City: \"\",\n      count: pagination\n    }\n  };\n\n  if (clinicId != \"\") {\n    params.data.clinicId = clinicId;\n  }\n\n  let res = null; //Only if there is clinic id.................................\n\n  if (clinicId) {\n    if (speciality && speciality != \"ALL\") {\n      res = await loginedApi.post(\"searchDoctor\", params);\n      console.log(\"Searching doctors...........................\", params);\n    } else {\n      res = await loginedApi.post(\"getdoctors\", getalldoctors);\n      console.log(\"loading all doctors...........................\");\n    }\n\n    if (res.status === 200) {\n      var _doctors$citiesSet;\n\n      const doctors = res.data.data;\n      let location = [{\n        value: \"All\",\n        checked: false\n      }];\n      let hospitals = [{\n        value: \"All\",\n        checked: false\n      }];\n      let languagesSet = [{\n        value: \"All\",\n        checked: false\n      }, {\n        value: \"English\",\n        checked: false\n      }, {\n        value: \"Hindi\",\n        checked: false\n      }, {\n        value: \"Tamil\",\n        checked: false\n      }];\n      doctors === null || doctors === void 0 ? void 0 : doctors.Hospitals.map(item => {\n        item && hospitals.push({\n          value: item,\n          checked: false\n        });\n      });\n      doctors === null || doctors === void 0 ? void 0 : (_doctors$citiesSet = doctors.citiesSet) === null || _doctors$citiesSet === void 0 ? void 0 : _doctors$citiesSet.map(item => {\n        item && location.push({\n          value: item,\n          checked: false\n        });\n      });\n      doctors === null || doctors === void 0 ? void 0 : doctors.languagesSet.map(item => {\n        item && location.push({\n          value: item,\n          checked: false\n        });\n      });\n      dispatch({\n        type: DOCTOR_LISTING,\n        payload: {\n          speciality,\n          doctors: doctors,\n          location: location,\n          hospitals: hospitals,\n          languagesSet: languagesSet,\n          indexCharacters: doctors === null || doctors === void 0 ? void 0 : doctors.indexCharacters\n        }\n      });\n    }\n  }\n};\nexport const fetch_alldoctors = (count, clinicId) => async dispatch => {\n  var _res;\n\n  // let reduxData = useSelector(state => state)\n  // console.log(\"88888888888\",reduxData)\n  const countrycoderes = await loginedApi.post(\"getcountrycode\", {\n    \"token\": \"token\",\n    \"version\": \"2.0\",\n    \"data\": {\n      browserTimeZone: `GMT${formatTime}`\n    },\n    \"requestType\": 1058\n  });\n  const doctorscountrycode = countrycoderes.data.data;\n  let params = {\n    data: {\n      clinicId: clinicId,\n      Ipaddress: doctorscountrycode.Ipaddress,\n      useragent: userAgent,\n      todayRate: \"74.27006\",\n      currency: doctorscountrycode.currency,\n      accessCountry: doctorscountrycode.Country,\n      searchName: \"\",\n      browserTimeZone: `GMT${formatTime}`,\n      Os: platform,\n      City: \"\",\n      count: count\n    },\n    requestType: \"259\",\n    token: \"C2MDVerificationToken\"\n  };\n\n  if (clinicId != \"\") {\n    params.data.clinicId = clinicId;\n  }\n\n  let res;\n\n  if (clinicId != \"\" && clinicId != undefined) {\n    res = await loginedApi.post(\"getdoctors\", params);\n  }\n\n  console.log(\"res-->\", res);\n\n  if (((_res = res) === null || _res === void 0 ? void 0 : _res.status) === 200) {\n    const doctors = res.data.data;\n    let location = [{\n      value: \"All\",\n      checked: false\n    }];\n    let hospitals = [{\n      value: \"All\",\n      checked: false\n    }];\n    let languagesSet = [{\n      value: \"All\",\n      checked: false\n    }, {\n      value: \"English\",\n      checked: false\n    }, {\n      value: \"Hindi\",\n      checked: false\n    }, {\n      value: \"Tamil\",\n      checked: false\n    }];\n    doctors.Hospitals.map(item => {\n      item && hospitals.push({\n        value: item,\n        checked: false\n      });\n    });\n    doctors.citiesSet.map(item => {\n      item && location.push({\n        value: item,\n        checked: false\n      });\n    });\n    doctors.languagesSet.map(item => {\n      item && location.push({\n        value: item,\n        checked: false\n      });\n    });\n    console.log(doctors.doctorDetails.length);\n    dispatch({\n      type: DOCTOR_LISTING,\n      payload: {\n        doctors: doctors,\n        location: location,\n        hospitals: hospitals,\n        languagesSet: languagesSet,\n        indexCharacters: doctors === null || doctors === void 0 ? void 0 : doctors.indexCharacters\n      }\n    });\n  }\n};","map":{"version":3,"sources":["/home/veena/Downloads/WEB_PUSH/c2md-web_react/src/actions/DoctorListingAction.js"],"names":["loginedApi","DOCTOR_LISTING","detect","require","browser","platform","window","navigator","userAgent","off","Date","toString","replace","formatTime","split","result","slice","search","fetch_doctors","speciality","clinicId","pagination","dispatch","console","log","resp","post","token","version","data","browserTimeZone","requestType","doctorscountrycode","params","todayRate","searchName","City","Ipaddress","useragent","Browser","name","appname","Os","currency","accessCountry","Country","getalldoctors","count","res","status","doctors","location","value","checked","hospitals","languagesSet","Hospitals","map","item","push","citiesSet","type","payload","indexCharacters","fetch_alldoctors","countrycoderes","undefined","doctorDetails","length"],"mappings":"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","sourcesContent":["import loginedApi from \"../apis/index\";\nimport { DOCTOR_LISTING } from \"./type\";\nconst { detect } = require(\"detect-browser\");\nconst browser = detect();\nlet platform = window.navigator.platform;\nlet userAgent = window.navigator.userAgent;\nlet off = new Date().toString().replace(/GMT\\+(\\d\\d)(\\d\\d)/, \"GMT+$1:$2\");\nlet formatTime = off?.split(\"GMT\")[1].split(\" (\")[0];\nlet result = formatTime?.slice(1);\nif (formatTime.search(/\\+/g) != null) {\n  formatTime = formatTime.replace(/\\+/g, \"%2B\");\n} else if (formatTime.search(/\\-/g) != null) {\n  formatTime = formatTime.replace(/\\-/g, \"%2D\");\n} //replace(/\\+/g,' ') browserTimeZone: `GMT${formatTime}`\n\nexport const fetch_doctors =\n  (speciality, clinicId, pagination) => async (dispatch) => {\n\n\n    console.log({ speciality, clinicId, pagination });\n\n\n    let resp = await loginedApi.post(\"getcountrycode\", {\n      token: \"token\",\n      version: \"2.0\",\n      data: { browserTimeZone: `GMT${formatTime}` },\n      requestType: 1058,\n    });\n    const doctorscountrycode = resp.data.data;\n\n    let params = {\n      data: {\n        clinicId: clinicId,\n        todayRate: \"74.27006\",\n        searchName: \"\",\n        City: \"\",\n        speciality: speciality,\n        browserTimeZone: `GMT${formatTime}`,\n        Ipaddress: doctorscountrycode.Ipaddress,\n        useragent: userAgent,\n        Browser: browser.name + \" \" + browser.version,\n        appname: \"C2MD Web\",\n        Os: platform,\n        currency: doctorscountrycode.currency,\n        accessCountry: doctorscountrycode.Country,\n\n      },\n      requestType: \"604\",\n      token: \"C2MDVerificationToken\",\n    };\n\n\n    let getalldoctors = {\n      requestType: \"259\",\n      token: \"C2MDVerificationToken\",\n      data: {\n        browserTimeZone: `GMT${formatTime}`,\n        Ipaddress: doctorscountrycode.Ipaddress,\n        useragent: userAgent,\n        Browser: browser.name + \" \" + browser.version,\n        appname: \"C2MD Web\",\n        Os: platform,\n        currency: doctorscountrycode.currency,\n        accessCountry: doctorscountrycode.Country,\n        todayRate: \"\",\n        clinicId: clinicId,\n        searchName: \"\",\n        City: \"\",\n        count: pagination,\n\n      },\n    };\n\n    if (clinicId != \"\") {\n      params.data.clinicId = clinicId;\n    }\n\n    let res = null;\n\n\n    //Only if there is clinic id.................................\n\n    if (clinicId) {\n\n      if (speciality && speciality != \"ALL\") {\n\n        res = await loginedApi.post(\"searchDoctor\", params);\n        console.log(\"Searching doctors...........................\",params);\n      \n      } else {\n\n\n        res = await loginedApi.post(\"getdoctors\", getalldoctors);\n        console.log(\"loading all doctors...........................\");\n      }\n\n      if (res.status === 200) {\n        const doctors = res.data.data;\n\n        let location = [{ value: \"All\", checked: false }];\n        let hospitals = [{ value: \"All\", checked: false }];\n        let languagesSet = [\n          { value: \"All\", checked: false },\n          { value: \"English\", checked: false },\n          { value: \"Hindi\", checked: false },\n          { value: \"Tamil\", checked: false },\n        ];\n\n        doctors?.Hospitals.map((item) => {\n          item && hospitals.push({ value: item, checked: false });\n        });\n        doctors?.citiesSet?.map((item) => {\n          item && location.push({ value: item, checked: false });\n        });\n        doctors?.languagesSet.map((item) => {\n          item && location.push({ value: item, checked: false });\n        });\n\n    \n        dispatch({\n          type: DOCTOR_LISTING,\n          payload: {\n            speciality,\n            doctors: doctors,\n            location: location,\n            hospitals: hospitals,\n            languagesSet: languagesSet,\n            indexCharacters: doctors?.indexCharacters,\n          },\n        });\n      }\n    }\n\n  };\n\nexport const fetch_alldoctors = (count, clinicId) => async (dispatch) => {\n  // let reduxData = useSelector(state => state)\n  // console.log(\"88888888888\",reduxData)\n  const countrycoderes = await loginedApi.post(\"getcountrycode\",\n    {\n      \"token\": \"token\",\n      \"version\": \"2.0\",\n      \"data\": { browserTimeZone: `GMT${formatTime}`, },\n      \"requestType\": 1058\n    });\n\n  const doctorscountrycode = countrycoderes.data.data;\n\n  let params = {\n    data: {\n      clinicId: clinicId,\n      Ipaddress: doctorscountrycode.Ipaddress,\n      useragent: userAgent,\n      todayRate: \"74.27006\",\n      currency: doctorscountrycode.currency,\n      accessCountry: doctorscountrycode.Country,\n      searchName: \"\",\n      browserTimeZone: `GMT${formatTime}`,\n      Os: platform,\n      City: \"\",\n\n      count: count,\n    },\n    requestType: \"259\",\n    token: \"C2MDVerificationToken\",\n  };\n\n  if (clinicId != \"\") {\n    params.data.clinicId = clinicId;\n  }\n\n\n  let res;\n  if (clinicId != \"\" && clinicId != undefined) {\n    res = await loginedApi.post(\"getdoctors\", params);\n  }\n  console.log(\"res-->\", res)\n\n  if (res?.status === 200) {\n    const doctors = res.data.data;\n\n    let location = [{ value: \"All\", checked: false }];\n    let hospitals = [{ value: \"All\", checked: false }];\n    let languagesSet = [\n      { value: \"All\", checked: false },\n      { value: \"English\", checked: false },\n      { value: \"Hindi\", checked: false },\n      { value: \"Tamil\", checked: false },\n    ];\n\n    doctors.Hospitals.map((item) => {\n      item && hospitals.push({ value: item, checked: false });\n    });\n    doctors.citiesSet.map((item) => {\n      item && location.push({ value: item, checked: false });\n    });\n    doctors.languagesSet.map((item) => {\n      item && location.push({ value: item, checked: false });\n    });\n\n\n    console.log(doctors.doctorDetails.length);\n\n\n    dispatch({\n      type: DOCTOR_LISTING,\n      payload: {\n        doctors: doctors,\n        location: location,\n        hospitals: hospitals,\n        languagesSet: languagesSet,\n        indexCharacters: doctors?.indexCharacters,\n      },\n    });\n  }\n};"]},"metadata":{},"sourceType":"module"}